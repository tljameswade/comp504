<?xml version="1.0" encoding="UTF-8"?>
<xmi:XMI xmi:version="20131001" xmlns:xmi="http://www.omg.org/spec/XMI/20131001" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:UMLLabProfile="http:///schemas/UMLLabProfile/NS/0" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:uml="http://www.eclipse.org/uml2/5.0.0/UML" xsi:schemaLocation="http:///schemas/UMLLabProfile/NS/0 pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile">
  <uml:Model xmi:id="_7q0UUJGPEeaIQ-hA1qOqOA" name="HW06VisitorsandHosts">
    <eAnnotations xmi:id="_8ElfMJGPEeaIQ-hA1qOqOA" source="http://ns.yatta.de/umllab">
      <contents xmi:type="ecore:EAnnotation" xmi:id="_8ElfMZGPEeaIQ-hA1qOqOA" source="codegen">
        <details xmi:id="_8ElfMpGPEeaIQ-hA1qOqOA" key="codegenDirectory" value="/HW06/src"/>
        <details xmi:id="_9pg1oJGPEeaIQ-hA1qOqOA" key="AssociatedSourceCode" value="/HW06/src/controller/MusicPlayerController.java;3207831901/1;/HW06/src/model/IViewAdapter.java;809243509/1;/HW06/src/model/MusicPlayerModel.java;758711874/1;/HW06/src/model/visitor/PlayMusicVisitor.java;2649163485/1;/HW06/src/model/visitor/ToStringVisitor.java;1099909100/1;/HW06/src/provided/abcParser/ABCParser.java;3897219377/1;/HW06/src/provided/music/APhraseVisitor.java;2456285939/1;/HW06/src/provided/music/Chord.java;35896074/1;/HW06/src/provided/music/DecoratorSeqList.java;227833273/1;/HW06/src/provided/music/FineToggleDecoratorSeqList.java;3225370767/1;/HW06/src/provided/music/Header.java;3456349803/1;/HW06/src/provided/music/INote.java;3583161323/1;/HW06/src/provided/music/IPhrase.java;366605851/1;/HW06/src/provided/music/IPhraseVisitor.java;3703781995/1;/HW06/src/provided/music/IPhraseVisitorCmd.java;2574507730/1;/HW06/src/provided/music/ISeqList.java;2168510769/1;/HW06/src/provided/music/MTSeqList.java;2810010473/1;/HW06/src/provided/music/NESeqList.java;1022285558/1;/HW06/src/provided/music/Note.java;3187409944/1;/HW06/src/provided/music/NoteCollection.java;1016744665/1;/HW06/src/provided/music/ToggleDecoratorSeqList.java;2539597070/1;/HW06/src/provided/music/Triplet.java;1836535983/1;/HW06/src/provided/music/Tuplet.java;2612016310/1;/HW06/src/provided/player/ISequencePlayerStatus.java;669092276/1;/HW06/src/provided/player/SequencePlayer.java;3356128105/1;/HW06/src/provided/player/SequencePlayer2.java;3992436622/1;/HW06/src/provided/token/ATokVisitor.java;76293018/1;/HW06/src/provided/token/ITokVisitor.java;152834022/1;/HW06/src/provided/token/ITokVisitorCmd.java;1454883899/1;/HW06/src/provided/token/ITokenFactory.java;3990063285/1;/HW06/src/provided/token/Token.java;2142793123/1;/HW06/src/provided/token/TokenFactory.java;4005879304/1;/HW06/src/provided/token/tokenizer/ABCTokenizer.java;3502166092/1;/HW06/src/provided/token/tokenizer/IStringTokenizer.java;2393201612/1;/HW06/src/provided/token/tokenizer/ITokenizer.java;2123229769/1;/HW06/src/provided/token/tokenizer/StringTokenizer.java;1601263969/1;/HW06/src/provided/util/ABCInstrument.java;2809014576/1;/HW06/src/provided/util/KeySignature.java;2729924029/1;/HW06/src/provided/util/ABCUtil.java;4259683412/1;/HW06/src/view/IModelAdapter.java;2458419363/1;/HW06/src/view/MusicPlayerFrame.java;1608192129/1;"/>
      </contents>
    </eAnnotations>
    <elementImport xmi:id="_9BTmIJGPEeaIQ-hA1qOqOA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
    </elementImport>
    <elementImport xmi:id="_9BUNMJGPEeaIQ-hA1qOqOA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#byte"/>
    </elementImport>
    <elementImport xmi:id="_9BUNMZGPEeaIQ-hA1qOqOA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
    </elementImport>
    <elementImport xmi:id="_9BUNMpGPEeaIQ-hA1qOqOA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
    </elementImport>
    <elementImport xmi:id="_9BUNM5GPEeaIQ-hA1qOqOA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#float"/>
    </elementImport>
    <elementImport xmi:id="_9BUNNJGPEeaIQ-hA1qOqOA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
    </elementImport>
    <elementImport xmi:id="_9BUNNZGPEeaIQ-hA1qOqOA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
    </elementImport>
    <elementImport xmi:id="_9BUNNpGPEeaIQ-hA1qOqOA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#short"/>
    </elementImport>
    <elementImport xmi:id="_9BU0QJGPEeaIQ-hA1qOqOA">
      <importedElement xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
    </elementImport>
    <packagedElement xmi:type="uml:Package" xmi:id="_9BWCYJGPEeaIQ-hA1qOqOA" name="java">
      <packagedElement xmi:type="uml:Package" xmi:id="_9BWpcJGPEeaIQ-hA1qOqOA" name="awt">
        <packagedElement xmi:type="uml:Class" xmi:id="_9KwdEJGPEeaIQ-hA1qOqOA" name="EventQueue"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_9C0CAJGPEeaIQ-hA1qOqOA" name="event">
          <packagedElement xmi:type="uml:Interface" xmi:id="_9MxPQZGPEeaIQ-hA1qOqOA" name="ActionListener"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_9Mx2UZGPEeaIQ-hA1qOqOA" name="ActionEvent"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9MoFUJGPEeaIQ-hA1qOqOA" name="BorderLayout"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_9Bl6AJGPEeaIQ-hA1qOqOA" name="util">
        <packagedElement xmi:type="uml:Class" xmi:id="_9LF0QJGPEeaIQ-hA1qOqOA" name="Hashtable"/>
        <packagedElement xmi:type="uml:Interface" xmi:id="_9LHCYJGPEeaIQ-hA1qOqOA" name="Map"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_9NXsMJGPEeaIQ-hA1qOqOA" name="Stack"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_9OqssJGPEeaIQ-hA1qOqOA" name="Vector"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_9Ci8QJGPEeaIQ-hA1qOqOA" name="io">
        <packagedElement xmi:type="uml:Class" xmi:id="_9MUjUJGPEeaIQ-hA1qOqOA" name="BufferedReader"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_9MVKYZGPEeaIQ-hA1qOqOA" name="FileNotFoundException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_9MVxcJGPEeaIQ-hA1qOqOA" name="IOException"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_9MVxcpGPEeaIQ-hA1qOqOA" name="InputStream"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_9MWYgZGPEeaIQ-hA1qOqOA" name="InputStreamReader"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_9MW_kZGPEeaIQ-hA1qOqOA" name="Reader"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_9MXmoZGPEeaIQ-hA1qOqOA" name="StreamTokenizer"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_9NbWkJGPEeaIQ-hA1qOqOA" name="lang">
        <packagedElement xmi:type="uml:Class" xmi:id="_9Nb9oJGPEeaIQ-hA1qOqOA" name="Object"/>
        <packagedElement xmi:type="uml:DataType" xmi:id="_9Ou-IJGPEeaIQ-hA1qOqOA" name="Character"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_9BXQgJGPEeaIQ-hA1qOqOA" name="model">
      <packagedElement xmi:type="uml:Interface" xmi:id="_9Dy5cJGPEeaIQ-hA1qOqOA" name="IViewAdapter">
        <ownedComment xmi:id="_9Rmr85GPEeaIQ-hA1qOqOA">
          <body>The view adapter
@author Qianyi Wu, Suozhi Qi
@version 1.0
 *</body>
        </ownedComment>
        <ownedAttribute xmi:id="_9D1VsJGPEeaIQ-hA1qOqOA" name="NULL_OBJ" isLeaf="true" isStatic="true" type="_9Dy5cJGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SGbMJGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9D18wJGPEeaIQ-hA1qOqOA" value="new IViewAdapter() {&#xA;&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;public void DisplayFileContent(String content) {&#xA;&#x9;&#x9;&#x9;// TODO Auto-generated method stub&#xA;&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;&#x9;@Override&#xA;&#x9;&#x9;public void addInstrument(ABCInstrument instrument) {&#xA;&#x9;&#x9;&#x9;// TODO Auto-generated method stub&#xA;&#xA;&#x9;&#x9;}&#xA;&#xA;&#x9;}"/>
        </ownedAttribute>
        <ownedOperation xmi:id="_9D0HkJGPEeaIQ-hA1qOqOA" name="DisplayFileContent">
          <ownedParameter xmi:id="_9D0HkZGPEeaIQ-hA1qOqOA" name="content">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_9K18oJGPEeaIQ-hA1qOqOA" name="addInstrument">
          <ownedParameter xmi:id="_9K18oZGPEeaIQ-hA1qOqOA" name="instrument" type="_9Gg2QJGPEeaIQ-hA1qOqOA"/>
        </ownedOperation>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_9BdXIJGPEeaIQ-hA1qOqOA" name="visitor">
        <packagedElement xmi:type="uml:Class" xmi:id="_9EAU0JGPEeaIQ-hA1qOqOA" name="PlayMusicVisitor">
          <ownedComment xmi:id="_9RnTBZGPEeaIQ-hA1qOqOA">
            <body>The visitor that is used to play music
@author Qianyi Wu, Suozhi Qi
@version 1.0
 *</body>
          </ownedComment>
          <generalization xmi:id="_9K6OEJGPEeaIQ-hA1qOqOA" general="_9EUd4JGPEeaIQ-hA1qOqOA"/>
          <ownedAttribute xmi:id="_9PQikJGPEeaIQ-hA1qOqOA" name="k" visibility="private" type="_9GjSgJGPEeaIQ-hA1qOqOA" association="_9SO-EZGPEeaIQ-hA1qOqOA">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PQikZGPEeaIQ-hA1qOqOA" value="null"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q0o05GPEeaIQ-hA1qOqOA" name="PlayMusicVisitor" specification="_9EDYIJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q0o1JGPEeaIQ-hA1qOqOA" type="_9EAU0JGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>this.addCmd(Note.ID, new IPhraseVisitorCmd() {
			public Object apply(String id, IPhrase host, Object... params) {
				SequencePlayer musicPlayer = (SequencePlayer)params[0];
				Note newNote = k.adjust(((Note)host));
				return musicPlayer.addNote(newNote, (int)params[1]);
			}
		});
		
		this.addCmd(Chord.ID, new IPhraseVisitorCmd() {
			public Object apply(String id, IPhrase host, Object...params) {
				Note[] notes = ((Chord)host).getNotes();
				int firstTick = (int)params[1];
				for (Note note : notes) {
					firstTick = (int)note.execute(PlayMusicVisitor.this, params);
				}
				return firstTick;
			}
		});
		
		this.addCmd(Triplet.ID, new IPhraseVisitorCmd() {
			public Object apply(String id, IPhrase host, Object...params) {
				Note[] notes = ((Triplet)host).getNotes();
				int firstTick = (int)params[1];
				for (Note note : notes) {
					note.setDuration(note.getDuration() * 2 / 3);
					firstTick = (int)note.execute(PlayMusicVisitor.this, params);
				}
				return firstTick;
			}
		});
		
		this.addCmd(MTSeqList.ID, new IPhraseVisitorCmd() {

			@Override
			public Object apply(String id, IPhrase host, Object... params) {
				return params[1];
			}			
		});
		
		this.addCmd(NESeqList.ID, new IPhraseVisitorCmd() {

			@Override
			public Object apply(String id, IPhrase host, Object... params) {
				int firstTick = (int)((NESeqList)host).getFirst().execute(PlayMusicVisitor.this, params);
				firstTick = (int)((NESeqList)host).getRest().execute(PlayMusicVisitor.this, params[0], firstTick);
				return firstTick;
			}
			
		});
		
		
		String headerToDisregard = &quot;ABCDEFGHIJMNOPRSTUVWXYZ&quot;;
		
		for(int i= 0; i &lt; headerToDisregard.length(); i++){
			this.addCmd(&quot;&quot;+headerToDisregard.charAt(i), new IPhraseVisitorCmd() {
				
				@Override
				public Object apply(String id, IPhrase host, Object... params) {
					// TODO Auto-generated method stub
					return params[1];
				}
			} );
		}
		
		
		this.addCmd(&quot;L&quot;, new IPhraseVisitorCmd() {
			
			@Override
			public Object apply(String id, IPhrase host, Object... params) {
				// TODO Auto-generated method stub
				double fraction = ABCUtil.Singleton.parseFraction(((Header)host).getValue());
				SequencePlayer player = (SequencePlayer)params[0];
				fraction *= player.getTicksPerQuarterNote()*4;
				player.setTicksPerDefaultNote((int)fraction);
				System.out.println(&quot;bpm:&quot; + player.getTempo());
				return params[1];
			}
		});
		
		this.addCmd(&quot;Q&quot;, new IPhraseVisitorCmd() {
			
			@Override
			public Object apply(String id, IPhrase host, Object... params) {
				// TODO Auto-generated method stub

				System.out.println(params[1]);
				SequencePlayer player = (SequencePlayer)params[0];
				double defaultNotesPerQuarterNote = player.getTicksPerQuarterNote()/player.getTicksPerDefaultNote();
				int bpm = (int)ABCUtil.Singleton.parseTempo(((Header)host).getValue(), defaultNotesPerQuarterNote);
				System.out.println(&quot;bpm: &quot; + bpm);
				player.setTempo(bpm);
				return params[1];
			}
		});
		
		this.addCmd(&quot;K&quot;, new IPhraseVisitorCmd() {
			
			@Override
			public Object apply(String id, IPhrase host, Object... params) {
				// TODO Auto-generated method stub
				System.out.println(params[1]);
				k = new KeySignature(((Header)host).getValue());
				return params[1];
			}
		});
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9EDYIJGPEeaIQ-hA1qOqOA" name="PlayMusicVisitor" method="_9Q0o05GPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9ED_MJGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9ED_MZGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_9RnTBpGPEeaIQ-hA1qOqOA">
              <body>The visitor constructor that adds command to play different elements in a song(music)</body>
            </ownedComment>
            <ownedParameter xmi:id="_9ED_MpGPEeaIQ-hA1qOqOA" type="_9EAU0JGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9EF0YJGPEeaIQ-hA1qOqOA" name="ToStringVisitor">
          <ownedComment xmi:id="_9RnTB5GPEeaIQ-hA1qOqOA">
            <body>The visitor that outputs the parsed music file to the view&#xD;
@author Qianyi Wu, Suozhi Qi&#xD;
@version 1.0&#xD;
 *</body>
          </ownedComment>
          <generalization xmi:id="_9K7cMJGPEeaIQ-hA1qOqOA" general="_9EUd4JGPEeaIQ-hA1qOqOA"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q1P4JGPEeaIQ-hA1qOqOA" name="ToStringVisitor" specification="_9EHCgJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q1P4ZGPEeaIQ-hA1qOqOA" type="_9EF0YJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>this.addCmd(&quot;NESeqList&quot;, new IPhraseVisitorCmd() {&#xD;
			&#xD;
			@Override&#xD;
			public Object apply(String id, IPhrase host, Object... params) {&#xD;
				NESeqList list = (NESeqList)host;&#xD;
				return list.getRest().execute(ToStringVisitor.this, params[0] + &quot;, &quot; + list.getFirst());&#xD;
			}&#xD;
		});&#xD;
		&#xD;
		&#xD;
		this.addCmd(&quot;MTSeqList&quot;, new IPhraseVisitorCmd() {&#xD;
			&#xD;
			@Override&#xD;
			public Object apply(String id, IPhrase host, Object... params) {&#xD;
				// TODO Auto-generated method stub&#xD;
				return params[0] + &quot;}&quot;;&#xD;
			}&#xD;
		});&#xD;
		&#xD;
		&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9EHCgJGPEeaIQ-hA1qOqOA" name="ToStringVisitor" method="_9Q1P4JGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9EHCgZGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9EHCgpGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_9EHCg5GPEeaIQ-hA1qOqOA" type="_9EF0YJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SO-EZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SO-EpGPEeaIQ-hA1qOqOA _9PQikJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SO-EpGPEeaIQ-hA1qOqOA" name="" type="_9EAU0JGPEeaIQ-hA1qOqOA" association="_9SO-EZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Class" xmi:id="_9D3K4JGPEeaIQ-hA1qOqOA" name="MusicPlayerModel">
        <ownedComment xmi:id="_9Rmr9JGPEeaIQ-hA1qOqOA">
          <body>The model for the music player&#xD;
@author Qianyi Wu, Suozhi Qi&#xD;
@version 1.0&#xD;
 *</body>
        </ownedComment>
        <ownedAttribute xmi:id="_9POGUJGPEeaIQ-hA1qOqOA" name="host" type="_9EutkJGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SMh0ZGPEeaIQ-hA1qOqOA"/>
        <ownedAttribute xmi:id="_9POGUZGPEeaIQ-hA1qOqOA" name="adptr" visibility="private" type="_9Dy5cJGPEeaIQ-hA1qOqOA" association="_9SNv8JGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9POtYJGPEeaIQ-hA1qOqOA" value="IViewAdapter.NULL_OBJ"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_9PPUcJGPEeaIQ-hA1qOqOA" name="player" visibility="private" type="_9FfikJGPEeaIQ-hA1qOqOA" association="_9SOXAZGPEeaIQ-hA1qOqOA"/>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q0BwJGPEeaIQ-hA1qOqOA" name="MusicPlayerModel" specification="_9K3KwJGPEeaIQ-hA1qOqOA">
          <ownedParameter xmi:id="_9Q0BwZGPEeaIQ-hA1qOqOA" name="vadptr" type="_9Dy5cJGPEeaIQ-hA1qOqOA"/>
          <ownedParameter xmi:id="_9Q0BwpGPEeaIQ-hA1qOqOA" type="_9D3K4JGPEeaIQ-hA1qOqOA" direction="return"/>
          <language>java</language>
          <body>adptr = vadptr;&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q0Bw5GPEeaIQ-hA1qOqOA" name="LoadFile" specification="_9D7cUJGPEeaIQ-hA1qOqOA">
          <ownedParameter xmi:id="_9Q0BxJGPEeaIQ-hA1qOqOA" name="filename">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
          <language>java</language>
          <body>adptr.DisplayFileContent(ABCUtil.Singleton.getFileContents(filename));&#xD;
		host = new ABCParser(filename).parse();&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q0BxZGPEeaIQ-hA1qOqOA" name="Play" specification="_9K4Y4JGPEeaIQ-hA1qOqOA">
          <ownedParameter xmi:id="_9Q0BxpGPEeaIQ-hA1qOqOA" name="instrument" type="_9Gg2QJGPEeaIQ-hA1qOqOA"/>
          <language>java</language>
          <body>player = new SequencePlayer(16, instrument.getValue());&#xD;
		player.setTempo(120); //default&#xD;
		host.execute(new PlayMusicVisitor(), player, 0);&#xD;
		player.play(ISequencePlayerStatus.NULL);&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q0o0JGPEeaIQ-hA1qOqOA" name="getParsed" specification="_9D8qcJGPEeaIQ-hA1qOqOA">
          <ownedParameter xmi:id="_9Q0o0ZGPEeaIQ-hA1qOqOA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
          <language>java</language>
          <body>IPhraseVisitor v = new ToStringVisitor();&#xD;
		NESeqList.setToStringAlgo(v);&#xD;
&#xD;
		return host.toString();&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q0o0pGPEeaIQ-hA1qOqOA" name="stop" specification="_9D-foZGPEeaIQ-hA1qOqOA">
          <language>java</language>
          <body>player.stop();&#xD;
	</body>
        </ownedBehavior>
        <ownedOperation xmi:id="_9D4ZAJGPEeaIQ-hA1qOqOA" name="MusicPlayerModel">
          <eAnnotations xmi:id="_9D6OMJGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
            <details xmi:id="_9D6OMZGPEeaIQ-hA1qOqOA" key="create"/>
          </eAnnotations>
          <ownedParameter xmi:id="_9D61QJGPEeaIQ-hA1qOqOA" type="_9D3K4JGPEeaIQ-hA1qOqOA" direction="return"/>
        </ownedOperation>
        <ownedOperation xmi:id="_9D7cUJGPEeaIQ-hA1qOqOA" name="LoadFile" method="_9Q0Bw5GPEeaIQ-hA1qOqOA">
          <ownedComment xmi:id="_9RnTAZGPEeaIQ-hA1qOqOA">
            <body>Load file method that takes in the name of the file&#xD;
	 * @param filename the name of the song to be played</body>
          </ownedComment>
          <ownedParameter xmi:id="_9D8DYJGPEeaIQ-hA1qOqOA" name="filename">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_9D8qcJGPEeaIQ-hA1qOqOA" name="getParsed" method="_9Q0o0JGPEeaIQ-hA1qOqOA">
          <ownedComment xmi:id="_9RnTA5GPEeaIQ-hA1qOqOA">
            <body>The parse string method&#xD;
	 * @return String The result of parsing</body>
          </ownedComment>
          <ownedParameter xmi:id="_9D9RgJGPEeaIQ-hA1qOqOA" direction="return">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_9D94kJGPEeaIQ-hA1qOqOA" name="start"/>
        <ownedOperation xmi:id="_9D-foZGPEeaIQ-hA1qOqOA" name="stop" method="_9Q0o0pGPEeaIQ-hA1qOqOA">
          <ownedComment xmi:id="_9RnTBJGPEeaIQ-hA1qOqOA">
            <body>The stop method to stop the player from playing the music</body>
          </ownedComment>
        </ownedOperation>
        <ownedOperation xmi:id="_9K3KwJGPEeaIQ-hA1qOqOA" name="MusicPlayerModel" method="_9Q0BwJGPEeaIQ-hA1qOqOA">
          <eAnnotations xmi:id="_9K3x0ZGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
            <details xmi:id="_9K3x0pGPEeaIQ-hA1qOqOA" key="create"/>
          </eAnnotations>
          <ownedComment xmi:id="_9RnTAJGPEeaIQ-hA1qOqOA">
            <body>Constructor of the model&#xD;
	 * @param vadptr The view adapter</body>
          </ownedComment>
          <ownedParameter xmi:id="_9K3x0JGPEeaIQ-hA1qOqOA" name="vadptr" type="_9Dy5cJGPEeaIQ-hA1qOqOA"/>
          <ownedParameter xmi:id="_9K3x05GPEeaIQ-hA1qOqOA" type="_9D3K4JGPEeaIQ-hA1qOqOA" direction="return"/>
        </ownedOperation>
        <ownedOperation xmi:id="_9K4Y4JGPEeaIQ-hA1qOqOA" name="Play" method="_9Q0BxZGPEeaIQ-hA1qOqOA">
          <ownedComment xmi:id="_9RnTApGPEeaIQ-hA1qOqOA">
            <body>The play method using selected instrument&#xD;
	 * @param instrument The instrument that we use to play the music</body>
          </ownedComment>
          <ownedParameter xmi:id="_9K4Y4ZGPEeaIQ-hA1qOqOA" name="instrument" type="_9Gg2QJGPEeaIQ-hA1qOqOA"/>
        </ownedOperation>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SGbMJGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SGbMZGPEeaIQ-hA1qOqOA _9D1VsJGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SGbMZGPEeaIQ-hA1qOqOA" name="" type="_9Dy5cJGPEeaIQ-hA1qOqOA" association="_9SGbMJGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SMh0ZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SMh0pGPEeaIQ-hA1qOqOA _9POGUJGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SMh0pGPEeaIQ-hA1qOqOA" name="" type="_9D3K4JGPEeaIQ-hA1qOqOA" association="_9SMh0ZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SNv8JGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SNv8ZGPEeaIQ-hA1qOqOA _9POGUZGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SNv8ZGPEeaIQ-hA1qOqOA" name="" type="_9D3K4JGPEeaIQ-hA1qOqOA" association="_9SNv8JGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SOXAZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SOXApGPEeaIQ-hA1qOqOA _9PPUcJGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SOXApGPEeaIQ-hA1qOqOA" name="" type="_9D3K4JGPEeaIQ-hA1qOqOA" association="_9SOXAZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_9BXQgZGPEeaIQ-hA1qOqOA" name="provided">
      <packagedElement xmi:type="uml:Package" xmi:id="_9BXQgpGPEeaIQ-hA1qOqOA" name="util">
        <packagedElement xmi:type="uml:Class" xmi:id="_9Gg2QJGPEeaIQ-hA1qOqOA" name="ABCInstrument">
          <ownedComment xmi:id="_9R0uYJGPEeaIQ-hA1qOqOA">
            <body>Represents an instrument as a name and an integer value&#xD;
@author swong&#xD;
 *</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9QVgoJGPEeaIQ-hA1qOqOA" name="name" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9QVgoZGPEeaIQ-hA1qOqOA" name="value" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RZ3oJGPEeaIQ-hA1qOqOA" name="ABCInstrument" specification="_9GiEYJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RZ3oZGPEeaIQ-hA1qOqOA" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RZ3opGPEeaIQ-hA1qOqOA" name="value">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RZ3o5GPEeaIQ-hA1qOqOA" type="_9Gg2QJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>this.name = name;&#xD;
		this.value = value;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RZ3pJGPEeaIQ-hA1qOqOA" name="toString" specification="_9GircJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RZ3pZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return name + &quot;: &quot; + value;&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9GiEYJGPEeaIQ-hA1qOqOA" name="ABCInstrument" method="_9RZ3oJGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9GiEY5GPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9GiEZJGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_9GiEYZGPEeaIQ-hA1qOqOA" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9GiEYpGPEeaIQ-hA1qOqOA" name="value">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9GiEZZGPEeaIQ-hA1qOqOA" type="_9Gg2QJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9GircJGPEeaIQ-hA1qOqOA" name="toString" method="_9RZ3pJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9GircZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9GjSgJGPEeaIQ-hA1qOqOA" name="KeySignature">
          <ownedComment xmi:id="_9R0uYZGPEeaIQ-hA1qOqOA">
            <body>Utility class to simplify dealing with key signatures &lt;br/>&#xD;
Usage:&lt;br/>&#xD;
KeySignature keySig = new KeySignature(aKey); // aKey is a string representing a key, e.g. &quot;C&quot;, &quot;Bb&quot;, &quot;Am&quot;&lt;br/>&#xD;
Note adjustedNote = keySig.adjust(originalNote); // returns the Note object, adjusted so that it matches the key,&#xD;
e.g for key of &quot;D&quot;, an &quot;F&quot; --&amp;gt; &quot;F#&quot;.&lt;br/></body>
          </ownedComment>
          <ownedAttribute xmi:id="_9QWHsJGPEeaIQ-hA1qOqOA" name="_major" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9QWuwJGPEeaIQ-hA1qOqOA" value="*"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QWuwpGPEeaIQ-hA1qOqOA" value="{ 0, 2, 2, 1, 2, 2, 2 //, 1&#xD;&#xA;&#x9;}"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9QXV0JGPEeaIQ-hA1qOqOA" name="_minor" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9QXV0ZGPEeaIQ-hA1qOqOA" value="*"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QX84ZGPEeaIQ-hA1qOqOA" value="{ // Half steps in a Minor key&#xD;&#xA;&#x9;0, 2, 1, 2, 2, 1, 2 //, 2&#xD;&#xA;&#x9;}"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9QZyEJGPEeaIQ-hA1qOqOA" name="keymap" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <qualifier xmi:id="_9QaZIZGPEeaIQ-hA1qOqOA">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            </qualifier>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QZyEZGPEeaIQ-hA1qOqOA" value="new Hashtable&lt;Character, Integer>()"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9QbAMJGPEeaIQ-hA1qOqOA" name="notes" visibility="private" type="_9Gj5kJGPEeaIQ-hA1qOqOA" association="_9SjHJJGPEeaIQ-hA1qOqOA">
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9QbAMZGPEeaIQ-hA1qOqOA" value="*"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QbnQJGPEeaIQ-hA1qOqOA" value="{ new KeyNote('A', 0), new KeyNote('A', 1),&#xD;&#xA;&#x9;&#x9;&#x9;new KeyNote('B', 0), new KeyNote('C', 0), new KeyNote('C', 1),&#xD;&#xA;&#x9;&#x9;&#x9;new KeyNote('D', 0), new KeyNote('D', 1), new KeyNote('E', 0),&#xD;&#xA;&#x9;&#x9;&#x9;new KeyNote('F', 0), new KeyNote('F', 1), new KeyNote('G', 0),&#xD;&#xA;&#x9;&#x9;&#x9;new KeyNote('G', 1) }"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9QcOUJGPEeaIQ-hA1qOqOA" name="fs_dsm" visibility="private" type="_9Gj5kJGPEeaIQ-hA1qOqOA" association="_9SjuMZGPEeaIQ-hA1qOqOA">
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9QcOUZGPEeaIQ-hA1qOqOA" value="*"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QcOU5GPEeaIQ-hA1qOqOA" value="{ new KeyNote('A', 1), new KeyNote('B', 0),&#xD;&#xA;&#x9;&#x9;&#x9;new KeyNote('C', 1), new KeyNote('D', 1), new KeyNote('E', 1),&#xD;&#xA;&#x9;&#x9;&#x9;new KeyNote('F', 1), new KeyNote('G', 1) }"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Rbs0JGPEeaIQ-hA1qOqOA" name="KeySignature" specification="_9GluwJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Rbs0ZGPEeaIQ-hA1qOqOA" name="key">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Rbs0pGPEeaIQ-hA1qOqOA" type="_9GjSgJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>// Get rid of spurious &quot;maj&quot; at the end, if it's there&#xD;
		if (key.endsWith(&quot;maj&quot;)) {&#xD;
			key = key.replace(&quot;maj&quot;, &quot;&quot;);&#xD;
		}&#xD;
&#xD;
		// Special case keys with 6 sharps&#xD;
		if ((key == &quot;F#&quot;) || (key == &quot;D#m&quot;)) {&#xD;
			for (KeyNote n : fs_dsm) {&#xD;
				keymap.put(n.letter, n.accidental);&#xD;
			}&#xD;
			return;&#xD;
		}&#xD;
&#xD;
		char keynote = key.charAt(0);&#xD;
		int cur = -1;&#xD;
&#xD;
		for (int i = 0; i &lt; notes.length; i++) {&#xD;
			if (notes[i].letter == keynote) {&#xD;
				cur = i;&#xD;
				break;&#xD;
			}&#xD;
		}&#xD;
&#xD;
		if (cur == -1) {&#xD;
			System.out.println(&quot;Invalid key: &quot; + key);&#xD;
			return;&#xD;
		}&#xD;
&#xD;
		int[] steps = _major;&#xD;
&#xD;
		int idx = 1;&#xD;
		while (idx &lt; key.length()) {&#xD;
			switch (key.charAt(idx)) {&#xD;
			case '#':&#xD;
				cur += 1;&#xD;
				break;&#xD;
&#xD;
			case 'b':&#xD;
				cur -= 1;&#xD;
				break;&#xD;
&#xD;
			case 'm':&#xD;
				steps = _minor;&#xD;
				break;&#xD;
&#xD;
			default:&#xD;
				System.out.println(&quot;Invalid key: &quot; + key);&#xD;
				return;&#xD;
			}&#xD;
			idx++;&#xD;
		}&#xD;
&#xD;
		if (cur == -1) {&#xD;
			cur = notes.length - 1;&#xD;
		}&#xD;
&#xD;
		for (int i : steps) {&#xD;
			cur += i;&#xD;
			if (cur >= notes.length) {&#xD;
				cur -= notes.length;&#xD;
			}&#xD;
			KeyNote n = notes[cur];&#xD;
			insert(n);&#xD;
		}&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Rbs05GPEeaIQ-hA1qOqOA" name="convertflat" specification="_9GmV0JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Rbs1JGPEeaIQ-hA1qOqOA" name="n">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Rbs1ZGPEeaIQ-hA1qOqOA" type="_9Gj5kJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>char next = (char) (n + 1);&#xD;
		if (next == 'H') {&#xD;
			next = 'A';&#xD;
		}&#xD;
		return new KeyNote(next, -1);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RcT4JGPEeaIQ-hA1qOqOA" name="insert" specification="_9MdtQZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RcT4ZGPEeaIQ-hA1qOqOA" name="n" type="_9Gj5kJGPEeaIQ-hA1qOqOA"/>
            <language>java</language>
            <body>if (!keymap.containsKey(n.letter)) {&#xD;
			keymap.put(n.letter, n.accidental);&#xD;
			return;&#xD;
		}&#xD;
&#xD;
		if (n.accidental == 1) {&#xD;
			// Move sharp up to next flat&#xD;
			insert(convertflat(n.letter));&#xD;
			return;&#xD;
		}&#xD;
&#xD;
		if ((n.accidental == 0) || (n.accidental == -1)) {&#xD;
			// Conflict, move higher note up to next flat&#xD;
			int a = keymap.get(n.letter);&#xD;
			a = Math.min(a, n.accidental);&#xD;
			insert(convertflat(n.letter));&#xD;
			keymap.put(n.letter, a);&#xD;
			return;&#xD;
		}&#xD;
&#xD;
		// Shouldn't get here&#xD;
		System.out.println(&quot;Should not reach here.&quot;);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RcT4pGPEeaIQ-hA1qOqOA" name="map" specification="_9OvlMZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RcT45GPEeaIQ-hA1qOqOA" name="note" type="_9Ou-IJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RcT5JGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>if (keymap.containsKey(note)) {&#xD;
			return (int) keymap.get(note);&#xD;
		} else {&#xD;
			return 0;&#xD;
		}&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RcT5ZGPEeaIQ-hA1qOqOA" name="adjust" specification="_9MeUUJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RcT5pGPEeaIQ-hA1qOqOA" name="n" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RcT55GPEeaIQ-hA1qOqOA" type="_9FCPkJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>if (n.getAccidental() != 0 &amp;&amp; !n.getIsNatural()) {&#xD;
			return n; // Accidentals set and is not natural&#xD;
		} else if (n.getIsNatural()) {&#xD;
			return n; // override key signature&#xD;
		} else {&#xD;
			// normal key signature mapping applies&#xD;
			int accidental = map(n.getName());&#xD;
			if (accidental == 0) {&#xD;
				return n; // nothing to change&#xD;
			}&#xD;
			return new Note(n.getName(), n.getOctave(), accidental,&#xD;
					n.getDuration(), false); // must be false isNatural&#xD;
		}&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RcT6JGPEeaIQ-hA1qOqOA" name="printmap" specification="_9Gm84JGPEeaIQ-hA1qOqOA">
            <language>java</language>
            <body>System.out.println(keymap);&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9GluwJGPEeaIQ-hA1qOqOA" name="KeySignature" method="_9Rbs0JGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9GluwpGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9Gluw5GPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_9R1VcJGPEeaIQ-hA1qOqOA">
              <body>Generate a &quot;Key&quot; object that enables easy access to the key signature.&#xD;
	 * &#xD;
	 * @param key        - String indicating key (i.e., &quot;C&quot; or &quot;D#m&quot;)</body>
            </ownedComment>
            <ownedParameter xmi:id="_9GluwZGPEeaIQ-hA1qOqOA" name="key">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9GluxJGPEeaIQ-hA1qOqOA" type="_9GjSgJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9GmV0JGPEeaIQ-hA1qOqOA" name="convertflat" visibility="private" method="_9Rbs05GPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9R1VcZGPEeaIQ-hA1qOqOA">
              <body>Helper method to convert a note to its equivalent flat version.&#xD;
	 * &#xD;
	 * @param n  - note letter&#xD;
	 * @return   - equivalent flat version of note n</body>
            </ownedComment>
            <ownedParameter xmi:id="_9GmV0ZGPEeaIQ-hA1qOqOA" name="n">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9MdtQJGPEeaIQ-hA1qOqOA" type="_9Gj5kJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9Gm84JGPEeaIQ-hA1qOqOA" name="printmap" method="_9RcT6JGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9R1VdZGPEeaIQ-hA1qOqOA">
              <body>Print the mapping for this key signature</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:id="_9MdtQZGPEeaIQ-hA1qOqOA" name="insert" visibility="private" method="_9RcT4JGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9R1VcpGPEeaIQ-hA1qOqOA">
              <body>Helper method to insert the given note into the keymap.&#xD;
	 * &#xD;
	 * @param n  - note to add to the map</body>
            </ownedComment>
            <ownedParameter xmi:id="_9MdtQpGPEeaIQ-hA1qOqOA" name="n" type="_9Gj5kJGPEeaIQ-hA1qOqOA"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9MeUUJGPEeaIQ-hA1qOqOA" name="adjust" method="_9RcT5ZGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9R1VdJGPEeaIQ-hA1qOqOA">
              <body>Takes a note and returns the properly transposed note in this key signature&#xD;
	 *&#xD;
	 * @param n - note to be adjusted&#xD;
	 * @return A new, adjusted Note</body>
            </ownedComment>
            <ownedParameter xmi:id="_9MeUUZGPEeaIQ-hA1qOqOA" name="n" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Me7YJGPEeaIQ-hA1qOqOA" type="_9FCPkJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9OvlMZGPEeaIQ-hA1qOqOA" name="map" visibility="private" method="_9RcT4pGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9R1Vc5GPEeaIQ-hA1qOqOA">
              <body>Takes a note (with no accidentals) and returns the accidental for this&#xD;
	 * key signature.&#xD;
	 * &#xD;
	 * @param  note - in [A, B, C, D, E, F, G]&#xD;
	 * @return accidental for the note in this key signature [-1, 0, 1]</body>
            </ownedComment>
            <ownedParameter xmi:id="_9OvlMpGPEeaIQ-hA1qOqOA" name="note" type="_9Ou-IJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9OwMQJGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <nestedClassifier xmi:type="uml:Class" xmi:id="_9Gj5kJGPEeaIQ-hA1qOqOA" name="KeyNote" visibility="private">
            <ownedComment xmi:id="_9R0uYpGPEeaIQ-hA1qOqOA">
              <body>Utility class to keep track of the position of notes</body>
            </ownedComment>
            <ownedAttribute xmi:id="_9QYj8JGPEeaIQ-hA1qOqOA" name="letter">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_9QZLAZGPEeaIQ-hA1qOqOA" name="accidental">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedAttribute>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RaesJGPEeaIQ-hA1qOqOA" name="KeyNote" specification="_9GkgoJGPEeaIQ-hA1qOqOA">
              <ownedParameter xmi:id="_9RaesZGPEeaIQ-hA1qOqOA" name="letter">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
              </ownedParameter>
              <ownedParameter xmi:id="_9RaespGPEeaIQ-hA1qOqOA" name="accidental">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_9Raes5GPEeaIQ-hA1qOqOA" type="_9Gj5kJGPEeaIQ-hA1qOqOA" direction="return"/>
              <language>java</language>
              <body>this.letter = letter;&#xD;
			this.accidental = accidental;&#xD;
		</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RbFwJGPEeaIQ-hA1qOqOA" name="toString" specification="_9GkgppGPEeaIQ-hA1qOqOA">
              <ownedParameter xmi:id="_9RbFwZGPEeaIQ-hA1qOqOA" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>return &quot;&quot; + letter + accidental;&#xD;
		</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_9GkgoJGPEeaIQ-hA1qOqOA" name="KeyNote" visibility="package" method="_9RaesJGPEeaIQ-hA1qOqOA">
              <eAnnotations xmi:id="_9Gkgo5GPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_9GkgpJGPEeaIQ-hA1qOqOA" key="create"/>
              </eAnnotations>
              <ownedComment xmi:id="_9R0uY5GPEeaIQ-hA1qOqOA">
                <body>Constructor for the class&#xD;
		 * @param letter  The letter of the note&#xD;
		 * @param accidental  Whether or not the note is accidental:  -1 = flat, 0 = natural, +1 = sharp</body>
              </ownedComment>
              <ownedParameter xmi:id="_9GkgoZGPEeaIQ-hA1qOqOA" name="letter">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
              </ownedParameter>
              <ownedParameter xmi:id="_9GkgopGPEeaIQ-hA1qOqOA" name="accidental">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
              </ownedParameter>
              <ownedParameter xmi:id="_9GkgpZGPEeaIQ-hA1qOqOA" type="_9Gj5kJGPEeaIQ-hA1qOqOA" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_9GkgppGPEeaIQ-hA1qOqOA" name="toString" method="_9RbFwJGPEeaIQ-hA1qOqOA">
              <ownedParameter xmi:id="_9GlHsJGPEeaIQ-hA1qOqOA" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
          </nestedClassifier>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9GqnQJGPEeaIQ-hA1qOqOA" name="ABCUtil">
          <ownedComment xmi:id="_9R1VdpGPEeaIQ-hA1qOqOA">
            <body>Singleton utility class that has methods for parsing,&#xD;
reading file content and getting the list of instruments.&#xD;
 *</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9QeDgJGPEeaIQ-hA1qOqOA" name="Singleton" isLeaf="true" isStatic="true" type="_9GqnQJGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SkVQZGPEeaIQ-hA1qOqOA">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QeDgZGPEeaIQ-hA1qOqOA" value="new ABCUtil()"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Rc68JGPEeaIQ-hA1qOqOA" name="parseFraction" specification="_9GtqkJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Rc68ZGPEeaIQ-hA1qOqOA" name="frac">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Rc68pGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            </ownedParameter>
            <language>java</language>
            <body>String[] vals = frac.split(&quot;/&quot;);&#xD;
		if (vals.length != 2) {&#xD;
			throw new NumberFormatException(frac + &quot; is not a fraction.&quot;);&#xD;
		}&#xD;
		double num = Double.parseDouble(vals[0]);&#xD;
		double denom = Double.parseDouble(vals[1]);&#xD;
		return num / denom;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RdiAJGPEeaIQ-hA1qOqOA" name="parseTempo" specification="_9Gu4sJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RdiAZGPEeaIQ-hA1qOqOA" name="tempo">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RdiApGPEeaIQ-hA1qOqOA" name="defaultNotesPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RdiA5GPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            </ownedParameter>
            <language>java</language>
            <body>String els[] = tempo.split(&quot;=&quot;);&#xD;
		double bpm = 0;&#xD;
		if (1 == els.length) {&#xD;
			bpm = Double.parseDouble(els[0]) / defaultNotesPerQuarterNote;&#xD;
		} else {&#xD;
			double note = parseFraction(els[0]);&#xD;
			bpm = Double.parseDouble(els[1]) / (0.25 / note);&#xD;
		}&#xD;
		return bpm;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9ReJEJGPEeaIQ-hA1qOqOA" name="getFileContents" specification="_9GvfwJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9ReJEZGPEeaIQ-hA1qOqOA" name="filename">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9ReJEpGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>String fileContents = &quot;&quot;;&#xD;
&#xD;
		try {&#xD;
			InputStream is = this.getClass().getResource(filename).openStream();&#xD;
&#xD;
			BufferedReader input = new BufferedReader(new InputStreamReader(is));&#xD;
&#xD;
			try {&#xD;
				// use buffering, reading one line at a time&#xD;
				// FileReader always assumes default&#xD;
				// encoding is OK!&#xD;
&#xD;
				String line = null; // not declared within while loop&#xD;
&#xD;
				/*&#xD;
				 * readLine is a bit quirky : it returns the&#xD;
				 * content of a line MINUS the newline. it&#xD;
				 * returns null only for the END of the&#xD;
				 * stream. it returns an empty String if two&#xD;
				 * newlines appear in a row.&#xD;
				 */&#xD;
				while ((line = input.readLine()) != null) {&#xD;
					fileContents += line + &quot;\n&quot;;&#xD;
				}&#xD;
			} finally {&#xD;
				input.close();&#xD;
			}&#xD;
		} catch (Exception e) {&#xD;
			return &quot;Error loading file: &quot; + filename + &quot;\n&quot; + e + &quot;\n&quot;;&#xD;
		}&#xD;
&#xD;
		return fileContents;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RewIJGPEeaIQ-hA1qOqOA" name="getInstruments" specification="_9GwG0ZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RewIZGPEeaIQ-hA1qOqOA" type="_9Gg2QJGPEeaIQ-hA1qOqOA" direction="return">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9RewIpGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <language>java</language>
            <body>try {&#xD;
			Synthesizer synth = MidiSystem.getSynthesizer();&#xD;
			synth.open();&#xD;
			Instrument[] instruments = synth.getAvailableInstruments();&#xD;
			ABCInstrument[] result = new ABCInstrument[instruments.length];&#xD;
			for (int i = 0; i &lt; instruments.length; i++) {&#xD;
				result[i] = new ABCInstrument(instruments[i].getName(),&#xD;
						instruments[i].getPatch().getProgram());&#xD;
			}&#xD;
&#xD;
			synth.close();&#xD;
			return result;&#xD;
		} catch (MidiUnavailableException e) {&#xD;
			System.err.println(&quot;ABCUtil.getInstruments: &quot; + e);&#xD;
			return null;&#xD;
		}&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9GrOUJGPEeaIQ-hA1qOqOA" name="ABCUtil" visibility="private">
            <eAnnotations xmi:id="_9Gr1YJGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9Gr1YZGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_9GtDgZGPEeaIQ-hA1qOqOA" type="_9GqnQJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9GtqkJGPEeaIQ-hA1qOqOA" name="parseFraction" method="_9Rc68JGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9R18gJGPEeaIQ-hA1qOqOA">
              <body>Return the evaluation of a string &quot;a/b&quot;.&#xD;
	 * &#xD;
	 * @param frac - a string containing a fraction&#xD;
	 * @return     - the result of evaluating the fraction</body>
            </ownedComment>
            <ownedParameter xmi:id="_9GuRoJGPEeaIQ-hA1qOqOA" name="frac">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9GuRoZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9Gu4sJGPEeaIQ-hA1qOqOA" name="parseTempo" method="_9RdiAJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9R18gZGPEeaIQ-hA1qOqOA">
              <body>Return the tempo given by the input string.  The returned value is in the &#xD;
	 * units of quarter notes per minute.&#xD;
	 * &#xD;
	 * Accepts &quot;bpm&quot; (beats per default note) or &quot;a/b=bpm&quot; (beats per a/b note).&#xD;
	 * &#xD;
	 * @param tempo                      - tempo represented as a string&#xD;
	 * @param defaultNotesPerQuarterNote - default notes per quarter note &#xD;
	 * @return                           - the tempo indicated by the string</body>
            </ownedComment>
            <ownedParameter xmi:id="_9Gu4sZGPEeaIQ-hA1qOqOA" name="tempo">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Gu4spGPEeaIQ-hA1qOqOA" name="defaultNotesPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Gu4s5GPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9GvfwJGPEeaIQ-hA1qOqOA" name="getFileContents" method="_9ReJEJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9R18gpGPEeaIQ-hA1qOqOA">
              <body>Returns the contents of a text file, e.g. an abc file, as a single string.&#xD;
	 * @param filename the name of the file with respect to the default package, where &quot;/&quot; refers to the default package, e.g. a file in the &quot;data&quot; package would &quot;/data/myfile.abc&quot;&#xD;
	 * @return the contents of the file</body>
            </ownedComment>
            <ownedParameter xmi:id="_9GvfwZGPEeaIQ-hA1qOqOA" name="filename">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9GwG0JGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9GwG0ZGPEeaIQ-hA1qOqOA" name="getInstruments" method="_9RewIJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9R18g5GPEeaIQ-hA1qOqOA">
              <body>Get an array of all the available instruments as ABCInstruments &#xD;
	 * where the instrument's value is the MIDI instrument number&#xD;
	 * &#xD;
	 * @return an array of ABCInstruments</body>
            </ownedComment>
            <ownedParameter xmi:id="_9Gwt4JGPEeaIQ-hA1qOqOA" type="_9Gg2QJGPEeaIQ-hA1qOqOA" direction="return">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9Gwt4ZGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SjHJJGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SjHJZGPEeaIQ-hA1qOqOA _9QbAMJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SjHJZGPEeaIQ-hA1qOqOA" name="" type="_9GjSgJGPEeaIQ-hA1qOqOA" association="_9SjHJJGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SjuMZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SjuMpGPEeaIQ-hA1qOqOA _9QcOUJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SjuMpGPEeaIQ-hA1qOqOA" name="" type="_9GjSgJGPEeaIQ-hA1qOqOA" association="_9SjuMZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SkVQZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SkVQpGPEeaIQ-hA1qOqOA _9QeDgJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SkVQpGPEeaIQ-hA1qOqOA" name="" type="_9GqnQJGPEeaIQ-hA1qOqOA" association="_9SkVQZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_9Bd-MJGPEeaIQ-hA1qOqOA" name="abcParser">
        <packagedElement xmi:type="uml:Class" xmi:id="_9EHpkJGPEeaIQ-hA1qOqOA" name="ABCParser">
          <ownedComment xmi:id="_9RnTCJGPEeaIQ-hA1qOqOA">
            <body>Parses an abc file into IPhrase music structures&lt;br/>&#xD;
&#xD;
Usage: &lt;br/>&#xD;
ABCParser parser = new ABCParser(&quot;/data/aMusicFile.abc&quot;); &lt;br/>&#xD;
IPhrase phrase = parser.parse(); &lt;br/>&#xD;
&#xD;
Cases handled:&lt;br/>&#xD;
- single notes with and without accidentals and naturals with regards to measures&lt;br/>&#xD;
- chords&lt;br/>&#xD;
- dotted notes&lt;br/>&#xD;
- grace notes&lt;br/>&#xD;
- repeats, including first and second repeats.&lt;br/>&#xD;
- triplets &lt;br/>&#xD;
- tuplets&lt;br/>&#xD;
- all headers&lt;br/>&#xD;
- quoted text&lt;br/>&#xD;
- D.C. al fine&lt;br/>&#xD;
- EOF (End Of File)&lt;br/>&#xD;
&lt;br/>&#xD;
All other cases ignored.&#xD;
&#xD;
@author swong&#xD;
 *</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9PRwsJGPEeaIQ-hA1qOqOA" name="abcT" visibility="private" type="_9GN7UJGPEeaIQ-hA1qOqOA" association="_9SPlIZGPEeaIQ-hA1qOqOA"/>
          <ownedAttribute xmi:id="_9PSXwJGPEeaIQ-hA1qOqOA" name="beginningTarget" visibility="private" type="_9EbyoJGPEeaIQ-hA1qOqOA" association="_9SQMMZGPEeaIQ-hA1qOqOA">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PSXwZGPEeaIQ-hA1qOqOA" value="new DecoratorSeqList()"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9PS-0ZGPEeaIQ-hA1qOqOA" name="jumpTargetStack" visibility="private" type="_9NXsMJGPEeaIQ-hA1qOqOA" association="_9SRaUJGPEeaIQ-hA1qOqOA">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PTl4ZGPEeaIQ-hA1qOqOA" value="new Stack&lt;DecoratorSeqList>()"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9PUM8ZGPEeaIQ-hA1qOqOA" name="jumpSecondRepeatStack" visibility="private" type="_9NXsMJGPEeaIQ-hA1qOqOA" association="_9SSocZGPEeaIQ-hA1qOqOA">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PVbEJGPEeaIQ-hA1qOqOA" value="new Stack&lt;DecoratorSeqList>()"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9PVbEpGPEeaIQ-hA1qOqOA" name="makeSeqListAlgo" visibility="private" type="_9F7ncJGPEeaIQ-hA1qOqOA" association="_9STPgZGPEeaIQ-hA1qOqOA">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PWCIJGPEeaIQ-hA1qOqOA" value="new ATokVisitor(new ITokVisitorCmd() {&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;@Override&#xD;&#xA;&#x9;&#x9;/**&#xD;&#xA;&#x9;&#x9; * Default behavior is to ignore any unrecognized tokens by merely proceeding to the next one.&#xD;&#xA;&#x9;&#x9; */&#xD;&#xA;&#x9;&#x9;public Object apply(String id, Token host, Object... params) {&#xD;&#xA;&#x9;&#x9;&#x9;System.out.println(&quot;Unhandled Token: &quot; + host);&#xD;&#xA;&#x9;&#x9;&#x9;return abcT.getNextToken().execute(makeSeqListAlgo, params);&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;}) {&#xD;&#xA;&#x9;}"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9PXQQJGPEeaIQ-hA1qOqOA" name="isGrace" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PXQQZGPEeaIQ-hA1qOqOA" value="false"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9PaTkJGPEeaIQ-hA1qOqOA" name="grace_multiplier" visibility="package">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PbhsJGPEeaIQ-hA1qOqOA" value="0.2"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9PcIwZGPEeaIQ-hA1qOqOA" name="graceDuration" visibility="package">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9Pcv0JGPEeaIQ-hA1qOqOA" value="0.0"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9PdW4JGPEeaIQ-hA1qOqOA" name="dottedCorrection" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PdW4ZGPEeaIQ-hA1qOqOA" value="0.0"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9Pd98ZGPEeaIQ-hA1qOqOA" name="checkNextNoteAlgo" visibility="private" type="_9F7ncJGPEeaIQ-hA1qOqOA" association="_9ST2kZGPEeaIQ-hA1qOqOA">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9Pd98pGPEeaIQ-hA1qOqOA" value="new ATokVisitor(&#xD;&#xA;&#x9;&#x9;&#x9;new ITokVisitorCmd() {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;@Override&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;public Object apply(String id, Token host, Object... params) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// No dotted modification detected.&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;abcT.putBack(host); // put token back to be reprocessed&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;// later&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;dottedCorrection = 0.0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return params[0]; // return duration unchanged.&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;}) {&#xD;&#xA;&#x9;&#x9;// Initializer block for internal visitor&#xD;&#xA;&#x9;&#x9;{&#xD;&#xA;&#x9;&#x9;&#x9;this.addCmd(&quot;&lt;&quot;, new ITokVisitorCmd() {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;@Override&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;public Object apply(String id, Token host, Object... params) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// the previous note is halved, the next dotted&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;double duration = (Double) params[0] / 2.0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;dottedCorrection = duration;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;System.out.println(&quot;Notes parsed \&quot;&quot; + id&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;+ &quot;\&quot; dotting.  durationCorrection = &quot;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;+ dottedCorrection);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return duration;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;});&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;this.addCmd(&quot;>&quot;, new ITokVisitorCmd() {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;@Override&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;public Object apply(String id, Token host, Object... params) {&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;// the previous note is dotted, the next note halved&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;double duration = (Double) params[0];&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;dottedCorrection = -duration / 2.0;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;duration -= dottedCorrection;&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;System.out.println(&quot;Notes parsed \&quot;&quot; + id&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;+ &quot;\&quot; dotting.  durationCorrection = &quot;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;&#x9;+ dottedCorrection);&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;return duration;&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;&#x9;});&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;}"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9PelAZGPEeaIQ-hA1qOqOA" name="accidentalNotes" visibility="private" type="_9FCPkJGPEeaIQ-hA1qOqOA" association="_9SUdoZGPEeaIQ-hA1qOqOA">
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9PelApGPEeaIQ-hA1qOqOA" value="*"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PelA5GPEeaIQ-hA1qOqOA" value="new HashSet&lt;Note>()"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q128JGPEeaIQ-hA1qOqOA" name="popJumpTarget" specification="_9EKF0JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q128ZGPEeaIQ-hA1qOqOA" type="_9EbyoJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>if (jumpTargetStack.isEmpty())&#xD;
			return beginningTarget;&#xD;
		else&#xD;
			return jumpTargetStack.pop();&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q128pGPEeaIQ-hA1qOqOA" name="pushJumpTarget" specification="_9K9RYZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q1285GPEeaIQ-hA1qOqOA" name="target" type="_9EbyoJGPEeaIQ-hA1qOqOA"/>
            <language>java</language>
            <body>jumpTargetStack.push(target);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q2eAJGPEeaIQ-hA1qOqOA" name="ABCParser" specification="_9ELT8JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q2eAZGPEeaIQ-hA1qOqOA" name="inputFileName">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Q2eApGPEeaIQ-hA1qOqOA" type="_9EHpkJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>try {&#xD;
			abcT = new ABCTokenizer(inputFileName);&#xD;
&#xD;
			// ------ EOF -----------------------------------------------------&#xD;
			ITokVisitorCmd eofCmd = new ITokVisitorCmd() {&#xD;
&#xD;
				@Override&#xD;
				public Object apply(String id, Token host, Object... params) {&#xD;
					return MTSeqList.Singleton;&#xD;
				}&#xD;
			};&#xD;
&#xD;
			// ------ Note -----------------------------------------------------&#xD;
			ITokVisitorCmd noteCmd = new ITokVisitorCmd() {&#xD;
&#xD;
				@Override&#xD;
				public Object apply(String id, Token host, Object... params) {&#xD;
					Note note = makeNote(host);&#xD;
					System.out.println(&quot;Note parsed: &quot; + note);&#xD;
&#xD;
					return new NESeqList(note, (ISeqList) abcT.getNextToken()&#xD;
							.execute(makeSeqListAlgo, params));&#xD;
				}&#xD;
			};&#xD;
&#xD;
			// ------ Header-------------------------------------------&#xD;
			// Same command for all headers&#xD;
			ITokVisitorCmd headerCmd = new ITokVisitorCmd() {&#xD;
				@Override&#xD;
				public Object apply(String id, Token host, Object... params) {&#xD;
					Header header = new Header(id, host.getLexeme());&#xD;
					System.out.println(&quot;Header parsed: &quot; + header);&#xD;
					return new NESeqList(header, (ISeqList) abcT.getNextToken()&#xD;
							.execute(makeSeqListAlgo, params));&#xD;
				}&#xD;
			};&#xD;
&#xD;
			// ------ Chord----------------------------------------------&#xD;
			ITokVisitorCmd chordStartCmd = new ITokVisitorCmd() {&#xD;
&#xD;
				// Internal visitor to get rest of chord&#xD;
				ATokVisitor makeChordAlgo = new ATokVisitor(&#xD;
						new ITokVisitorCmd() {&#xD;
							@Override&#xD;
							public Object apply(String id, Token host,&#xD;
									Object... params) {&#xD;
								throw new IllegalArgumentException(&#xD;
										&quot;ABCParser.chordCmd: Non-Note token encountered:&quot;&#xD;
												+ host);&#xD;
							}&#xD;
&#xD;
						}) {&#xD;
					// Initializer block for internal visitor&#xD;
					{&#xD;
						this.addCmd(&quot;Note&quot;, new ITokVisitorCmd() {&#xD;
							@SuppressWarnings(&quot;unchecked&quot;)&#xD;
							@Override&#xD;
							public Object apply(String id, Token host,&#xD;
									Object... params) {&#xD;
								Note note = makeNote(host);&#xD;
								System.out&#xD;
										.println(&quot;Chord parsed Note: &quot; + note);&#xD;
								((Vector&lt;Note>) params[0]).add(note);&#xD;
								return abcT.getNextToken().execute(&#xD;
										makeChordAlgo, params);&#xD;
							}&#xD;
						});&#xD;
&#xD;
						this.addCmd(&quot;]&quot;, new ITokVisitorCmd() {&#xD;
							@SuppressWarnings(&quot;unchecked&quot;)&#xD;
							@Override&#xD;
							public Object apply(String id, Token host,&#xD;
									Object... params) {&#xD;
								Vector&lt;Note> vNotes = (Vector&lt;Note>) params[0];&#xD;
								Note[] result = new Note[vNotes.size()];&#xD;
								for (int i = 0; i &lt; vNotes.size(); i++)&#xD;
									result[i] = vNotes.get(i);&#xD;
								return result;&#xD;
							}&#xD;
						});&#xD;
&#xD;
					}&#xD;
				};&#xD;
&#xD;
				@Override&#xD;
				public Object apply(String id, Token host, Object... params) {&#xD;
					Note[] notes = (Note[]) abcT.getNextToken().execute(&#xD;
							makeChordAlgo, new Vector&lt;Note>());&#xD;
					Chord chord = new Chord(notes);&#xD;
					System.out.println(&quot;Chord parsed: &quot; + chord);&#xD;
					return new NESeqList(chord, (ISeqList) abcT.getNextToken()&#xD;
							.execute(makeSeqListAlgo, params));&#xD;
				}&#xD;
			};&#xD;
&#xD;
			// ------ Grace Note Start---------------------------------------&#xD;
			ITokVisitorCmd graceStartCmd = new ITokVisitorCmd() {&#xD;
				@Override&#xD;
				public Object apply(String id, Token host, Object... params) {&#xD;
					System.out.println(&quot;Grace Start parsed.&quot;);&#xD;
					isGrace = true; // Set grace flag on&#xD;
					// Continue on to next token.&#xD;
					return abcT.getNextToken().execute(makeSeqListAlgo, params);&#xD;
				}&#xD;
			};&#xD;
&#xD;
			// ------ Grace Note End--------------------------------------------&#xD;
			ITokVisitorCmd graceEndCmd = new ITokVisitorCmd() {&#xD;
				@Override&#xD;
				public Object apply(String id, Token host, Object... params) {&#xD;
					System.out.println(&quot;Grace End parsed.&quot;);&#xD;
					isGrace = false; // Set grace flag on&#xD;
					// Continue on to next token.&#xD;
					return abcT.getNextToken().execute(makeSeqListAlgo, params);&#xD;
				}&#xD;
			};&#xD;
&#xD;
			// ------ Tuplet----------------------------------------------&#xD;
			ITokVisitorCmd tupletCmd = new ITokVisitorCmd() {&#xD;
&#xD;
				// Internal visitor to get rest of chord&#xD;
				ATokVisitor makeTupletAlgo = new ATokVisitor(&#xD;
						new ITokVisitorCmd() {&#xD;
							@Override&#xD;
							public Object apply(String id, Token host,&#xD;
									Object... params) {&#xD;
								throw new IllegalArgumentException(&#xD;
										&quot;ABCParser.tupletCmd: Non-Note token encountered: &quot;&#xD;
												+ host);&#xD;
							}&#xD;
&#xD;
						}) {&#xD;
					// Initializer block for internal visitor&#xD;
					{&#xD;
						this.addCmd(&quot;Note&quot;, new ITokVisitorCmd() {&#xD;
							@SuppressWarnings(&quot;unchecked&quot;)&#xD;
							@Override&#xD;
							public Object apply(String id, Token host,&#xD;
									Object... params) {&#xD;
								int count = (Integer) params[0];&#xD;
								Vector&lt;Note> vNotes = ((Vector&lt;Note>) params[1]);&#xD;
&#xD;
								Note note = makeNote(host);&#xD;
								System.out.println(&quot;Tuplet parsed Note: &quot;&#xD;
										+ note + &quot; count = &quot; + count);&#xD;
								vNotes.add(note);&#xD;
&#xD;
								if (1 == count) {&#xD;
									Note[] result = new Note[vNotes.size()];&#xD;
									for (int i = 0; i &lt; vNotes.size(); i++)&#xD;
										result[i] = vNotes.get(i);&#xD;
									return result;&#xD;
								} else {&#xD;
									return abcT.getNextToken().execute(&#xD;
											makeTupletAlgo, --count, vNotes);&#xD;
								}&#xD;
							}&#xD;
						});&#xD;
&#xD;
					}&#xD;
				};&#xD;
&#xD;
				@Override&#xD;
				public Object apply(String id, Token host, Object... params) {&#xD;
					int nNotes = Integer.parseInt(host.getLexeme());&#xD;
&#xD;
					Note[] notes = (Note[]) abcT.getNextToken().execute(&#xD;
							makeTupletAlgo, nNotes, new Vector&lt;Note>());&#xD;
&#xD;
					NoteCollection result;&#xD;
&#xD;
					if (3 == nNotes) {&#xD;
						result = new Triplet(notes[0], notes[1], notes[2]);&#xD;
					} else {&#xD;
						result = new Tuplet(notes);&#xD;
					}&#xD;
					System.out.println(&quot;Tuplet parsed: &quot; + result);&#xD;
					return new NESeqList(result, (ISeqList) abcT.getNextToken()&#xD;
							.execute(makeSeqListAlgo, params));&#xD;
				}&#xD;
			};&#xD;
&#xD;
			// ------ Measure bar --------------------------------------------&#xD;
			ITokVisitorCmd measureBarCmd = new ITokVisitorCmd() {&#xD;
				@Override&#xD;
				public Object apply(String id, Token host, Object... params) {&#xD;
					accidentalNotes.clear(); // clear any accidentals&#xD;
					System.out&#xD;
							.println(&quot;Measure bar parsed.  Accidental Notes cleared.&quot;);&#xD;
					// Continue on to next token.&#xD;
					return abcT.getNextToken().execute(makeSeqListAlgo, params);&#xD;
				}&#xD;
			};&#xD;
&#xD;
			// ------ Repeat Start -----------------------------------------&#xD;
			ITokVisitorCmd repeatStartCmd = new ITokVisitorCmd() {&#xD;
				@Override&#xD;
				public Object apply(String id, Token host, Object... params) {&#xD;
					DecoratorSeqList repeatStart = new DecoratorSeqList();&#xD;
					pushJumpTarget(repeatStart);&#xD;
					System.out.println(&quot;Repeat Start parsed&quot;);&#xD;
					ISeqList result = (ISeqList) abcT.getNextToken().execute(&#xD;
							makeSeqListAlgo, params);&#xD;
					repeatStart.setDecoree(result);&#xD;
					return result;&#xD;
				}&#xD;
			};&#xD;
&#xD;
			// ------ Repeat End -----------------------------------------&#xD;
			ITokVisitorCmd repeatEndCmd = new ITokVisitorCmd() {&#xD;
				@Override&#xD;
				public Object apply(String id, Token host, Object... params) {&#xD;
					ISeqList jumpTarget = popJumpTarget();&#xD;
					System.out.println(&quot;Repeat End parsed&quot;);&#xD;
					if (jumpSecondRepeatStack.isEmpty()) {&#xD;
						return new ToggleDecoratorSeqList(jumpTarget,&#xD;
								(ISeqList) abcT.getNextToken().execute(&#xD;
										makeSeqListAlgo, params));&#xD;
					} else {&#xD;
						abcT.getNextToken().execute(makeSeqListAlgo, params);&#xD;
						return jumpTarget;&#xD;
					}&#xD;
				}&#xD;
			};&#xD;
&#xD;
			// ------ First Repeat Start Repeat --------------------------&#xD;
			ITokVisitorCmd firstRepeatStartCmd = new ITokVisitorCmd() {&#xD;
				@Override&#xD;
				public Object apply(String id, Token host, Object... params) {&#xD;
					DecoratorSeqList secondRepeatStart = new DecoratorSeqList();&#xD;
					jumpSecondRepeatStack.push(secondRepeatStart);&#xD;
					System.out&#xD;
							.println(&quot;First Repeat Start parsed.  ID = &quot; + id);&#xD;
					return new ToggleDecoratorSeqList((ISeqList) abcT&#xD;
							.getNextToken().execute(makeSeqListAlgo, params),&#xD;
							secondRepeatStart);&#xD;
				}&#xD;
			};&#xD;
&#xD;
			// ------ Second Repeat Start Repeat --------------------------&#xD;
			ITokVisitorCmd secondRepeatStartCmd = new ITokVisitorCmd() {&#xD;
				@Override&#xD;
				public Object apply(String id, Token host, Object... params) {&#xD;
					DecoratorSeqList secondRepeatStart = jumpSecondRepeatStack&#xD;
							.pop();&#xD;
					System.out.println(&quot;Second Repeat Start parsed.  ID = &quot;&#xD;
							+ id);&#xD;
					ISeqList result = (ISeqList) abcT.getNextToken().execute(&#xD;
							makeSeqListAlgo, params);&#xD;
					secondRepeatStart.setDecoree(result);&#xD;
					return result;&#xD;
				}&#xD;
			};&#xD;
&#xD;
			// ------ Alt. Second Repeat Start Repeat --------------------------&#xD;
			/**&#xD;
			 * This covers the &quot;:|2&quot; token which includes the repeat.&#xD;
			 */&#xD;
			ITokVisitorCmd secondRepeatStartAltCmd = new ITokVisitorCmd() {&#xD;
				@Override&#xD;
				public Object apply(String id, Token host, Object... params) {&#xD;
					DecoratorSeqList secondRepeatStart = jumpSecondRepeatStack&#xD;
							.pop();&#xD;
					System.out&#xD;
							.println(&quot;Second Repeat Start Alt. parsed.  ID = &quot;&#xD;
									+ id);&#xD;
					ISeqList result = (ISeqList) abcT.getNextToken().execute(&#xD;
							makeSeqListAlgo, params);&#xD;
					secondRepeatStart.setDecoree(result);&#xD;
					return popJumpTarget();&#xD;
				}&#xD;
			};&#xD;
&#xD;
			// ------ Quote processing --------------------------&#xD;
			ITokVisitorCmd quoteCmd = new ITokVisitorCmd() {&#xD;
&#xD;
				FineToggleDecoratorSeqList fineToggle = new FineToggleDecoratorSeqList();&#xD;
&#xD;
				boolean isSwapped = false;&#xD;
&#xD;
				@Override&#xD;
				public Object apply(String id, Token host, Object... params) {&#xD;
					if (host.getLexeme().equals(&quot;_fine&quot;)) {&#xD;
&#xD;
						System.out.println(&quot;\&quot;_fine\&quot; parsed&quot;);&#xD;
						fineToggle.setDecoree(0, (ISeqList) abcT.getNextToken()&#xD;
								.execute(makeSeqListAlgo, params));&#xD;
						return fineToggle;&#xD;
					} else if (host.getLexeme().equals(&quot;_D.C al Fine&quot;)) {&#xD;
						if (isSwapped) {&#xD;
							System.out.println(&quot;\&quot;_D.C al Fine\&quot; parsed&quot;);&#xD;
							return new ISeqList() {&#xD;
&#xD;
								@Override&#xD;
								public Object execute(IPhraseVisitor algo,&#xD;
										Object... params) {&#xD;
									fineToggle.setFine();&#xD;
									return beginningTarget&#xD;
											.execute(algo, params);&#xD;
								}&#xD;
							};&#xD;
						} else {&#xD;
							isSwapped = true;&#xD;
							System.out&#xD;
									.println(&quot;\&quot;_D.C al Fine\&quot; parsed, but swapped for next token.&quot;);&#xD;
							return swapToken(host).execute(makeSeqListAlgo,&#xD;
									params);&#xD;
						}&#xD;
					} else {&#xD;
						System.out.println(&quot;Quote parsed - ignored&quot;);&#xD;
						return abcT.getNextToken().execute(makeSeqListAlgo,&#xD;
								params);&#xD;
					}&#xD;
				}&#xD;
			};&#xD;
&#xD;
			// ---- Add Commands to Visitor------------------------------&#xD;
&#xD;
			makeSeqListAlgo.addCmd(&quot;EOF&quot;, eofCmd);&#xD;
			makeSeqListAlgo.addCmd(&quot;Note&quot;, noteCmd);&#xD;
&#xD;
			String headers = &quot;ABCDEFGHIKLMNOPQRSTWXZ&quot;;&#xD;
			for (int i = 0; i &lt; headers.length(); i++) {&#xD;
				makeSeqListAlgo.addCmd(&quot;&quot; + headers.charAt(i), headerCmd);&#xD;
			}&#xD;
&#xD;
			makeSeqListAlgo.addCmd(&quot;[&quot;, chordStartCmd);&#xD;
			makeSeqListAlgo.addCmd(&quot;{&quot;, graceStartCmd);&#xD;
			makeSeqListAlgo.addCmd(&quot;}&quot;, graceEndCmd);&#xD;
			makeSeqListAlgo.addCmd(&quot;Tuplet&quot;, tupletCmd);&#xD;
			makeSeqListAlgo.addCmd(&quot;|&quot;, measureBarCmd);&#xD;
			makeSeqListAlgo.addCmd(&quot;|:&quot;, repeatStartCmd);&#xD;
			makeSeqListAlgo.addCmd(&quot;:|&quot;, repeatEndCmd);&#xD;
			makeSeqListAlgo.addCmd(&quot;|1&quot;, firstRepeatStartCmd);&#xD;
			makeSeqListAlgo.addCmd(&quot;[1&quot;, firstRepeatStartCmd);&#xD;
			makeSeqListAlgo.addCmd(&quot;[2&quot;, secondRepeatStartCmd);&#xD;
			makeSeqListAlgo.addCmd(&quot;|2&quot;, secondRepeatStartCmd);&#xD;
			makeSeqListAlgo.addCmd(&quot;:|2&quot;, secondRepeatStartAltCmd);&#xD;
			makeSeqListAlgo.addCmd(&quot;Quote&quot;, quoteCmd);&#xD;
		} catch (Exception e) {&#xD;
			System.err.println(&quot;ABCParser constructor exception: &quot; + e);&#xD;
		}&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q2eA5GPEeaIQ-hA1qOqOA" name="parse" specification="_9ELT9ZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q2eBJGPEeaIQ-hA1qOqOA" type="_9EutkJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>ISeqList beginning = (ISeqList) abcT.getNextToken().execute(&#xD;
				makeSeqListAlgo, MTSeqList.Singleton);&#xD;
		beginningTarget.setDecoree(beginning);&#xD;
		return beginning;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q3FEJGPEeaIQ-hA1qOqOA" name="makeNote" specification="_9K_GkJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q3FEZGPEeaIQ-hA1qOqOA" name="host" type="_9GF_gJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Q3FEpGPEeaIQ-hA1qOqOA" type="_9FCPkJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>char name = 'C';&#xD;
		int octave = 0;&#xD;
		int accidental = 0;&#xD;
		double duration = 1.0;&#xD;
		boolean isNatural = false;&#xD;
&#xD;
		String lex = host.getLexeme();&#xD;
&#xD;
		// get accidental value&#xD;
		int i = 0;&#xD;
		for (; i &lt; lex.length(); i++) {&#xD;
			if (Character.isLetter(lex.charAt(i))) {&#xD;
				break;&#xD;
			}&#xD;
			if (lex.charAt(i) == '^') {&#xD;
				accidental += +1;&#xD;
			} else if (lex.charAt(i) == '_') {&#xD;
				accidental += -1;&#xD;
			} else if (lex.charAt(i) == '=') {&#xD;
				isNatural = true;&#xD;
			}&#xD;
		}&#xD;
&#xD;
		if (Character.isLowerCase(lex.charAt(i))) {&#xD;
			octave++;&#xD;
		}&#xD;
		name = Character.toUpperCase(lex.charAt(i));&#xD;
		i++;&#xD;
&#xD;
		// get octave value&#xD;
&#xD;
		for (; i &lt; lex.length(); i++) {&#xD;
			if (Character.isDigit(lex.charAt(i)) || '/' == lex.charAt(i)) {&#xD;
				break;&#xD;
			}&#xD;
			if ('\'' == lex.charAt(i))&#xD;
				octave += +1;&#xD;
			else if (',' == lex.charAt(i))&#xD;
				octave += -1;&#xD;
		}&#xD;
&#xD;
		if (i &lt; lex.length()) {&#xD;
			if (Character.isDigit(lex.charAt(i))) {&#xD;
				int idx = lex.substring(i).indexOf('/');&#xD;
				if (-1 == idx) {&#xD;
					duration = Double.parseDouble(lex.substring(i));&#xD;
				} else if (lex.length() > i + idx + 1) {&#xD;
					duration = Double.parseDouble(lex.substring(i, i + idx))&#xD;
							/ Double.parseDouble(lex.substring(i + idx + 1));&#xD;
				} else {&#xD;
					duration = Double.parseDouble(lex.substring(i, i + idx)) / 2.0;&#xD;
				}&#xD;
			} else {&#xD;
				i++;&#xD;
				if (i &lt; lex.length()) {&#xD;
					duration /= Double.parseDouble(lex.substring(i));&#xD;
				} else {&#xD;
					duration /= 2.0; // Slash w/o number is divide by two.&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
&#xD;
		if (isGrace) {&#xD;
			duration *= grace_multiplier;&#xD;
			graceDuration += duration; // sum the duration of the grace notes&#xD;
		} else if (graceDuration > 0.0) {&#xD;
			// Correct the length of the current note to get it back on beat.&#xD;
			duration -= graceDuration;&#xD;
			graceDuration = 0.0;&#xD;
		}&#xD;
&#xD;
		if (dottedCorrection != 0.0) {&#xD;
			duration += dottedCorrection;&#xD;
			dottedCorrection = 0.0;&#xD;
		}&#xD;
&#xD;
		duration = (Double) abcT.getNextToken().execute(checkNextNoteAlgo,&#xD;
				duration);&#xD;
&#xD;
		Note note = new Note(name, octave, accidental, duration, isNatural);&#xD;
&#xD;
		if (!isNatural) // naturals always override prior accidentals in measure&#xD;
			checkAccidentals(note);&#xD;
		return note;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q3FE5GPEeaIQ-hA1qOqOA" name="checkAccidentals" specification="_9K_toZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q3FFJGPEeaIQ-hA1qOqOA" name="note" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <language>java</language>
            <body>for (Note n : accidentalNotes) {&#xD;
			if (n.getName() == note.getName()&#xD;
					&amp;&amp; n.getOctave() == note.getOctave()) {&#xD;
				System.out&#xD;
						.println(note&#xD;
								+ &quot; found in accidentals.  Overriding accidentals and isNatural to &quot;&#xD;
								+ n);&#xD;
				note.setAccidental(n.getAccidental());&#xD;
				note.setIsNatural(n.getIsNatural()); // this will override&#xD;
														// accidentals if true&#xD;
				return;&#xD;
			}&#xD;
		}&#xD;
		if (note.getAccidental() != 0 || note.getIsNatural()) {&#xD;
			addAccidental(note);&#xD;
		}&#xD;
		return;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q3sIJGPEeaIQ-hA1qOqOA" name="addAccidental" specification="_9LAUsZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q3sIZGPEeaIQ-hA1qOqOA" name="note" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <language>java</language>
            <body>removeAccidental(note); // remove anything like this note&#xD;
		accidentalNotes.add(note); // put this specific note in&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q3sIpGPEeaIQ-hA1qOqOA" name="removeAccidental" specification="_9LA7wJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q3sI5GPEeaIQ-hA1qOqOA" name="note" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <language>java</language>
            <body>for (Note n : accidentalNotes) {&#xD;
			if (n.getName() == note.getName()&#xD;
					&amp;&amp; n.getOctave() == note.getOctave()) {&#xD;
				accidentalNotes.remove(n);&#xD;
				// Check all notes, just to be safe&#xD;
			}&#xD;
		}&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q4TMJGPEeaIQ-hA1qOqOA" name="swapToken" specification="_9LBi0JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q4TMZGPEeaIQ-hA1qOqOA" name="t" type="_9GF_gJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Q4TMpGPEeaIQ-hA1qOqOA" type="_9GF_gJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>Token next = abcT.getNextToken();&#xD;
		abcT.putBack(t);&#xD;
		return next;&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9EKF0JGPEeaIQ-hA1qOqOA" name="popJumpTarget" visibility="private" method="_9Q128JGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rn6EJGPEeaIQ-hA1qOqOA">
              <body>Pull off the current jump target from the jump target stack. If the stack&#xD;
	 * is empty, return the proxy for the beginning of the phrase, as this is&#xD;
	 * the default jump target.&#xD;
	 * &#xD;
	 * @return The current jump target or the beginning of the phrase.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9K9RYJGPEeaIQ-hA1qOqOA" type="_9EbyoJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9ELT8JGPEeaIQ-hA1qOqOA" name="ABCParser" method="_9Q2eAJGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9ELT8pGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9ELT85GPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_9Rn6EpGPEeaIQ-hA1qOqOA">
              <body>Constructs a parser for the given ABC input file.   Does not actually run that parser yet.&#xD;
	 * Prints error message to System.err if there is a problem opening the given file.   The returned &#xD;
	 * parser will be null in the event of an error.&#xD;
	 * @param inputFileName&#xD;
	 *            the name of the input text file</body>
            </ownedComment>
            <ownedParameter xmi:id="_9ELT8ZGPEeaIQ-hA1qOqOA" name="inputFileName">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9ELT9JGPEeaIQ-hA1qOqOA" type="_9EHpkJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9ELT9ZGPEeaIQ-hA1qOqOA" name="parse" method="_9Q2eA5GPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rn6E5GPEeaIQ-hA1qOqOA">
              <body>&#xD;
	 * Run the parser and parse the entire file, returning an IPhrase object that represents the entire piece of music.&#xD;
	 * &#xD;
	 * @return An IPhrase object</body>
            </ownedComment>
            <ownedParameter xmi:id="_9K-fgJGPEeaIQ-hA1qOqOA" type="_9EutkJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9K9RYZGPEeaIQ-hA1qOqOA" name="pushJumpTarget" visibility="private" method="_9Q128pGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rn6EZGPEeaIQ-hA1qOqOA">
              <body>Push the given jump target onto the stack so that it is now the current&#xD;
	 * jump target. This corresponds to the innermost nested repeat.&#xD;
	 * &#xD;
	 * @param target&#xD;
	 *            The new current jump target.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9K94cJGPEeaIQ-hA1qOqOA" name="target" type="_9EbyoJGPEeaIQ-hA1qOqOA"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9K_GkJGPEeaIQ-hA1qOqOA" name="makeNote" visibility="private" method="_9Q3FEJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rn6FJGPEeaIQ-hA1qOqOA">
              <body>Parse a Note from the given Token&#xD;
	 * &#xD;
	 * @param host&#xD;
	 *            The Note token&#xD;
	 * @return A Note object</body>
            </ownedComment>
            <ownedParameter xmi:id="_9K_GkZGPEeaIQ-hA1qOqOA" name="host" type="_9GF_gJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9K_toJGPEeaIQ-hA1qOqOA" type="_9FCPkJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9K_toZGPEeaIQ-hA1qOqOA" name="checkAccidentals" visibility="private" method="_9Q3FE5GPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rn6FZGPEeaIQ-hA1qOqOA">
              <body>Checks to see if the given Note is in the set of accidentals Checks name&#xD;
	 * and octave but not duration or accidental&#xD;
	 * &#xD;
	 * @param note&#xD;
	 *            The note to check</body>
            </ownedComment>
            <ownedParameter xmi:id="_9LAUsJGPEeaIQ-hA1qOqOA" name="note" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9LAUsZGPEeaIQ-hA1qOqOA" name="addAccidental" visibility="private" method="_9Q3sIJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rn6FpGPEeaIQ-hA1qOqOA">
              <body>Adds a note to the set of accidentals replaces any note with the same&#xD;
	 * name and octave. duration and accidental are ignored.&#xD;
	 * &#xD;
	 * @param note&#xD;
	 *            the Note to add.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9LAUspGPEeaIQ-hA1qOqOA" name="note" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9LA7wJGPEeaIQ-hA1qOqOA" name="removeAccidental" visibility="private" method="_9Q3sIpGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rn6F5GPEeaIQ-hA1qOqOA">
              <body>Removes a note from the set of accidentals Removes any note with the same&#xD;
	 * name and octave. duration and accidental are ignored.&#xD;
	 * &#xD;
	 * @param note&#xD;
	 *            the note to remove</body>
            </ownedComment>
            <ownedParameter xmi:id="_9LA7wZGPEeaIQ-hA1qOqOA" name="note" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9LBi0JGPEeaIQ-hA1qOqOA" name="swapToken" visibility="private" method="_9Q4TMJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RohIJGPEeaIQ-hA1qOqOA">
              <body>Swap the given token for the next token in the tokenizer, returning the&#xD;
	 * next token. The given token will be the next token out of the tokenizer.&#xD;
	 * &#xD;
	 * @param t The token to be swapped into the tokenizer&#xD;
	 * @return the token that previously was next in the tokenizer.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9LBi0ZGPEeaIQ-hA1qOqOA" name="t" type="_9GF_gJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9LBi0pGPEeaIQ-hA1qOqOA" type="_9GF_gJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SPlIZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SPlIpGPEeaIQ-hA1qOqOA _9PRwsJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SPlIpGPEeaIQ-hA1qOqOA" name="" type="_9EHpkJGPEeaIQ-hA1qOqOA" association="_9SPlIZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SQMMZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SQMMpGPEeaIQ-hA1qOqOA _9PSXwJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SQMMpGPEeaIQ-hA1qOqOA" name="" type="_9EHpkJGPEeaIQ-hA1qOqOA" association="_9SQMMZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SRaUJGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SRaUZGPEeaIQ-hA1qOqOA _9PS-0ZGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SRaUZGPEeaIQ-hA1qOqOA" name="" type="_9EHpkJGPEeaIQ-hA1qOqOA" association="_9SRaUJGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SSocZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SSocpGPEeaIQ-hA1qOqOA _9PUM8ZGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SSocpGPEeaIQ-hA1qOqOA" name="" type="_9EHpkJGPEeaIQ-hA1qOqOA" association="_9SSocZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9STPgZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9STPgpGPEeaIQ-hA1qOqOA _9PVbEpGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9STPgpGPEeaIQ-hA1qOqOA" name="" type="_9EHpkJGPEeaIQ-hA1qOqOA" association="_9STPgZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9ST2kZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9ST2kpGPEeaIQ-hA1qOqOA _9Pd98ZGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9ST2kpGPEeaIQ-hA1qOqOA" name="" type="_9EHpkJGPEeaIQ-hA1qOqOA" association="_9ST2kZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SUdoZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SUdopGPEeaIQ-hA1qOqOA _9PelAZGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SUdopGPEeaIQ-hA1qOqOA" name="" type="_9EHpkJGPEeaIQ-hA1qOqOA" association="_9SUdoZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_9Bd-MZGPEeaIQ-hA1qOqOA" name="music">
        <packagedElement xmi:type="uml:Class" xmi:id="_9EUd4JGPEeaIQ-hA1qOqOA" name="APhraseVisitor" isAbstract="true">
          <ownedComment xmi:id="_9RohIZGPEeaIQ-hA1qOqOA">
            <body>Command-based implementation of IPhraseVisitor that uses IPhraseVisitorCmds stored in a hash table.&#xD;
@author swong&#xD;
 *</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9PgaMJGPEeaIQ-hA1qOqOA" name="defaultCmd" visibility="private" type="_9EyX8JGPEeaIQ-hA1qOqOA" association="_9SVEsZGPEeaIQ-hA1qOqOA"/>
          <ownedAttribute xmi:id="_9PhBQZGPEeaIQ-hA1qOqOA" name="cmds" visibility="private" type="_9EyX8JGPEeaIQ-hA1qOqOA" association="_9SWS0JGPEeaIQ-hA1qOqOA">
            <qualifier xmi:id="_9PiPYJGPEeaIQ-hA1qOqOA">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </qualifier>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PhoUJGPEeaIQ-hA1qOqOA" value="new Hashtable&lt;String, IPhraseVisitorCmd>()"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_9LHpcZGPEeaIQ-hA1qOqOA" client="_9EUd4JGPEeaIQ-hA1qOqOA" supplier="_9EwiwJGPEeaIQ-hA1qOqOA" contract="_9EwiwJGPEeaIQ-hA1qOqOA"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q46QJGPEeaIQ-hA1qOqOA" name="APhraseVisitor" specification="_9EVE8JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q46QZGPEeaIQ-hA1qOqOA" type="_9EUd4JGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>defaultCmd = new IPhraseVisitorCmd() {&#xD;
			public Object apply(String idx, IPhrase host, Object... inps) {&#xD;
				throw new IllegalArgumentException(&#xD;
						&quot;APhraseVisitor: Unknown index encountered: &quot; + idx);&#xD;
			}&#xD;
		};&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q46QpGPEeaIQ-hA1qOqOA" name="APhraseVisitor" specification="_9LJeoJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q46Q5GPEeaIQ-hA1qOqOA" name="defaultCmd" type="_9EyX8JGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Q46RJGPEeaIQ-hA1qOqOA" type="_9EUd4JGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>this.defaultCmd = defaultCmd;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q5hUJGPEeaIQ-hA1qOqOA" name="caseAt" specification="_9NcksZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q5hUZGPEeaIQ-hA1qOqOA" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Q5hUpGPEeaIQ-hA1qOqOA" name="host" type="_9EutkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Q5hU5GPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9Q5hVJGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Q5hVZGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>if (cmds.containsKey(id)) {&#xD;
			return cmds.get(id).apply(id, host, params);&#xD;
		} else {&#xD;
			return defaultCmd.apply(id, host, params);&#xD;
		}&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q5hVpGPEeaIQ-hA1qOqOA" name="addCmd" specification="_9LKswJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q5hV5GPEeaIQ-hA1qOqOA" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Q5hWJGPEeaIQ-hA1qOqOA" name="cmd" type="_9EyX8JGPEeaIQ-hA1qOqOA"/>
            <language>java</language>
            <body>cmds.put(id, cmd);&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9EVE8JGPEeaIQ-hA1qOqOA" name="APhraseVisitor" method="_9Q46QJGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9EVE8ZGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9EVE8pGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_9RohIpGPEeaIQ-hA1qOqOA">
              <body>Constructor that installs a default cmd that throws an IllegalArgumentException on any unknown host.</body>
            </ownedComment>
            <ownedComment xmi:id="_9RohI5GPEeaIQ-hA1qOqOA">
              <body>Abstract extended visitor implementation that uses a dictionary of commands to associate commands with host IDs.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9EVE85GPEeaIQ-hA1qOqOA" type="_9EUd4JGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9LJeoJGPEeaIQ-hA1qOqOA" name="APhraseVisitor" method="_9Q46QpGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9LKFsJGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9LKFsZGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_9RohJJGPEeaIQ-hA1qOqOA">
              <body>Constructor that sets the default cmd to the supplied cmd.&#xD;
	 * @param defaultCmd   the default cmd to use.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9LJeoZGPEeaIQ-hA1qOqOA" name="defaultCmd" type="_9EyX8JGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9LKFspGPEeaIQ-hA1qOqOA" type="_9EUd4JGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9LKswJGPEeaIQ-hA1qOqOA" name="addCmd" method="_9Q5hVpGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RpIMJGPEeaIQ-hA1qOqOA">
              <body>Add the given command to the dictionary, associated with the given id value.&#xD;
	 * @param id The id of the host that will use this command&#xD;
	 * @param cmd The command that will be run when the host calls for it.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9LKswZGPEeaIQ-hA1qOqOA" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9LKswpGPEeaIQ-hA1qOqOA" name="cmd" type="_9EyX8JGPEeaIQ-hA1qOqOA"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9NcksZGPEeaIQ-hA1qOqOA" name="caseAt" method="_9Q5hUJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9NdLwJGPEeaIQ-hA1qOqOA" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9NdLwZGPEeaIQ-hA1qOqOA" name="host" type="_9EutkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9NdLwpGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9NtDYJGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9NdLw5GPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9EZWYJGPEeaIQ-hA1qOqOA" name="Chord">
          <ownedComment xmi:id="_9RpIMZGPEeaIQ-hA1qOqOA">
            <body>A collection of notes that make up a Chord.  All of the notes should&#xD;
be played simultaneously.   The last note defines the length of all the notes.</body>
          </ownedComment>
          <ownedComment xmi:id="_9RpIMpGPEeaIQ-hA1qOqOA">
            <body>A collection of Notes all played at once</body>
          </ownedComment>
          <generalization xmi:id="_9LOXIJGPEeaIQ-hA1qOqOA" general="_9FLZgJGPEeaIQ-hA1qOqOA"/>
          <ownedAttribute xmi:id="_9Pi2cJGPEeaIQ-hA1qOqOA" name="ID" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PjdgJGPEeaIQ-hA1qOqOA" value="&quot;Chord&quot;"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q6IYJGPEeaIQ-hA1qOqOA" name="Chord" specification="_9LMh8JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q6IYZGPEeaIQ-hA1qOqOA" name="notes" type="_9FCPkJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9Q6IYpGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Q6IY5GPEeaIQ-hA1qOqOA" type="_9EZWYJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>super(notes);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q6IZJGPEeaIQ-hA1qOqOA" name="execute" specification="_9Nu4kJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q6IZZGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Q6IZpGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9Q6IZ5GPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Q6IaJGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>return algo.caseAt(ID, this, params);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q6vcJGPEeaIQ-hA1qOqOA" name="toString" specification="_9EZ9cJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q6vcZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>String result = &quot;Chord(&quot; + notes[0];&#xD;
		for (int i = 1; i &lt; notes.length; i++) {&#xD;
			result += &quot;, &quot; + notes[i];&#xD;
		}&#xD;
		return result + &quot;)&quot;;&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9EZ9cJGPEeaIQ-hA1qOqOA" name="toString" method="_9Q6vcJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9EZ9cZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9LMh8JGPEeaIQ-hA1qOqOA" name="Chord" method="_9Q6IYJGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9LMh8pGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9LMh85GPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_9LMh8ZGPEeaIQ-hA1qOqOA" name="notes" type="_9FCPkJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9LNJApGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9LNJAZGPEeaIQ-hA1qOqOA" type="_9EZWYJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9Nu4kJGPEeaIQ-hA1qOqOA" name="execute" method="_9Q6IZJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Nu4kZGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Nu4kpGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9NvfopGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9NvfoJGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9EbyoJGPEeaIQ-hA1qOqOA" name="DecoratorSeqList">
          <ownedComment xmi:id="_9RpIM5GPEeaIQ-hA1qOqOA">
            <body>An ISeqList that transparently routes the visitor execution to its decoree.  &#xD;
This class is primarily used to provide a placeholder when a the music should flow &#xD;
to a specific point in the sequence but that point has not yet been calculated, as occurs&#xD;
for instance, during the processing of repeats.    When that target point is finally calculated, &#xD;
the decoree can be set and the decorated target will behave identically to the target.&#xD;
This decorator can also be used to dynamically change the flow of the music by changing the target.  &#xD;
@author swong</body>
          </ownedComment>
          <ownedComment xmi:id="_9RpINJGPEeaIQ-hA1qOqOA">
            <body>Decorated ISeqList used as a transparent proxy placeholder.</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9PkEkJGPEeaIQ-hA1qOqOA" name="decoree" visibility="private" type="_9E00MJGPEeaIQ-hA1qOqOA" association="_9SW54ZGPEeaIQ-hA1qOqOA">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PkroJGPEeaIQ-hA1qOqOA" value="MTSeqList.Singleton"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_9LO-MJGPEeaIQ-hA1qOqOA" client="_9EbyoJGPEeaIQ-hA1qOqOA" supplier="_9E00MJGPEeaIQ-hA1qOqOA" contract="_9E00MJGPEeaIQ-hA1qOqOA"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q6vcpGPEeaIQ-hA1qOqOA" name="DecoratorSeqList" specification="_9LPlQJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q6vc5GPEeaIQ-hA1qOqOA" name="decoree" type="_9E00MJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Q6vdJGPEeaIQ-hA1qOqOA" type="_9EbyoJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>setDecoree(decoree);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q7WgJGPEeaIQ-hA1qOqOA" name="setDecoree" specification="_9LQMUJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q7WgZGPEeaIQ-hA1qOqOA" name="decoree" type="_9E00MJGPEeaIQ-hA1qOqOA"/>
            <language>java</language>
            <body>this.decoree = decoree;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q79kJGPEeaIQ-hA1qOqOA" name="execute" specification="_9NxU0JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q79kZGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Q79kpGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9Q79k5GPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Q79lJGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>return decoree.execute(algo, params);&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9Edn0JGPEeaIQ-hA1qOqOA" name="DecoratorSeqList">
            <eAnnotations xmi:id="_9EeO4JGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9EeO4ZGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_9EeO45GPEeaIQ-hA1qOqOA" type="_9EbyoJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9LPlQJGPEeaIQ-hA1qOqOA" name="DecoratorSeqList" method="_9Q6vcpGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9LPlQpGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9LPlQ5GPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_9RpINZGPEeaIQ-hA1qOqOA">
              <body>Constructor used to set the decoree to a known value at construction time.&#xD;
	 * @param decoree The decoree phrase sequence</body>
            </ownedComment>
            <ownedParameter xmi:id="_9LPlQZGPEeaIQ-hA1qOqOA" name="decoree" type="_9E00MJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9LPlRJGPEeaIQ-hA1qOqOA" type="_9EbyoJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9LQMUJGPEeaIQ-hA1qOqOA" name="setDecoree" method="_9Q7WgJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RpvQJGPEeaIQ-hA1qOqOA">
              <body>Setter methods used to set the decoree.&#xD;
	 * @param decoree  The new decoree ISeqList.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9LQMUZGPEeaIQ-hA1qOqOA" name="decoree" type="_9E00MJGPEeaIQ-hA1qOqOA"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9NxU0JGPEeaIQ-hA1qOqOA" name="execute" method="_9Q79kJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9NxU0ZGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9NxU0pGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9Nx74pGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Nx74JGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9EhSMJGPEeaIQ-hA1qOqOA" name="FineToggleDecoratorSeqList">
          <ownedComment xmi:id="_9RpvQZGPEeaIQ-hA1qOqOA">
            <body>The class is used to implement &quot;Da Capo al fine&quot; or &quot;D.C. al fine&quot;, &#xD;
which is to repeat from the beginning up to the &quot;fine&quot; marker.&#xD;
&#xD;
this class assumes that only two target decorees are ever used.&#xD;
&#xD;
The is ToggleDecoratorSeqList that can be signaled to switch to the &#xD;
another target.   Be default, the target decoree (#0) remains the same even &#xD;
when it is accessed.  But after setFine() is called, the target decoree&#xD;
is switched to the #1 decoree (the &quot;fine&quot; target, usually an MTSeqList because&#xD;
it is the end of the piece).   After the #1 decoree is used, the target&#xD;
decoree is advanced to the next available decoree, which , for two decorees, &#xD;
would be back to the #0 decoree.  The class returns to default behavior then.&#xD;
@author swong</body>
          </ownedComment>
          <ownedComment xmi:id="_9RqWUJGPEeaIQ-hA1qOqOA">
            <body>ToggleDecoratorSeqList with controllable cycling</body>
          </ownedComment>
          <generalization xmi:id="_9LVE0JGPEeaIQ-hA1qOqOA" general="_9FN1wJGPEeaIQ-hA1qOqOA"/>
          <ownedAttribute xmi:id="_9PnH4JGPEeaIQ-hA1qOqOA" name="isFine" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9Pnu8JGPEeaIQ-hA1qOqOA" value="false"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q79lZGPEeaIQ-hA1qOqOA" name="FineToggleDecoratorSeqList" specification="_9EigUJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q79lpGPEeaIQ-hA1qOqOA" type="_9EhSMJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>super();&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q8koJGPEeaIQ-hA1qOqOA" name="FineToggleDecoratorSeqList" specification="_9LTPoJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q8koZGPEeaIQ-hA1qOqOA" name="decorees" type="_9E00MJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9Q8kopGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Q8ko5GPEeaIQ-hA1qOqOA" type="_9EhSMJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>super(decorees);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q8kpJGPEeaIQ-hA1qOqOA" name="setFine" specification="_9EjHYJGPEeaIQ-hA1qOqOA">
            <language>java</language>
            <body>this.isFine = true;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q9LsJGPEeaIQ-hA1qOqOA" name="execute" specification="_9NzxEJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q9LsZGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Q9LspGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9Q9Ls5GPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Q9LtJGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>if (isFine) {&#xD;
			isFine = false;&#xD;
			this.setTargetToDecoree(1);&#xD;
			return super.execute(algo, params);&#xD;
		} else&#xD;
			return getTargetDecoree().execute(algo, params);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q9LtZGPEeaIQ-hA1qOqOA" name="toString" specification="_9EjucJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q9LtpGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return (String) this.execute(NESeqList.getToStringAlgo(), &quot;{&quot;);&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9EigUJGPEeaIQ-hA1qOqOA" name="FineToggleDecoratorSeqList" method="_9Q79lZGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9EigUZGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9EigUpGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_9RqWUZGPEeaIQ-hA1qOqOA">
              <body>Instantiates the class with two MTSeqList decorees.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9EigU5GPEeaIQ-hA1qOqOA" type="_9EhSMJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9EjHYJGPEeaIQ-hA1qOqOA" name="setFine" method="_9Q8kpJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RqWUpGPEeaIQ-hA1qOqOA">
              <body>Sets the system to use the &quot;fine&quot; decorator at the next execution.</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:id="_9EjucJGPEeaIQ-hA1qOqOA" name="toString" method="_9Q9LtZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9EjucZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9LTPoJGPEeaIQ-hA1qOqOA" name="FineToggleDecoratorSeqList" method="_9Q8koJGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9LT2sZGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9LT2spGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_9LT2sJGPEeaIQ-hA1qOqOA" name="decorees" type="_9E00MJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9LUdwpGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9LUdwZGPEeaIQ-hA1qOqOA" type="_9EhSMJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9NzxEJGPEeaIQ-hA1qOqOA" name="execute" method="_9Q9LsJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9NzxEZGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9NzxEpGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9N0_MZGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9N0YIJGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9Eom8JGPEeaIQ-hA1qOqOA" name="Header">
          <ownedComment xmi:id="_9RqWU5GPEeaIQ-hA1qOqOA">
            <body>An abc Header.  Headers are identified by a one character &quot;id&quot; and&#xD;
can have an arbitrary string value. &lt;br/>&#xD;
Note that this class represents many different *types* of headers, &#xD;
each with its own id value.</body>
          </ownedComment>
          <ownedComment xmi:id="_9RqWVJGPEeaIQ-hA1qOqOA">
            <body>A single Header class represents multiple, distinct header hosts.</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9PoWAJGPEeaIQ-hA1qOqOA" name="_id" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9Po9EZGPEeaIQ-hA1qOqOA" name="_value" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_9LWS8JGPEeaIQ-hA1qOqOA" client="_9Eom8JGPEeaIQ-hA1qOqOA" supplier="_9EutkJGPEeaIQ-hA1qOqOA" contract="_9EutkJGPEeaIQ-hA1qOqOA"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q9ywJGPEeaIQ-hA1qOqOA" name="Header" specification="_9EqcIJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q9ywZGPEeaIQ-hA1qOqOA" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Q9ywpGPEeaIQ-hA1qOqOA" name="value">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Q9yw5GPEeaIQ-hA1qOqOA" type="_9Eom8JGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>_id = id;&#xD;
		_value = value;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q9yxJGPEeaIQ-hA1qOqOA" name="execute" specification="_9N20YJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q9yxZGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Q9yxpGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9Q9yx5GPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Q9yyJGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>return algo.caseAt(_id, this, params);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q9yyZGPEeaIQ-hA1qOqOA" name="getID" specification="_9ErDMJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q9yypGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return _id;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q-Z0JGPEeaIQ-hA1qOqOA" name="getValue" specification="_9ErqQJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q-Z0ZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return _value;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q-Z0pGPEeaIQ-hA1qOqOA" name="toString" specification="_9ErqQpGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q-Z05GPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return _id + &quot;:&quot; + _value;&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9EqcIJGPEeaIQ-hA1qOqOA" name="Header" method="_9Q9ywJGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9EqcI5GPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9EqcJJGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_9RqWVZGPEeaIQ-hA1qOqOA">
              <body>Create a header out of an id and value&#xD;
	 * &#xD;
	 * @param id    - one character corresponding to the abc header name&#xD;
	 * @param value - arbitrary string value of the header</body>
            </ownedComment>
            <ownedParameter xmi:id="_9EqcIZGPEeaIQ-hA1qOqOA" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9EqcIpGPEeaIQ-hA1qOqOA" name="value">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9EqcJZGPEeaIQ-hA1qOqOA" type="_9Eom8JGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9ErDMJGPEeaIQ-hA1qOqOA" name="getID" method="_9Q9yyZGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rq9YJGPEeaIQ-hA1qOqOA">
              <body>Accessor for the id.&#xD;
	 * @return the _id</body>
            </ownedComment>
            <ownedParameter xmi:id="_9ErDMZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9ErqQJGPEeaIQ-hA1qOqOA" name="getValue" method="_9Q-Z0JGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rq9YZGPEeaIQ-hA1qOqOA">
              <body>Accessor for the text value of this header.&#xD;
	 * @return the _value</body>
            </ownedComment>
            <ownedParameter xmi:id="_9ErqQZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9ErqQpGPEeaIQ-hA1qOqOA" name="toString" method="_9Q-Z0pGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rq9YpGPEeaIQ-hA1qOqOA">
              <body>String representation of this header: &quot;id: text&quot;</body>
            </ownedComment>
            <ownedParameter xmi:id="_9ErqQ5GPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9N20YJGPEeaIQ-hA1qOqOA" name="execute" method="_9Q9yxJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9N20YZGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9N20YpGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9N3bcZGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9N20Y5GPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_9EtfcJGPEeaIQ-hA1qOqOA" name="INote">
          <ownedComment xmi:id="_9Rq9Y5GPEeaIQ-hA1qOqOA">
            <body>Note interface for Notes and collections of Notes.</body>
          </ownedComment>
          <ownedComment xmi:id="_9Rq9ZJGPEeaIQ-hA1qOqOA">
            <body>A generalized notion of a note</body>
          </ownedComment>
          <generalization xmi:id="_9LXhEJGPEeaIQ-hA1qOqOA" general="_9EutkJGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_9EutkJGPEeaIQ-hA1qOqOA" name="IPhrase">
          <ownedComment xmi:id="_9Rq9ZZGPEeaIQ-hA1qOqOA">
            <body>Top level of a piece of abc music.  The generalized notion of a playable piece of music.</body>
          </ownedComment>
          <ownedComment xmi:id="_9RrkcJGPEeaIQ-hA1qOqOA">
            <body>Abstract Host&#xD;
Each concrete host calls its associated case on the visitor.</body>
          </ownedComment>
          <ownedOperation xmi:id="_9N4pkJGPEeaIQ-hA1qOqOA" name="execute">
            <ownedParameter xmi:id="_9N5QoJGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9N5QoZGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9N53sZGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9N5QopGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_9EwiwJGPEeaIQ-hA1qOqOA" name="IPhraseVisitor">
          <ownedComment xmi:id="_9RrkcZGPEeaIQ-hA1qOqOA">
            <body>Interface for a Phrase visitor.</body>
          </ownedComment>
          <ownedComment xmi:id="_9RrkcpGPEeaIQ-hA1qOqOA">
            <body>Abstract extended visitor.&#xD;
Supplies case behavior for every host.</body>
          </ownedComment>
          <ownedOperation xmi:id="_9N7F0JGPEeaIQ-hA1qOqOA" name="caseAt">
            <ownedParameter xmi:id="_9N7F0ZGPEeaIQ-hA1qOqOA" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9N7s4JGPEeaIQ-hA1qOqOA" name="host" type="_9EutkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9N7s4ZGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9N-JIJGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9N7s4pGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_9EyX8JGPEeaIQ-hA1qOqOA" name="IPhraseVisitorCmd">
          <ownedComment xmi:id="_9Rrkc5GPEeaIQ-hA1qOqOA">
            <body>The command used by APhraseVisitor that is associated with a host or hosts.&#xD;
@author rixner</body>
          </ownedComment>
          <ownedComment xmi:id="_9RrkdJGPEeaIQ-hA1qOqOA">
            <body>Abstract command used by APhraseVisitor.  Each command is associated with a particular host(s).</body>
          </ownedComment>
          <ownedOperation xmi:id="_9N-wMJGPEeaIQ-hA1qOqOA" name="apply">
            <ownedParameter xmi:id="_9N-wMZGPEeaIQ-hA1qOqOA" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9N_XQJGPEeaIQ-hA1qOqOA" name="host" type="_9EutkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9N_XQZGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9OAlYJGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9N_XQpGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_9E00MJGPEeaIQ-hA1qOqOA" name="ISeqList">
          <ownedComment xmi:id="_9RrkdZGPEeaIQ-hA1qOqOA">
            <body>Interface for sequential lists of IPhrases.</body>
          </ownedComment>
          <ownedComment xmi:id="_9RsLgJGPEeaIQ-hA1qOqOA">
            <body>A list of IPhrases&#xD;
e.g. an ordered sequence of Notes.</body>
          </ownedComment>
          <generalization xmi:id="_9LZ9UJGPEeaIQ-hA1qOqOA" general="_9EutkJGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9E2CUJGPEeaIQ-hA1qOqOA" name="MTSeqList">
          <ownedComment xmi:id="_9RsLgZGPEeaIQ-hA1qOqOA">
            <body>An empty sequence list.</body>
          </ownedComment>
          <ownedComment xmi:id="_9RsLgpGPEeaIQ-hA1qOqOA">
            <body>An empty ISeqList</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9PpkIZGPEeaIQ-hA1qOqOA" name="ID" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PqLMJGPEeaIQ-hA1qOqOA" value="&quot;MTSeqList&quot;"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9PqLMZGPEeaIQ-hA1qOqOA" name="Singleton" isLeaf="true" isStatic="true" type="_9E2CUJGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SXg8JGPEeaIQ-hA1qOqOA">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PqLMpGPEeaIQ-hA1qOqOA" value="new MTSeqList()"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_9LakYJGPEeaIQ-hA1qOqOA" client="_9E2CUJGPEeaIQ-hA1qOqOA" supplier="_9E00MJGPEeaIQ-hA1qOqOA" contract="_9E00MJGPEeaIQ-hA1qOqOA"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q_A4JGPEeaIQ-hA1qOqOA" name="execute" specification="_9OBzgJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q_A4ZGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Q_A4pGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9Q_A45GPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Q_A5JGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>return algo.caseAt(ID, this, params);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q_A5ZGPEeaIQ-hA1qOqOA" name="toString" specification="_9E33gJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q_A5pGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return &quot;{}&quot;;&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9E2pYJGPEeaIQ-hA1qOqOA" name="MTSeqList" visibility="private">
            <eAnnotations xmi:id="_9E2pYZGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9E2pYpGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_9E3QcZGPEeaIQ-hA1qOqOA" type="_9E2CUJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9E33gJGPEeaIQ-hA1qOqOA" name="toString" method="_9Q_A5ZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9E33gZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9OBzgJGPEeaIQ-hA1qOqOA" name="execute" method="_9Q_A4JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9OBzgZGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9OCakJGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9ODBoJGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9OCakZGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9E660JGPEeaIQ-hA1qOqOA" name="NESeqList">
          <ownedComment xmi:id="_9RsLg5GPEeaIQ-hA1qOqOA">
            <body>A non-empty (&quot;cons&quot;) sequence list.</body>
          </ownedComment>
          <ownedComment xmi:id="_9RsLhJGPEeaIQ-hA1qOqOA">
            <body>A non-empty ISeqList</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9PqyQJGPEeaIQ-hA1qOqOA" name="ID" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PrZUJGPEeaIQ-hA1qOqOA" value="&quot;NESeqList&quot;"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9PrZUZGPEeaIQ-hA1qOqOA" name="_first" visibility="private" type="_9EutkJGPEeaIQ-hA1qOqOA" association="_9SXg85GPEeaIQ-hA1qOqOA"/>
          <ownedAttribute xmi:id="_9PsAYZGPEeaIQ-hA1qOqOA" name="_rest" visibility="private" type="_9E00MJGPEeaIQ-hA1qOqOA" association="_9SYIAZGPEeaIQ-hA1qOqOA"/>
          <ownedAttribute xmi:id="_9PsncJGPEeaIQ-hA1qOqOA" name="_toStringAlgo" visibility="private" isStatic="true" type="_9EwiwJGPEeaIQ-hA1qOqOA" association="_9SYvEZGPEeaIQ-hA1qOqOA"/>
          <interfaceRealization xmi:id="_9LdnsJGPEeaIQ-hA1qOqOA" client="_9E660JGPEeaIQ-hA1qOqOA" supplier="_9E00MJGPEeaIQ-hA1qOqOA" contract="_9E00MJGPEeaIQ-hA1qOqOA"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q_n8JGPEeaIQ-hA1qOqOA" name="NESeqList" specification="_9Le10JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Q_n8ZGPEeaIQ-hA1qOqOA" name="first" type="_9EutkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Q_n8pGPEeaIQ-hA1qOqOA" name="rest" type="_9E00MJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Q_n85GPEeaIQ-hA1qOqOA" type="_9E660JGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>this._rest = rest;&#xD;
		this._first = first;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Q_n9JGPEeaIQ-hA1qOqOA" name="getFirst" specification="_9E9XEJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RAPAJGPEeaIQ-hA1qOqOA" type="_9EutkJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>return _first;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RAPAZGPEeaIQ-hA1qOqOA" name="getRest" specification="_9E9-IJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RAPApGPEeaIQ-hA1qOqOA" type="_9E00MJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>return _rest;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RA2EJGPEeaIQ-hA1qOqOA" name="execute" specification="_9OEPwJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RA2EZGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RA2EpGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9RA2E5GPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RA2FJGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>return algo.caseAt(ID, this, params);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RA2FZGPEeaIQ-hA1qOqOA" name="setToStringAlgo" specification="_9LgD8JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RA2FpGPEeaIQ-hA1qOqOA" name="stringAlgo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <language>java</language>
            <body>_toStringAlgo = stringAlgo;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RBdIJGPEeaIQ-hA1qOqOA" name="getToStringAlgo" specification="_9E-lMJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RBdIZGPEeaIQ-hA1qOqOA" type="_9EwiwJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>return _toStringAlgo;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RBdIpGPEeaIQ-hA1qOqOA" name="toString" specification="_9E-lMZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RBdI5GPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return (String) _rest.execute(_toStringAlgo, &quot;{&quot; + _first.toString());&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9E9XEJGPEeaIQ-hA1qOqOA" name="getFirst" method="_9Q_n9JGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RsLhpGPEeaIQ-hA1qOqOA">
              <body>Accessor method for the first element&#xD;
	 * @return the IPhrase that is the first element of the sequence list</body>
            </ownedComment>
            <ownedParameter xmi:id="_9Lfc5JGPEeaIQ-hA1qOqOA" type="_9EutkJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9E9-IJGPEeaIQ-hA1qOqOA" name="getRest" method="_9RAPAZGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RsykJGPEeaIQ-hA1qOqOA">
              <body>Accessor method for the rest of the lsit&#xD;
	 * @return the rest of the sequence list</body>
            </ownedComment>
            <ownedParameter xmi:id="_9Lfc5ZGPEeaIQ-hA1qOqOA" type="_9E00MJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9E-lMJGPEeaIQ-hA1qOqOA" name="getToStringAlgo" visibility="package" isStatic="true" method="_9RBdIJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RsykpGPEeaIQ-hA1qOqOA">
              <body>Getter for the _toStringAlgo helper.  Only for use internally inside this package&#xD;
	 * so ToggleDecoratorSeqList and FineToggleDecoratorSeqList can use the same visitor.&#xD;
	 * @return the toStringAlgo helper visitor</body>
            </ownedComment>
            <ownedParameter xmi:id="_9LgrAZGPEeaIQ-hA1qOqOA" type="_9EwiwJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9E-lMZGPEeaIQ-hA1qOqOA" name="toString" method="_9RBdIpGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rsyk5GPEeaIQ-hA1qOqOA">
              <body>Run a visitor over the list to convert it to a String.  &#xD;
	 * Delegates to the rest of the list using the helper algo, with the accumulator &#xD;
	 * (params[0]) set to &quot;{&quot;+_first.toString().  &#xD;
	 * @return &quot;{a, b, c, d}&quot;</body>
            </ownedComment>
            <ownedParameter xmi:id="_9E-lMpGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9Le10JGPEeaIQ-hA1qOqOA" name="NESeqList" method="_9Q_n8JGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9Lfc4ZGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9Lfc4pGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_9RsLhZGPEeaIQ-hA1qOqOA">
              <body>Cons an IPhrase to a Sequence List.&#xD;
	 * @param first The first element of the sequence&#xD;
	 * @param rest The rest of the sequence</body>
            </ownedComment>
            <ownedParameter xmi:id="_9Le10ZGPEeaIQ-hA1qOqOA" name="first" type="_9EutkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Lfc4JGPEeaIQ-hA1qOqOA" name="rest" type="_9E00MJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Lfc45GPEeaIQ-hA1qOqOA" type="_9E660JGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9LgD8JGPEeaIQ-hA1qOqOA" name="setToStringAlgo" isStatic="true" method="_9RA2FZGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RsykZGPEeaIQ-hA1qOqOA">
              <body>Setter for the _toStringAlgo helper.  This non-typical method is provided solely &#xD;
	 * for the purpose of enabling the student to install their toStringAlgo into the &#xD;
	 * read-only provided code.&#xD;
	 * @param stringAlgo The helper algo to use.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9LgrAJGPEeaIQ-hA1qOqOA" name="stringAlgo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9OEPwJGPEeaIQ-hA1qOqOA" name="execute" method="_9RA2EJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9OEPwZGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9OE20JGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9OFd4JGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9OE20ZGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9FCPkJGPEeaIQ-hA1qOqOA" name="Note">
          <ownedComment xmi:id="_9RsylJGPEeaIQ-hA1qOqOA">
            <body>Basic class representing musical Notes.</body>
          </ownedComment>
          <ownedComment xmi:id="_9RsylZGPEeaIQ-hA1qOqOA">
            <body>A playable note or rest.</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9Pt1kJGPEeaIQ-hA1qOqOA" name="ID" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PucoJGPEeaIQ-hA1qOqOA" value="&quot;Note&quot;"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9PucoZGPEeaIQ-hA1qOqOA" name="name" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PvDsJGPEeaIQ-hA1qOqOA" value="'Z'"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9PvqwJGPEeaIQ-hA1qOqOA" name="octave">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9PwR0JGPEeaIQ-hA1qOqOA" value="0"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9Pw44JGPEeaIQ-hA1qOqOA" name="accidental" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9Pw44ZGPEeaIQ-hA1qOqOA" value="0"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9Pxf8JGPEeaIQ-hA1qOqOA" name="duration">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9Pxf8ZGPEeaIQ-hA1qOqOA" value="0"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9Pxf8pGPEeaIQ-hA1qOqOA" name="isNatural" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9Pxf85GPEeaIQ-hA1qOqOA" value="false"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_9LigMJGPEeaIQ-hA1qOqOA" client="_9FCPkJGPEeaIQ-hA1qOqOA" supplier="_9EtfcJGPEeaIQ-hA1qOqOA" contract="_9EtfcJGPEeaIQ-hA1qOqOA"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RCEMJGPEeaIQ-hA1qOqOA" name="Note" specification="_9FDdsJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RCEMZGPEeaIQ-hA1qOqOA" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RCEMpGPEeaIQ-hA1qOqOA" name="octave">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RCEM5GPEeaIQ-hA1qOqOA" name="accidental">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RCENJGPEeaIQ-hA1qOqOA" name="duration">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RCENZGPEeaIQ-hA1qOqOA" name="isNatural">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RCENpGPEeaIQ-hA1qOqOA" type="_9FCPkJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>setName(name);&#xD;
		setOctave(octave);&#xD;
		setAccidental(accidental);&#xD;
		setDuration(duration);&#xD;
		setIsNatural(isNatural);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RCrQJGPEeaIQ-hA1qOqOA" name="toString" specification="_9FEr0JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RCrQZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>String s = &quot;(&quot;;&#xD;
		s += Character.toString(name);&#xD;
		int a = accidental;&#xD;
		if (isNatural) {&#xD;
			s += &quot;n&quot;;&#xD;
		}&#xD;
		while (a &lt; 0) {&#xD;
			s += &quot;b&quot;;&#xD;
			a++;&#xD;
		}&#xD;
		while (a > 0) {&#xD;
			s += &quot;#&quot;;&#xD;
			a--;&#xD;
		}&#xD;
		s += &quot;, &quot; + Integer.toString(octave) + &quot;, &quot;;&#xD;
		s += String.format(&quot;%3.2f&quot;, duration);&#xD;
		s += &quot;)&quot;;&#xD;
&#xD;
		return s;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RCrQpGPEeaIQ-hA1qOqOA" name="execute" specification="_9OHTEJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RCrQ5GPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RCrRJGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9RCrRZGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RCrRpGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>return algo.caseAt(ID, this, params);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RDSUJGPEeaIQ-hA1qOqOA" name="setName" specification="_9FF58JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RDSUZGPEeaIQ-hA1qOqOA" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            </ownedParameter>
            <language>java</language>
            <body>switch (name) {&#xD;
		case 'a':&#xD;
		case 'A':&#xD;
			this.name = 'A';&#xD;
			break;&#xD;
&#xD;
		case 'b':&#xD;
		case 'B':&#xD;
			this.name = 'B';&#xD;
			break;&#xD;
&#xD;
		case 'c':&#xD;
		case 'C':&#xD;
			this.name = 'C';&#xD;
			break;&#xD;
&#xD;
		case 'd':&#xD;
		case 'D':&#xD;
			this.name = 'D';&#xD;
			break;&#xD;
&#xD;
		case 'e':&#xD;
		case 'E':&#xD;
			this.name = 'E';&#xD;
			break;&#xD;
&#xD;
		case 'f':&#xD;
		case 'F':&#xD;
			this.name = 'F';&#xD;
			break;&#xD;
&#xD;
		case 'g':&#xD;
		case 'G':&#xD;
			this.name = 'G';&#xD;
			break;&#xD;
&#xD;
		default:&#xD;
			this.name = 'Z';&#xD;
		}&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RDSUpGPEeaIQ-hA1qOqOA" name="setAccidental" specification="_9FGhAJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RDSU5GPEeaIQ-hA1qOqOA" name="accidental">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>this.accidental = accidental;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RD5YJGPEeaIQ-hA1qOqOA" name="getIsNatural" specification="_9FHIEJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RD5YZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
            <language>java</language>
            <body>return isNatural;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RD5YpGPEeaIQ-hA1qOqOA" name="setIsNatural" specification="_9FHvIZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RD5Y5GPEeaIQ-hA1qOqOA" name="isNatural">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
            <language>java</language>
            <body>this.isNatural = isNatural;&#xD;
		if (isNatural)&#xD;
			accidental = 0;&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9FDdsJGPEeaIQ-hA1qOqOA" name="Note" method="_9RCEMJGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9FEEwJGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9FEEwZGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_9RsylpGPEeaIQ-hA1qOqOA">
              <body>Constructor for the class&#xD;
	 * @param name  The name of the note&#xD;
	 * @param octave The octave of the note w.r.t. middle C.  Zero = same octave as middle C.&#xD;
	 * @param accidental accidental setting sharp &amp;gt; 0, flat &amp;lt; 0&#xD;
	 * @param duration duration of note&#xD;
	 * @param isNatural flag to override key signature.  True if note should be natural, overriding key signature.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9FDdsZGPEeaIQ-hA1qOqOA" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9FDdspGPEeaIQ-hA1qOqOA" name="octave">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9FDds5GPEeaIQ-hA1qOqOA" name="accidental">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9FDdtJGPEeaIQ-hA1qOqOA" name="duration">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#double"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9FDdtZGPEeaIQ-hA1qOqOA" name="isNatural">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9FEEwpGPEeaIQ-hA1qOqOA" type="_9FCPkJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9FEr0JGPEeaIQ-hA1qOqOA" name="toString" method="_9RCrQJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RtZoJGPEeaIQ-hA1qOqOA">
              <body>Returns a string representation of the Note  &#xD;
	 * @return &quot;(name, octave, duration)&quot;</body>
            </ownedComment>
            <ownedParameter xmi:id="_9FFS4JGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9FF58JGPEeaIQ-hA1qOqOA" name="setName" method="_9RDSUJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RtZoZGPEeaIQ-hA1qOqOA">
              <body>Accessor to set the name of the note&#xD;
	 * @param name - the name to set</body>
            </ownedComment>
            <ownedParameter xmi:id="_9FF58ZGPEeaIQ-hA1qOqOA" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#char"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9FGhAJGPEeaIQ-hA1qOqOA" name="setAccidental" method="_9RDSUpGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RtZopGPEeaIQ-hA1qOqOA">
              <body>Accessor to set the accidental value&#xD;
	 * @param accidental - the accidental to set</body>
            </ownedComment>
            <ownedParameter xmi:id="_9FGhAZGPEeaIQ-hA1qOqOA" name="accidental">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9FHIEJGPEeaIQ-hA1qOqOA" name="getIsNatural" method="_9RD5YJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RtZo5GPEeaIQ-hA1qOqOA">
              <body>Accessor for isNatural flag&#xD;
	 * @return isNatural flag setting</body>
            </ownedComment>
            <ownedParameter xmi:id="_9FHvIJGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9FHvIZGPEeaIQ-hA1qOqOA" name="setIsNatural" method="_9RD5YpGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RtZpJGPEeaIQ-hA1qOqOA">
              <body>Settor for isNatural flag.  Accidentals will be set to zero if isNatural is true.&#xD;
	 * @param isNatural  New isNatural setting</body>
            </ownedComment>
            <ownedParameter xmi:id="_9FIWMJGPEeaIQ-hA1qOqOA" name="isNatural">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9OHTEJGPEeaIQ-hA1qOqOA" name="execute" method="_9RCrQpGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9OHTEZGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9OHTEpGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9OIhMJGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9OH6IJGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9FLZgJGPEeaIQ-hA1qOqOA" name="NoteCollection" isAbstract="true">
          <ownedComment xmi:id="_9RtZpZGPEeaIQ-hA1qOqOA">
            <body>A collection of multiple notes</body>
          </ownedComment>
          <ownedComment xmi:id="_9RtZppGPEeaIQ-hA1qOqOA">
            <body>A collection of Notes</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9PzVIJGPEeaIQ-hA1qOqOA" name="notes" visibility="protected" type="_9FCPkJGPEeaIQ-hA1qOqOA" association="_9SZWIZGPEeaIQ-hA1qOqOA">
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9PzVIZGPEeaIQ-hA1qOqOA" value="*"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_9LmxoJGPEeaIQ-hA1qOqOA" client="_9FLZgJGPEeaIQ-hA1qOqOA" supplier="_9EtfcJGPEeaIQ-hA1qOqOA" contract="_9EtfcJGPEeaIQ-hA1qOqOA"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9REgcJGPEeaIQ-hA1qOqOA" name="NoteCollection" specification="_9LnYsJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9REgcZGPEeaIQ-hA1qOqOA" name="notes" type="_9FCPkJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9REgcpGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9REgc5GPEeaIQ-hA1qOqOA" type="_9FLZgJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>this.notes = notes;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RFHgJGPEeaIQ-hA1qOqOA" name="getNotes" specification="_9FMAkJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RFHgZGPEeaIQ-hA1qOqOA" type="_9FCPkJGPEeaIQ-hA1qOqOA" direction="return">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9RFHgpGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <language>java</language>
            <body>return notes;&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9FMAkJGPEeaIQ-hA1qOqOA" name="getNotes" method="_9RFHgJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RtZp5GPEeaIQ-hA1qOqOA">
              <body>Accessor for the array of notes in this collection&#xD;
	 * @return the array of notes</body>
            </ownedComment>
            <ownedParameter xmi:id="_9FMAkZGPEeaIQ-hA1qOqOA" type="_9FCPkJGPEeaIQ-hA1qOqOA" direction="return">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9FMAkpGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9LnYsJGPEeaIQ-hA1qOqOA" name="NoteCollection" method="_9REgcJGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9Ln_wJGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9Ln_wZGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_9LnYsZGPEeaIQ-hA1qOqOA" name="notes" type="_9FCPkJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9Ln_xJGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Ln_w5GPEeaIQ-hA1qOqOA" type="_9FLZgJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9FN1wJGPEeaIQ-hA1qOqOA" name="ToggleDecoratorSeqList">
          <ownedComment xmi:id="_9RtZqJGPEeaIQ-hA1qOqOA">
            <body>Multiple Decorator ISeqList where the active decoree (the &quot;target&quot;) is&#xD;
toggled (cycled, actually) through all the available decorees.   &#xD;
This is arguably a State Design Pattern where each decoree is &#xD;
considered to be another state of the system.&#xD;
This is used to implement repeats where the first time through, the notes are linked&#xD;
back to a repeat start (decoree #0) but the next time through, the next note is the one&#xD;
after the repeat (decoree #1).&#xD;
&#xD;
@author swong</body>
          </ownedComment>
          <ownedComment xmi:id="_9RuAsJGPEeaIQ-hA1qOqOA">
            <body>Decorated ISeqList that transparently cycles through multiple targets (decorees)</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9P1KUJGPEeaIQ-hA1qOqOA" name="decorees" visibility="private" type="_9E00MJGPEeaIQ-hA1qOqOA" association="_9SZ9MZGPEeaIQ-hA1qOqOA">
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9P1KUZGPEeaIQ-hA1qOqOA" value="*"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9P1xYJGPEeaIQ-hA1qOqOA" value="{ MTSeqList.Singleton, MTSeqList.Singleton }"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9P2YcJGPEeaIQ-hA1qOqOA" name="targetIdx" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9P2YcZGPEeaIQ-hA1qOqOA" value="0"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_9LpN4JGPEeaIQ-hA1qOqOA" client="_9FN1wJGPEeaIQ-hA1qOqOA" supplier="_9E00MJGPEeaIQ-hA1qOqOA" contract="_9E00MJGPEeaIQ-hA1qOqOA"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RFHg5GPEeaIQ-hA1qOqOA" name="ToggleDecoratorSeqList" specification="_9Lp08JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RFHhJGPEeaIQ-hA1qOqOA" name="decorees" type="_9E00MJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9RFHhZGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RFHhpGPEeaIQ-hA1qOqOA" type="_9FN1wJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>setDecorees(decorees);&#xD;
		setTargetToDecoree(0);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RFukJGPEeaIQ-hA1qOqOA" name="setDecorees" specification="_9LrDEZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RFukZGPEeaIQ-hA1qOqOA" name="decorees" type="_9E00MJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9RFukpGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <language>java</language>
            <body>this.decorees = decorees;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RFuk5GPEeaIQ-hA1qOqOA" name="setDecoree" specification="_9Ls4QJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RFulJGPEeaIQ-hA1qOqOA" name="idx">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RFulZGPEeaIQ-hA1qOqOA" name="decoree" type="_9E00MJGPEeaIQ-hA1qOqOA"/>
            <language>java</language>
            <body>this.decorees[idx] = decoree;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RFulpGPEeaIQ-hA1qOqOA" name="setTargetToDecoree" specification="_9FQ5EJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RFul5GPEeaIQ-hA1qOqOA" name="targetIdx">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>this.targetIdx = targetIdx;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RGVoJGPEeaIQ-hA1qOqOA" name="getTargetDecoree" specification="_9FRgIJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RGVoZGPEeaIQ-hA1qOqOA" type="_9E00MJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>return decorees[targetIdx];&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RGVopGPEeaIQ-hA1qOqOA" name="execute" specification="_9OMLkJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RGVo5GPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RGVpJGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9RGVpZGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RGVppGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>ISeqList target = decorees[targetIdx++];&#xD;
		if (targetIdx >= decorees.length)&#xD;
			targetIdx = 0; // This must be set before the delegate because it may be needed before the recursion returns.&#xD;
		return target.execute(algo, params);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RG8sJGPEeaIQ-hA1qOqOA" name="toString" specification="_9FSHMJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RG8sZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return (String) this.execute(NESeqList.getToStringAlgo(), &quot;{&quot;);&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9FPq8JGPEeaIQ-hA1qOqOA" name="ToggleDecoratorSeqList">
            <eAnnotations xmi:id="_9FPq8ZGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9FPq8pGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_9FQSAZGPEeaIQ-hA1qOqOA" type="_9FN1wJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9FQ5EJGPEeaIQ-hA1qOqOA" name="setTargetToDecoree" method="_9RFulpGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RuAspGPEeaIQ-hA1qOqOA">
              <body>Used to explicitly set the target (active) decoree if needed.&#xD;
	 * @param targetIdx  the index of the target decoree</body>
            </ownedComment>
            <ownedParameter xmi:id="_9FQ5EZGPEeaIQ-hA1qOqOA" name="targetIdx">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9FRgIJGPEeaIQ-hA1qOqOA" name="getTargetDecoree" method="_9RGVoJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RuAs5GPEeaIQ-hA1qOqOA">
              <body>Accessor for the current target (active) decoree&#xD;
	 * @return  The current target (active) decoree</body>
            </ownedComment>
            <ownedParameter xmi:id="_9Ls4Q5GPEeaIQ-hA1qOqOA" type="_9E00MJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9FSHMJGPEeaIQ-hA1qOqOA" name="toString" method="_9RG8sJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9FSHMZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9Lp08JGPEeaIQ-hA1qOqOA" name="ToggleDecoratorSeqList" method="_9RFHg5GPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9LqcAJGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9LqcAZGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_9Lp08ZGPEeaIQ-hA1qOqOA" name="decorees" type="_9E00MJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9LqcBJGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9LqcA5GPEeaIQ-hA1qOqOA" type="_9FN1wJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9LrDEZGPEeaIQ-hA1qOqOA" name="setDecorees" method="_9RFukJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9LrDEpGPEeaIQ-hA1qOqOA" name="decorees" type="_9E00MJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9LrqIZGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9Ls4QJGPEeaIQ-hA1qOqOA" name="setDecoree" method="_9RFuk5GPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RuAsZGPEeaIQ-hA1qOqOA">
              <body>Setter methods used to set a particular decoree.   &#xD;
	 * The specified index must already exist.&#xD;
	 * @param idx The index of the decoree to replace&#xD;
	 * @param decoree  The new decoree ISeqList.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9Ls4QZGPEeaIQ-hA1qOqOA" name="idx">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Ls4QpGPEeaIQ-hA1qOqOA" name="decoree" type="_9E00MJGPEeaIQ-hA1qOqOA"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9OMLkJGPEeaIQ-hA1qOqOA" name="execute" method="_9RGVopGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9OMLkZGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9OMLkpGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9OMyoZGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9OMLk5GPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9FW_sJGPEeaIQ-hA1qOqOA" name="Triplet">
          <ownedComment xmi:id="_9RuAtJGPEeaIQ-hA1qOqOA">
            <body>A musical triplet.  The three notes should be played with 2/3 of their&#xD;
indicated duration.</body>
          </ownedComment>
          <ownedComment xmi:id="_9RuAtZGPEeaIQ-hA1qOqOA">
            <body>A set of 3 notes played in sequence in a special manner.</body>
          </ownedComment>
          <generalization xmi:id="_9LxJsJGPEeaIQ-hA1qOqOA" general="_9FLZgJGPEeaIQ-hA1qOqOA"/>
          <ownedAttribute xmi:id="_9P3mkJGPEeaIQ-hA1qOqOA" name="ID" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9P3mkZGPEeaIQ-hA1qOqOA" value="&quot;Triplet&quot;"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RHjwJGPEeaIQ-hA1qOqOA" name="Triplet" specification="_9Lv7kJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RHjwZGPEeaIQ-hA1qOqOA" name="n1" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RHjwpGPEeaIQ-hA1qOqOA" name="n2" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RHjw5GPEeaIQ-hA1qOqOA" name="n3" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RHjxJGPEeaIQ-hA1qOqOA" type="_9FW_sJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>super(n1, n2, n3);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RHjxZGPEeaIQ-hA1qOqOA" name="execute" specification="_9OPO4JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RHjxpGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RHjx5GPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9RHjyJGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RHjyZGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>return algo.caseAt(ID, this, params);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RIK0JGPEeaIQ-hA1qOqOA" name="toString" specification="_9FYN0JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RIK0ZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>String result = &quot;Triplet(&quot; + notes[0];&#xD;
		for (int i = 1; i &lt; notes.length; i++) {&#xD;
			result += &quot;, &quot; + notes[i];&#xD;
		}&#xD;
		return result + &quot;)&quot;;&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9FYN0JGPEeaIQ-hA1qOqOA" name="toString" method="_9RIK0JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9FYN0ZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9Lv7kJGPEeaIQ-hA1qOqOA" name="Triplet" method="_9RHjwJGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9LwioJGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9LwioZGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_9Lv7kZGPEeaIQ-hA1qOqOA" name="n1" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Lv7kpGPEeaIQ-hA1qOqOA" name="n2" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Lv7k5GPEeaIQ-hA1qOqOA" name="n3" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9LwiopGPEeaIQ-hA1qOqOA" type="_9FW_sJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9OPO4JGPEeaIQ-hA1qOqOA" name="execute" method="_9RHjxZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9OPO4ZGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9OP18JGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9OQdAJGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9OP18ZGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9FaDAJGPEeaIQ-hA1qOqOA" name="Tuplet">
          <ownedComment xmi:id="_9RunwJGPEeaIQ-hA1qOqOA">
            <body>Class that represents a tuplet, a series of notes played in a fraction of their normal total time.&#xD;
The exact fraction depends on the meter and the number of notes in the tuplet.&#xD;
A triplet is a specific type of tuplet.&#xD;
@author swong</body>
          </ownedComment>
          <ownedComment xmi:id="_9RunwZGPEeaIQ-hA1qOqOA">
            <body>A arbitrary set of notes played in sequence in a special manner.</body>
          </ownedComment>
          <generalization xmi:id="_9L1bIJGPEeaIQ-hA1qOqOA" general="_9FLZgJGPEeaIQ-hA1qOqOA"/>
          <ownedAttribute xmi:id="_9P4NoJGPEeaIQ-hA1qOqOA" name="ID" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9P40sJGPEeaIQ-hA1qOqOA" value="&quot;Tuplet&quot;"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RIK0pGPEeaIQ-hA1qOqOA" name="Tuplet" specification="_9Lzl8JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RIK05GPEeaIQ-hA1qOqOA" name="notes" type="_9FCPkJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9RIK1JGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RIK1ZGPEeaIQ-hA1qOqOA" type="_9FaDAJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>super(notes);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RIx4JGPEeaIQ-hA1qOqOA" name="execute" specification="_9ORrIJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RIx4ZGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RIx4pGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9RIx45GPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RIx5JGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>return algo.caseAt(ID, this, params);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RIx5ZGPEeaIQ-hA1qOqOA" name="toString" specification="_9Fb4MJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RIx5pGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>String result = &quot;Tuplet(&quot; + notes[0];&#xD;
		for (int i = 1; i &lt; notes.length; i++) {&#xD;
			result += &quot;, &quot; + notes[i];&#xD;
		}&#xD;
		return result + &quot;)&quot;;&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9Fb4MJGPEeaIQ-hA1qOqOA" name="toString" method="_9RIx5ZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Fb4MZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9Lzl8JGPEeaIQ-hA1qOqOA" name="Tuplet" method="_9RIK0pGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9Lzl8pGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9Lzl85GPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_9Lzl8ZGPEeaIQ-hA1qOqOA" name="notes" type="_9FCPkJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9L0NAZGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9L0NAJGPEeaIQ-hA1qOqOA" type="_9FaDAJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9ORrIJGPEeaIQ-hA1qOqOA" name="execute" method="_9RIx4JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9OSSMJGPEeaIQ-hA1qOqOA" name="algo" type="_9EwiwJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9OSSMZGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9OS5QZGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9OSSMpGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SVEsZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SVEspGPEeaIQ-hA1qOqOA _9PgaMJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SVEspGPEeaIQ-hA1qOqOA" name="" type="_9EUd4JGPEeaIQ-hA1qOqOA" association="_9SVEsZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SWS0JGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SWS0ZGPEeaIQ-hA1qOqOA _9PhBQZGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SWS0ZGPEeaIQ-hA1qOqOA" name="" type="_9EUd4JGPEeaIQ-hA1qOqOA" association="_9SWS0JGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SW54ZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SW54pGPEeaIQ-hA1qOqOA _9PkEkJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SW54pGPEeaIQ-hA1qOqOA" name="" type="_9EbyoJGPEeaIQ-hA1qOqOA" association="_9SW54ZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SXg8JGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SXg8ZGPEeaIQ-hA1qOqOA _9PqLMZGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SXg8ZGPEeaIQ-hA1qOqOA" name="" type="_9E2CUJGPEeaIQ-hA1qOqOA" association="_9SXg8JGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SXg85GPEeaIQ-hA1qOqOA" name="" memberEnd="_9SXg9JGPEeaIQ-hA1qOqOA _9PrZUZGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SXg9JGPEeaIQ-hA1qOqOA" name="" type="_9E660JGPEeaIQ-hA1qOqOA" association="_9SXg85GPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SYIAZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SYIApGPEeaIQ-hA1qOqOA _9PsAYZGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SYIApGPEeaIQ-hA1qOqOA" name="" type="_9E660JGPEeaIQ-hA1qOqOA" association="_9SYIAZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SYvEZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SYvEpGPEeaIQ-hA1qOqOA _9PsncJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SYvEpGPEeaIQ-hA1qOqOA" name="" type="_9E660JGPEeaIQ-hA1qOqOA" association="_9SYvEZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SZWIZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SZWIpGPEeaIQ-hA1qOqOA _9PzVIJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SZWIpGPEeaIQ-hA1qOqOA" name="" type="_9FLZgJGPEeaIQ-hA1qOqOA" association="_9SZWIZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SZ9MZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SZ9MpGPEeaIQ-hA1qOqOA _9P1KUJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SZ9MpGPEeaIQ-hA1qOqOA" name="" type="_9FN1wJGPEeaIQ-hA1qOqOA" association="_9SZ9MZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_9Bd-MpGPEeaIQ-hA1qOqOA" name="player">
        <packagedElement xmi:type="uml:Interface" xmi:id="_9FeUcJGPEeaIQ-hA1qOqOA" name="ISequencePlayerStatus">
          <ownedComment xmi:id="_9RvO0JGPEeaIQ-hA1qOqOA">
            <body>Command that is used to notify a user that a track has stopped playing.&#xD;
@author swong&#xD;
 *</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9Fe7gJGPEeaIQ-hA1qOqOA" name="NULL" isLeaf="true" isStatic="true" type="_9FeUcJGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SHpUJGPEeaIQ-hA1qOqOA">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9Fe7gZGPEeaIQ-hA1qOqOA" value="new ISequencePlayerStatus() {&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;/**&#xD;&#xA;&#x9;&#x9; * Prints &quot;ISequencePlayerStatus.NULL.finished(): Track finished playing!&quot; to console.&#xD;&#xA;&#x9;&#x9; */&#xD;&#xA;&#x9;&#x9;@Override&#xD;&#xA;&#x9;&#x9;public void finished() {&#xD;&#xA;&#x9;&#x9;&#x9;System.out&#xD;&#xA;&#x9;&#x9;&#x9;&#x9;&#x9;.println(&quot;ISequencePlayerStatus.NULL.finished(): Track finished playing!&quot;);&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;}"/>
          </ownedAttribute>
          <ownedOperation xmi:id="_9FeUcZGPEeaIQ-hA1qOqOA" name="finished">
            <ownedComment xmi:id="_9RvO0ZGPEeaIQ-hA1qOqOA">
              <body>Called when a track stops playing.</body>
            </ownedComment>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9FfikJGPEeaIQ-hA1qOqOA" name="SequencePlayer">
          <ownedComment xmi:id="_9RvO0pGPEeaIQ-hA1qOqOA">
            <body>Sequence Player to create and play MIDI music sequences.</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9P5bwJGPEeaIQ-hA1qOqOA" name="END_OF_TRACK" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9P6C0JGPEeaIQ-hA1qOqOA" value="47"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9P6p4JGPEeaIQ-hA1qOqOA" name="_sequence" visibility="private" type="_9OUHYJGPEeaIQ-hA1qOqOA" association="_9SakQJGPEeaIQ-hA1qOqOA"/>
          <ownedAttribute xmi:id="_9P7Q8JGPEeaIQ-hA1qOqOA" name="_track" visibility="private" type="_9OVVgJGPEeaIQ-hA1qOqOA" association="_9SbLUJGPEeaIQ-hA1qOqOA"/>
          <ownedAttribute xmi:id="_9P74AJGPEeaIQ-hA1qOqOA" name="_bpm" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9P8fEJGPEeaIQ-hA1qOqOA" name="_ticksPerDefaultNote" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9P8fEpGPEeaIQ-hA1qOqOA" name="_ticksPerQuarterNote" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9P9GIZGPEeaIQ-hA1qOqOA" name="_instrument" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9P9tMZGPEeaIQ-hA1qOqOA" name="_sequencer" visibility="private" type="_9OWjoJGPEeaIQ-hA1qOqOA" association="_9SbyYJGPEeaIQ-hA1qOqOA"/>
          <ownedAttribute xmi:id="_9P-UQZGPEeaIQ-hA1qOqOA" name="_synthesizer" visibility="private" type="_9MlpEJGPEeaIQ-hA1qOqOA" association="_9SdAgJGPEeaIQ-hA1qOqOA"/>
          <ownedAttribute xmi:id="_9P-7UJGPEeaIQ-hA1qOqOA" name="_offsets" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9P-7UZGPEeaIQ-hA1qOqOA" value="*"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9P_iYJGPEeaIQ-hA1qOqOA" value="{ // add these amounts to the base value&#xD;&#xA;&#x9;// A   B  C  D  E  F  G&#xD;&#xA;&#x9;&#x9;&#x9;9, 11, 0, 2, 4, 5, 7 }"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RJY8JGPEeaIQ-hA1qOqOA" name="SequencePlayer" specification="_9FgwsJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RJY8ZGPEeaIQ-hA1qOqOA" name="ticksPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RJY8pGPEeaIQ-hA1qOqOA" name="instrument">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RJY85GPEeaIQ-hA1qOqOA" type="_9FfikJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>init(ticksPerQuarterNote, instrument);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RKAAJGPEeaIQ-hA1qOqOA" name="init" specification="_9Fh-0JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RKAAZGPEeaIQ-hA1qOqOA" name="ticksPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RKAApGPEeaIQ-hA1qOqOA" name="instrument">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RKAA5GPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
            <language>java</language>
            <body>_ticksPerQuarterNote = ticksPerQuarterNote;&#xD;
		_instrument = instrument;&#xD;
		_bpm = 0;&#xD;
		_ticksPerDefaultNote = _ticksPerQuarterNote;&#xD;
&#xD;
		_sequencer = null;&#xD;
		_synthesizer = null;&#xD;
		_track = null;&#xD;
&#xD;
		try {&#xD;
			_sequencer = MidiSystem.getSequencer();&#xD;
			_synthesizer = MidiSystem.getSynthesizer();&#xD;
&#xD;
			_sequence = new Sequence(Sequence.PPQ, _ticksPerQuarterNote);&#xD;
			_track = _sequence.createTrack();&#xD;
&#xD;
			ShortMessage sm = new ShortMessage();&#xD;
			sm.setMessage(ShortMessage.PROGRAM_CHANGE, 0, _instrument, 0);&#xD;
			_track.add(new MidiEvent(sm, 0));&#xD;
		} catch (MidiUnavailableException e) {&#xD;
			System.out&#xD;
					.println(&quot;MIDI Unavailable, SequencePlayer not initialized.&quot;);&#xD;
			return false;&#xD;
		} catch (InvalidMidiDataException e) {&#xD;
			System.out.println(&quot;Invalid MIDI data.&quot;);&#xD;
			e.printStackTrace();&#xD;
			return false;&#xD;
		}&#xD;
&#xD;
		return true;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RKABJGPEeaIQ-hA1qOqOA" name="addNote" specification="_9L33YJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RKABZGPEeaIQ-hA1qOqOA" name="note" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RKABpGPEeaIQ-hA1qOqOA" name="start">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RKAB5GPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>return addNote(note, start, 64);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RKnEJGPEeaIQ-hA1qOqOA" name="addNote" specification="_9L5FgJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RKnEZGPEeaIQ-hA1qOqOA" name="note" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RKnEpGPEeaIQ-hA1qOqOA" name="start">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RKnE5GPEeaIQ-hA1qOqOA" name="velocity">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RKnFJGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>if (_track == null) {&#xD;
			return -1;&#xD;
		}&#xD;
&#xD;
		int duration = (int) Math.round(note.getDuration()&#xD;
				* _ticksPerDefaultNote);&#xD;
		if ('Z' == note.getName()) {&#xD;
			// Rest - just return end tick count&#xD;
			return start + duration;&#xD;
		}&#xD;
&#xD;
		int key = 60; // start at middle C&#xD;
		key += note.getOctave() * 12;&#xD;
		key += _offsets[note.getName() - 'A'];&#xD;
		key += note.getAccidental();&#xD;
&#xD;
		ShortMessage on;&#xD;
		ShortMessage off;&#xD;
		try {&#xD;
			on = new ShortMessage();&#xD;
			on.setMessage(ShortMessage.NOTE_ON, 0, key, velocity);&#xD;
			off = new ShortMessage();&#xD;
			off.setMessage(ShortMessage.NOTE_OFF, 0, key, velocity);&#xD;
		} catch (InvalidMidiDataException e) {&#xD;
			System.out.println(&quot;Invalid MIDI Data, note not added (&quot; + note&#xD;
					+ &quot;, &quot; + start + &quot;).&quot;);&#xD;
			// e.printStackTrace();&#xD;
			return start;&#xD;
		}&#xD;
&#xD;
		_track.add(new MidiEvent(on, start));&#xD;
		_track.add(new MidiEvent(off, start + duration));&#xD;
		return start + duration;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RLOIJGPEeaIQ-hA1qOqOA" name="play" specification="_9L6ToJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RLOIZGPEeaIQ-hA1qOqOA" name="statusCmd" type="_9FeUcJGPEeaIQ-hA1qOqOA">
              <eAnnotations xmi:id="_9RLOIpGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_9RLOI5GPEeaIQ-hA1qOqOA" key="final"/>
              </eAnnotations>
            </ownedParameter>
            <language>java</language>
            <body>try {&#xD;
			_sequencer.open();&#xD;
			_synthesizer.open();&#xD;
&#xD;
			_sequencer.getTransmitter().setReceiver(_synthesizer.getReceiver());&#xD;
&#xD;
			// Specify the sequence to play, and the tempo to play it at&#xD;
			_sequencer.setSequence(_sequence);&#xD;
			_sequencer.setTempoInBPM(_bpm);&#xD;
&#xD;
			// Let us know when it is done playing&#xD;
			_sequencer.addMetaEventListener(new MetaEventListener() {&#xD;
				public void meta(MetaMessage m) {&#xD;
					// A message of this type is automatically sent&#xD;
					// when we reach the end of the track&#xD;
					if (m.getType() == END_OF_TRACK) {&#xD;
						System.out.println(&quot;Finished Playing&quot;);&#xD;
						stop();&#xD;
						statusCmd.finished();&#xD;
					}&#xD;
				}&#xD;
			});&#xD;
&#xD;
			// And start playing now.&#xD;
			_sequencer.start();&#xD;
		} catch (MidiUnavailableException e) {&#xD;
			System.out.println(&quot;Unable to open MIDI synthesizer.&quot;);&#xD;
			// e.printStackTrace();&#xD;
		} catch (InvalidMidiDataException e) {&#xD;
			System.out.println(&quot;Unable to play sequence.&quot;);&#xD;
			// e.printStackTrace();&#xD;
		} catch (Exception e) {&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RLOJJGPEeaIQ-hA1qOqOA" name="stop" specification="_9FlCIJGPEeaIQ-hA1qOqOA">
            <language>java</language>
            <body>_sequencer.close();&#xD;
		_synthesizer.close();&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RL1MJGPEeaIQ-hA1qOqOA" name="getTicksPerDefaultNote" specification="_9FlpMJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RL1MZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>return _ticksPerDefaultNote;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RL1MpGPEeaIQ-hA1qOqOA" name="setTicksPerDefaultNote" specification="_9FmQQJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RL1M5GPEeaIQ-hA1qOqOA" name="ticksPerDefaultNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>_ticksPerDefaultNote = ticksPerDefaultNote;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RMcQJGPEeaIQ-hA1qOqOA" name="getTempo" specification="_9FmQQpGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RMcQZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>return _bpm;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RMcQpGPEeaIQ-hA1qOqOA" name="setTempo" specification="_9Fm3UZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RMcQ5GPEeaIQ-hA1qOqOA" name="bpm">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>_bpm = bpm;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RMcRJGPEeaIQ-hA1qOqOA" name="getTicksPerQuarterNote" specification="_9FneYJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RMcRZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>return _ticksPerQuarterNote;&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9FgwsJGPEeaIQ-hA1qOqOA" name="SequencePlayer" method="_9RJY8JGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9FhXwpGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9FhXw5GPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_9Rv14JGPEeaIQ-hA1qOqOA">
              <body>Create a new SequencePlayer to create and play music.&#xD;
	 * &#xD;
	 * @param  ticksPerQuarterNote      - tick definition&#xD;
	 * @param  instrument               - MIDI instrument</body>
            </ownedComment>
            <ownedParameter xmi:id="_9FhXwJGPEeaIQ-hA1qOqOA" name="ticksPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9FhXwZGPEeaIQ-hA1qOqOA" name="instrument">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9FhXxJGPEeaIQ-hA1qOqOA" type="_9FfikJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9Fh-0JGPEeaIQ-hA1qOqOA" name="init" method="_9RKAAJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rv14ZGPEeaIQ-hA1qOqOA">
              <body>Initialize the SequencePlayer as per the supplied ticksPerQuarterNote and instrument&#xD;
	 * this SequencePlayer was instantiated with.   This method is called by the constructor to &#xD;
	 * initialize the player upon instantiation and can be called again to reinitialize the &#xD;
	 * SequencePlayer.&#xD;
	 * &#xD;
	 * @param  ticksPerQuarterNote      - tick definition&#xD;
	 * @param  instrument               - MIDI instrument&#xD;
	 * @return                         - true if properly initialized, false otherwise</body>
            </ownedComment>
            <ownedParameter xmi:id="_9Fh-0ZGPEeaIQ-hA1qOqOA" name="ticksPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Fh-0pGPEeaIQ-hA1qOqOA" name="instrument">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9FjM8JGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9FlCIJGPEeaIQ-hA1qOqOA" name="stop" method="_9RLOJJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rv15ZGPEeaIQ-hA1qOqOA">
              <body>Stop playing music and close resources.</body>
            </ownedComment>
          </ownedOperation>
          <ownedOperation xmi:id="_9FlpMJGPEeaIQ-hA1qOqOA" name="getTicksPerDefaultNote" method="_9RL1MJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rv15pGPEeaIQ-hA1qOqOA">
              <body>Accessor to get the current ticks per default note&#xD;
	 * @return the _ticksPerDefaultNote</body>
            </ownedComment>
            <ownedParameter xmi:id="_9FlpMZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9FmQQJGPEeaIQ-hA1qOqOA" name="setTicksPerDefaultNote" method="_9RL1MpGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rv155GPEeaIQ-hA1qOqOA">
              <body>Accessor to set the current ticks per default note&#xD;
	 * @param ticksPerDefaultNote the _ticksPerDefaultNote to set</body>
            </ownedComment>
            <ownedParameter xmi:id="_9FmQQZGPEeaIQ-hA1qOqOA" name="ticksPerDefaultNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9FmQQpGPEeaIQ-hA1qOqOA" name="getTempo" method="_9RMcQJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rwc8JGPEeaIQ-hA1qOqOA">
              <body>Accessor for the current tempo&#xD;
	 * @return the tempo (in beats per minute)</body>
            </ownedComment>
            <ownedParameter xmi:id="_9Fm3UJGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9Fm3UZGPEeaIQ-hA1qOqOA" name="setTempo" method="_9RMcQpGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rwc8ZGPEeaIQ-hA1qOqOA">
              <body>Set the tempo - can't change the tempo in the middle of a sequence,&#xD;
	 * the last tempo set will be used for the whole sequence.&#xD;
	 * &#xD;
	 * @param bpm - beats per minute</body>
            </ownedComment>
            <ownedParameter xmi:id="_9Fm3UpGPEeaIQ-hA1qOqOA" name="bpm">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9FneYJGPEeaIQ-hA1qOqOA" name="getTicksPerQuarterNote" method="_9RMcRJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rwc8pGPEeaIQ-hA1qOqOA">
              <body>Accessor for the current number of ticks per quarter note.&#xD;
	 * @return the number of ticks per quarter note</body>
            </ownedComment>
            <ownedParameter xmi:id="_9FneYZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9L33YJGPEeaIQ-hA1qOqOA" name="addNote" method="_9RKABJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rv14pGPEeaIQ-hA1qOqOA">
              <body>Add a note to the MIDI sequence with a default velocity of 64 for middle volume&#xD;
	 * &#xD;
	 * @param note     - the note to schedule in the sequence&#xD;
	 * @param start    - the tick at which this note should start playing&#xD;
	 * @return         - the tick at which this note stops playing</body>
            </ownedComment>
            <ownedParameter xmi:id="_9L4ecJGPEeaIQ-hA1qOqOA" name="note" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9L4ecZGPEeaIQ-hA1qOqOA" name="start">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9L4ecpGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9L5FgJGPEeaIQ-hA1qOqOA" name="addNote" method="_9RKnEJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rv145GPEeaIQ-hA1qOqOA">
              <body>Add a note to the MIDI sequence.&#xD;
	 * &#xD;
	 * @param note     - the note to schedule in the sequence&#xD;
	 * @param start    - the tick at which this note should start playing&#xD;
	 * @param velocity - the volume (0-127)&#xD;
	 * @return         - the tick at which this note stops playing</body>
            </ownedComment>
            <ownedParameter xmi:id="_9L5FgZGPEeaIQ-hA1qOqOA" name="note" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9L5FgpGPEeaIQ-hA1qOqOA" name="start">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9L5Fg5GPEeaIQ-hA1qOqOA" name="velocity">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9L5skJGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9L6ToJGPEeaIQ-hA1qOqOA" name="play" method="_9RLOIJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rv15JGPEeaIQ-hA1qOqOA">
              <body>Play the created Sequence.&#xD;
	 * @param statusCmd The finished() method of this command is called when the track finishes being played, i.e. a normal termination.  There is no notification if play is forcibly stopped.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9L6ToZGPEeaIQ-hA1qOqOA" name="statusCmd" type="_9FeUcJGPEeaIQ-hA1qOqOA">
              <eAnnotations xmi:id="_9L66sJGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_9L66sZGPEeaIQ-hA1qOqOA" key="final"/>
              </eAnnotations>
            </ownedParameter>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9FwBQJGPEeaIQ-hA1qOqOA" name="SequencePlayer2">
          <ownedComment xmi:id="_9Rwc85GPEeaIQ-hA1qOqOA">
            <body>Sequence Player to create and play MIDI music sequences.&#xD;
Differs from SequencePlayer because it has no play() method.   Instead, this class has &#xD;
a factory method that creates an SequencePlayer2.IPlayable object that can be individually &#xD;
and asynchronously started and stopped.</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9QAwgJGPEeaIQ-hA1qOqOA" name="END_OF_TRACK" isLeaf="true" isStatic="true" isReadOnly="true">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QAwgZGPEeaIQ-hA1qOqOA" value="47"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9QBXkJGPEeaIQ-hA1qOqOA" name="_sequence" visibility="private" type="_9OUHYJGPEeaIQ-hA1qOqOA" association="_9SdnkZGPEeaIQ-hA1qOqOA"/>
          <ownedAttribute xmi:id="_9QBXkpGPEeaIQ-hA1qOqOA" name="_track" visibility="private" type="_9OVVgJGPEeaIQ-hA1qOqOA" association="_9SeOoZGPEeaIQ-hA1qOqOA"/>
          <ownedAttribute xmi:id="_9QB-oZGPEeaIQ-hA1qOqOA" name="_bpm" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9QDMwJGPEeaIQ-hA1qOqOA" name="_ticksPerDefaultNote" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9QDz0JGPEeaIQ-hA1qOqOA" name="_ticksPerQuarterNote" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9QFB8JGPEeaIQ-hA1qOqOA" name="_instrument" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9QFpAJGPEeaIQ-hA1qOqOA" name="_offsets" isLeaf="true" isStatic="true" isReadOnly="true">
            <eAnnotations xmi:id="_9QFpAZGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9QFpApGPEeaIQ-hA1qOqOA" key="ConstantWithGetter"/>
            </eAnnotations>
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9QFpA5GPEeaIQ-hA1qOqOA" value="*"/>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QGQEJGPEeaIQ-hA1qOqOA" value="{ // add these amounts to the base value&#xD;&#xA;&#x9;// A   B  C  D  E  F  G&#xD;&#xA;&#x9;&#x9;&#x9;9, 11, 0, 2, 4, 5, 7 }"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RNqYJGPEeaIQ-hA1qOqOA" name="SequencePlayer2" specification="_9FzEkJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RNqYZGPEeaIQ-hA1qOqOA" name="ticksPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RNqYpGPEeaIQ-hA1qOqOA" name="instrument">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RNqY5GPEeaIQ-hA1qOqOA" type="_9FwBQJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>init(ticksPerQuarterNote, instrument);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RNqZJGPEeaIQ-hA1qOqOA" name="init" specification="_9FzroJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RNqZZGPEeaIQ-hA1qOqOA" name="ticksPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RNqZpGPEeaIQ-hA1qOqOA" name="instrument">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RNqZ5GPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
            <language>java</language>
            <body>_ticksPerQuarterNote = ticksPerQuarterNote;&#xD;
		_instrument = instrument;&#xD;
		_bpm = 0;&#xD;
		_ticksPerDefaultNote = _ticksPerQuarterNote;&#xD;
&#xD;
		_track = null;&#xD;
&#xD;
		try {&#xD;
&#xD;
			_sequence = new Sequence(Sequence.PPQ, _ticksPerQuarterNote);&#xD;
			_track = _sequence.createTrack();&#xD;
&#xD;
			ShortMessage sm = new ShortMessage();&#xD;
			sm.setMessage(ShortMessage.PROGRAM_CHANGE, 0, _instrument, 0);&#xD;
			_track.add(new MidiEvent(sm, 0));&#xD;
		} catch (InvalidMidiDataException e) {&#xD;
			System.out.println(&quot;Invalid MIDI data.&quot;);&#xD;
			e.printStackTrace();&#xD;
			return false;&#xD;
		}&#xD;
&#xD;
		return true;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RORcJGPEeaIQ-hA1qOqOA" name="addNote" specification="_9L_zMJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RORcZGPEeaIQ-hA1qOqOA" name="note" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RORcpGPEeaIQ-hA1qOqOA" name="start">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RORc5GPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>return addNote(note, start, 64);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RORdJGPEeaIQ-hA1qOqOA" name="addNote" specification="_9MBBUJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RORdZGPEeaIQ-hA1qOqOA" name="note" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RORdpGPEeaIQ-hA1qOqOA" name="start">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RORd5GPEeaIQ-hA1qOqOA" name="velocity">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9ROReJGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>if (_track == null) {&#xD;
			return -1;&#xD;
		}&#xD;
&#xD;
		int duration = (int) Math.round(note.getDuration()&#xD;
				* _ticksPerDefaultNote);&#xD;
		if ('Z' == note.getName()) {&#xD;
			// Rest - just return end tick count&#xD;
			return start + duration;&#xD;
		}&#xD;
&#xD;
		int key = 60; // start at middle C&#xD;
		key += note.getOctave() * 12;&#xD;
		key += _offsets[note.getName() - 'A'];&#xD;
		key += note.getAccidental();&#xD;
&#xD;
		ShortMessage on;&#xD;
		ShortMessage off;&#xD;
		try {&#xD;
			on = new ShortMessage();&#xD;
			on.setMessage(ShortMessage.NOTE_ON, 0, key, velocity);&#xD;
			off = new ShortMessage();&#xD;
			off.setMessage(ShortMessage.NOTE_OFF, 0, key, velocity);&#xD;
		} catch (InvalidMidiDataException e) {&#xD;
			System.out.println(&quot;Invalid MIDI Data, note not added (&quot; + note&#xD;
					+ &quot;, &quot; + start + &quot;).&quot;);&#xD;
			// e.printStackTrace();&#xD;
			return start;&#xD;
		}&#xD;
&#xD;
		_track.add(new MidiEvent(on, start));&#xD;
		_track.add(new MidiEvent(off, start + duration));&#xD;
		return start + duration;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9ROReZGPEeaIQ-hA1qOqOA" name="makePlayable" specification="_9MBoYZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RORepGPEeaIQ-hA1qOqOA" name="statusCmd" type="_9FeUcJGPEeaIQ-hA1qOqOA">
              <eAnnotations xmi:id="_9RORe5GPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_9RORfJGPEeaIQ-hA1qOqOA" key="final"/>
              </eAnnotations>
            </ownedParameter>
            <ownedParameter xmi:id="_9RORfZGPEeaIQ-hA1qOqOA" type="_9FwoUJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>try {&#xD;
			final Sequencer _sequencer = MidiSystem.getSequencer(); // MIDI Sequencer object&#xD;
			final Synthesizer _synthesizer = MidiSystem.getSynthesizer(); // MIDI synthesizer object&#xD;
&#xD;
			final IPlayable playable = new IPlayable() {&#xD;
&#xD;
				@Override&#xD;
				public void start() {&#xD;
					_sequencer.start();&#xD;
				}&#xD;
&#xD;
				@Override&#xD;
				public void stop() {&#xD;
					_sequencer.close();&#xD;
					_synthesizer.close();&#xD;
				}&#xD;
			};&#xD;
&#xD;
			_sequencer.open();&#xD;
			_synthesizer.open();&#xD;
&#xD;
			_sequencer.getTransmitter().setReceiver(_synthesizer.getReceiver());&#xD;
&#xD;
			// Specify the sequence to play, and the tempo to play it at&#xD;
			_sequencer.setSequence(_sequence);&#xD;
			_sequencer.setTempoInBPM(_bpm);&#xD;
&#xD;
			// Let us know when it is done playing&#xD;
			_sequencer.addMetaEventListener(new MetaEventListener() {&#xD;
				public void meta(MetaMessage m) {&#xD;
					// A message of this type is automatically sent&#xD;
					// when we reach the end of the track&#xD;
					if (m.getType() == END_OF_TRACK) {&#xD;
						System.out&#xD;
								.println(&quot;SequencePlayer2.play(): End of Track&quot;);&#xD;
						playable.stop();&#xD;
						statusCmd.finished();&#xD;
					} else&#xD;
						System.out.println(&quot;Message type received: &quot;&#xD;
								+ m.getType());&#xD;
				}&#xD;
			});&#xD;
&#xD;
			return playable;&#xD;
		} catch (MidiUnavailableException e) {&#xD;
			System.out.println(&quot;Unable to open MIDI synthesizer.&quot;);&#xD;
			// e.printStackTrace();&#xD;
		} catch (InvalidMidiDataException e) {&#xD;
			System.out.println(&quot;Unable to play sequence.&quot;);&#xD;
			// e.printStackTrace();&#xD;
		} catch (Exception e) {&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
&#xD;
		return IPlayable.NULL;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RO4gJGPEeaIQ-hA1qOqOA" name="getTicksPerDefaultNote" specification="_9F05wJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RO4gZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>return _ticksPerDefaultNote;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RO4gpGPEeaIQ-hA1qOqOA" name="setTicksPerDefaultNote" specification="_9F05wpGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RO4g5GPEeaIQ-hA1qOqOA" name="ticksPerDefaultNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>_ticksPerDefaultNote = ticksPerDefaultNote;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RO4hJGPEeaIQ-hA1qOqOA" name="getTempo" specification="_9F1g0ZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RO4hZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>return _bpm;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RPfkJGPEeaIQ-hA1qOqOA" name="setTempo" specification="_9F2H4ZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RPfkZGPEeaIQ-hA1qOqOA" name="bpm">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>_bpm = bpm;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RPfkpGPEeaIQ-hA1qOqOA" name="getTicksPerQuarterNote" specification="_9F2u8JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RPfk5GPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <language>java</language>
            <body>return _ticksPerQuarterNote;&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9FzEkJGPEeaIQ-hA1qOqOA" name="SequencePlayer2" method="_9RNqYJGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9FzEk5GPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9FzElJGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_9Rwc95GPEeaIQ-hA1qOqOA">
              <body>Create a new SequencePlayer to create and play music.&#xD;
	 * &#xD;
	 * @param  ticksPerQuarterNote      - tick definition&#xD;
	 * @param  instrument               - MIDI instrument</body>
            </ownedComment>
            <ownedParameter xmi:id="_9FzEkZGPEeaIQ-hA1qOqOA" name="ticksPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9FzEkpGPEeaIQ-hA1qOqOA" name="instrument">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9FzElZGPEeaIQ-hA1qOqOA" type="_9FwBQJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9FzroJGPEeaIQ-hA1qOqOA" name="init" method="_9RNqZJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rwc-JGPEeaIQ-hA1qOqOA">
              <body>Initialize the SequencePlayer as per the supplied ticksPerQuarterNote and instrument&#xD;
	 * this SequencePlayer was instantiated with.   This method is called by the constructor to &#xD;
	 * initialize the player upon instantiation and can be called again to reinitialize the &#xD;
	 * SequencePlayer.&#xD;
	 * &#xD;
	 * @param  ticksPerQuarterNote      - tick definition&#xD;
	 * @param  instrument               - MIDI instrument&#xD;
	 * @return                         - true if properly initialized, false otherwise</body>
            </ownedComment>
            <ownedParameter xmi:id="_9FzroZGPEeaIQ-hA1qOqOA" name="ticksPerQuarterNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9FzropGPEeaIQ-hA1qOqOA" name="instrument">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9Fzro5GPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#boolean"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9F05wJGPEeaIQ-hA1qOqOA" name="getTicksPerDefaultNote" method="_9RO4gJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RxEAZGPEeaIQ-hA1qOqOA">
              <body>Accessor to get the current ticks per default note&#xD;
	 * @return the _ticksPerDefaultNote</body>
            </ownedComment>
            <ownedParameter xmi:id="_9F05wZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9F05wpGPEeaIQ-hA1qOqOA" name="setTicksPerDefaultNote" method="_9RO4gpGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RxEApGPEeaIQ-hA1qOqOA">
              <body>Accessor to set the current ticks per default note&#xD;
	 * @param ticksPerDefaultNote the _ticksPerDefaultNote to set</body>
            </ownedComment>
            <ownedParameter xmi:id="_9F1g0JGPEeaIQ-hA1qOqOA" name="ticksPerDefaultNote">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9F1g0ZGPEeaIQ-hA1qOqOA" name="getTempo" method="_9RO4hJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RxEA5GPEeaIQ-hA1qOqOA">
              <body>Accessor for the current tempo&#xD;
	 * @return the tempo (in beats per minute)</body>
            </ownedComment>
            <ownedParameter xmi:id="_9F2H4JGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9F2H4ZGPEeaIQ-hA1qOqOA" name="setTempo" method="_9RPfkJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RxEBJGPEeaIQ-hA1qOqOA">
              <body>Set the tempo - can't change the tempo in the middle of a sequence,&#xD;
	 * the last tempo set will be used for the whole sequence.&#xD;
	 * &#xD;
	 * @param bpm - beats per minute</body>
            </ownedComment>
            <ownedParameter xmi:id="_9F2H4pGPEeaIQ-hA1qOqOA" name="bpm">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9F2u8JGPEeaIQ-hA1qOqOA" name="getTicksPerQuarterNote" method="_9RPfkpGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RxEBZGPEeaIQ-hA1qOqOA">
              <body>Accessor for the current number of ticks per quarter note.&#xD;
	 * @return the number of ticks per quarter note</body>
            </ownedComment>
            <ownedParameter xmi:id="_9F2u8ZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9L_zMJGPEeaIQ-hA1qOqOA" name="addNote" method="_9RORcJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rwc-ZGPEeaIQ-hA1qOqOA">
              <body>Add a note to the MIDI sequence with a default velocity of 64 for middle volume&#xD;
	 * &#xD;
	 * @param note     - the note to schedule in the sequence&#xD;
	 * @param start    - the tick at which this note should start playing&#xD;
	 * @return         - the tick at which this note stops playing</body>
            </ownedComment>
            <ownedParameter xmi:id="_9L_zMZGPEeaIQ-hA1qOqOA" name="note" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9L_zMpGPEeaIQ-hA1qOqOA" name="start">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9MAaQJGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9MBBUJGPEeaIQ-hA1qOqOA" name="addNote" method="_9RORdJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Rwc-pGPEeaIQ-hA1qOqOA">
              <body>Add a note to the MIDI sequence.&#xD;
	 * &#xD;
	 * @param note     - the note to schedule in the sequence&#xD;
	 * @param start    - the tick at which this note should start playing&#xD;
	 * @param velocity - the volume (0-127)&#xD;
	 * @return         - the tick at which this note stops playing</body>
            </ownedComment>
            <ownedParameter xmi:id="_9MBBUZGPEeaIQ-hA1qOqOA" name="note" type="_9FCPkJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9MBBUpGPEeaIQ-hA1qOqOA" name="start">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9MBBU5GPEeaIQ-hA1qOqOA" name="velocity">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9MBoYJGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#int"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9MBoYZGPEeaIQ-hA1qOqOA" name="makePlayable" method="_9ROReZGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RxEAJGPEeaIQ-hA1qOqOA">
              <body>Factory method for an IPlayable object that can play the currently programmed music sequence.&#xD;
	 * @param statusCmd The finished() method of this command is called when the track finishes being played, i.e. a normal termination.  There is no notification if play is forcibly stopped.&#xD;
	 * @return An IPlayable object associated with the currently programmed music sequence.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9MBoYpGPEeaIQ-hA1qOqOA" name="statusCmd" type="_9FeUcJGPEeaIQ-hA1qOqOA">
              <eAnnotations xmi:id="_9MC2gJGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_9MC2gZGPEeaIQ-hA1qOqOA" key="final"/>
              </eAnnotations>
            </ownedParameter>
            <ownedParameter xmi:id="_9MCPcJGPEeaIQ-hA1qOqOA" type="_9FwoUJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <nestedClassifier xmi:type="uml:Interface" xmi:id="_9FwoUJGPEeaIQ-hA1qOqOA" name="IPlayable">
            <eAnnotations xmi:id="_9FxPYJGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9FxPYZGPEeaIQ-hA1qOqOA" key="static"/>
            </eAnnotations>
            <ownedComment xmi:id="_9Rwc9JGPEeaIQ-hA1qOqOA">
              <body>Interface  that represents a playable entity.&#xD;
	 * @author swong&#xD;
	 *</body>
            </ownedComment>
            <ownedAttribute xmi:id="_9Fx2cJGPEeaIQ-hA1qOqOA" name="NULL" isLeaf="true" isStatic="true" type="_9FwoUJGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SIQYZGPEeaIQ-hA1qOqOA">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_9Fx2cZGPEeaIQ-hA1qOqOA" value="new IPlayable() {&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;@Override&#xD;&#xA;&#x9;&#x9;&#x9;public void start() {&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;&#x9;@Override&#xD;&#xA;&#x9;&#x9;&#x9;public void stop() {&#xD;&#xA;&#x9;&#x9;&#x9;}&#xD;&#xA;&#x9;&#x9;}"/>
            </ownedAttribute>
            <ownedOperation xmi:id="_9FxPYpGPEeaIQ-hA1qOqOA" name="start">
              <ownedComment xmi:id="_9Rwc9ZGPEeaIQ-hA1qOqOA">
                <body>Starts the sequencer associated with this playable entity</body>
              </ownedComment>
            </ownedOperation>
            <ownedOperation xmi:id="_9FxPY5GPEeaIQ-hA1qOqOA" name="stop">
              <ownedComment xmi:id="_9Rwc9pGPEeaIQ-hA1qOqOA">
                <body>Stops the sequencer and synthesizer associated with this playable entity</body>
              </ownedComment>
            </ownedOperation>
          </nestedClassifier>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SHpUJGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SHpUZGPEeaIQ-hA1qOqOA _9Fe7gJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SHpUZGPEeaIQ-hA1qOqOA" name="" type="_9FeUcJGPEeaIQ-hA1qOqOA" association="_9SHpUJGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SIQYZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SIQYpGPEeaIQ-hA1qOqOA _9Fx2cJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SIQYpGPEeaIQ-hA1qOqOA" name="" type="_9FwoUJGPEeaIQ-hA1qOqOA" association="_9SIQYZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SakQJGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SakQZGPEeaIQ-hA1qOqOA _9P6p4JGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SakQZGPEeaIQ-hA1qOqOA" name="" type="_9FfikJGPEeaIQ-hA1qOqOA" association="_9SakQJGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SbLUJGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SbLUZGPEeaIQ-hA1qOqOA _9P7Q8JGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SbLUZGPEeaIQ-hA1qOqOA" name="" type="_9FfikJGPEeaIQ-hA1qOqOA" association="_9SbLUJGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SbyYJGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SbyYZGPEeaIQ-hA1qOqOA _9P9tMZGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SbyYZGPEeaIQ-hA1qOqOA" name="" type="_9FfikJGPEeaIQ-hA1qOqOA" association="_9SbyYJGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SdAgJGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SdAgZGPEeaIQ-hA1qOqOA _9P-UQZGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SdAgZGPEeaIQ-hA1qOqOA" name="" type="_9FfikJGPEeaIQ-hA1qOqOA" association="_9SdAgJGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SdnkZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SdnkpGPEeaIQ-hA1qOqOA _9QBXkJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SdnkpGPEeaIQ-hA1qOqOA" name="" type="_9FwBQJGPEeaIQ-hA1qOqOA" association="_9SdnkZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SeOoZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SeOopGPEeaIQ-hA1qOqOA _9QBXkpGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SeOopGPEeaIQ-hA1qOqOA" name="" type="_9FwBQJGPEeaIQ-hA1qOqOA" association="_9SeOoZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_9BmhEJGPEeaIQ-hA1qOqOA" name="token">
        <packagedElement xmi:type="uml:Class" xmi:id="_9F7ncJGPEeaIQ-hA1qOqOA" name="ATokVisitor" isAbstract="true">
          <ownedComment xmi:id="_9RxEBpGPEeaIQ-hA1qOqOA">
            <body>A visitor to an Token that implements ITokVisitor using a dictionary of commands.</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9QHeMJGPEeaIQ-hA1qOqOA" name="defaultCmd" visibility="private" type="_9GCVIJGPEeaIQ-hA1qOqOA" association="_9Se1sZGPEeaIQ-hA1qOqOA"/>
          <ownedAttribute xmi:id="_9QIFQJGPEeaIQ-hA1qOqOA" name="cmds" visibility="private" type="_9GCVIJGPEeaIQ-hA1qOqOA" association="_9SfcwZGPEeaIQ-hA1qOqOA">
            <qualifier xmi:id="_9QIsUZGPEeaIQ-hA1qOqOA">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </qualifier>
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QIFQZGPEeaIQ-hA1qOqOA" value="new Hashtable&lt;String, ITokVisitorCmd>()"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_9MF50JGPEeaIQ-hA1qOqOA" client="_9F7ncJGPEeaIQ-hA1qOqOA" supplier="_9GAf8JGPEeaIQ-hA1qOqOA" contract="_9GAf8JGPEeaIQ-hA1qOqOA"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RQGoJGPEeaIQ-hA1qOqOA" name="ATokVisitor" specification="_9F81kJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RQGoZGPEeaIQ-hA1qOqOA" type="_9F7ncJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>defaultCmd = new ITokVisitorCmd() {&#xD;
			public Object apply(String idx, Token host, Object... inps) {&#xD;
				throw new IllegalArgumentException(&#xD;
						&quot;ATokVisitor: Unknown token encountered: &quot; + idx);&#xD;
			}&#xD;
		};&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RQGopGPEeaIQ-hA1qOqOA" name="ATokVisitor" specification="_9MHH8JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RQGo5GPEeaIQ-hA1qOqOA" name="defaultCmd" type="_9GCVIJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RQGpJGPEeaIQ-hA1qOqOA" type="_9F7ncJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>this.defaultCmd = defaultCmd;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RQtsJGPEeaIQ-hA1qOqOA" name="caseAt" specification="_9OcDMJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RQtsZGPEeaIQ-hA1qOqOA" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RQtspGPEeaIQ-hA1qOqOA" name="host" type="_9GF_gJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RQts5GPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9RQttJGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RQttZGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>if (cmds.containsKey(id)) {&#xD;
			return cmds.get(id).apply(id, host, params);&#xD;
		} else {&#xD;
			return defaultCmd.apply(id, host, params);&#xD;
		}&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RQttpGPEeaIQ-hA1qOqOA" name="addCmd" specification="_9MIWEJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RQtt5GPEeaIQ-hA1qOqOA" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RQtuJGPEeaIQ-hA1qOqOA" name="cmd" type="_9GCVIJGPEeaIQ-hA1qOqOA"/>
            <language>java</language>
            <body>cmds.put(id, cmd);&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9F81kJGPEeaIQ-hA1qOqOA" name="ATokVisitor" method="_9RQGoJGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9F81kZGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9F81kpGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_9RxEB5GPEeaIQ-hA1qOqOA">
              <body>Constructor that sets the default cmd to one that throws and IllegalArgumentException&quot; for any unknown tokens.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9F81k5GPEeaIQ-hA1qOqOA" type="_9F7ncJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9MHH8JGPEeaIQ-hA1qOqOA" name="ATokVisitor" method="_9RQGopGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9MHH8pGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9MHH85GPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_9RxECJGPEeaIQ-hA1qOqOA">
              <body>Constructor that sets the default cmd to the given command.&#xD;
	 * @param defaultCmd the default cmd to use.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9MHH8ZGPEeaIQ-hA1qOqOA" name="defaultCmd" type="_9GCVIJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9MHH9JGPEeaIQ-hA1qOqOA" type="_9F7ncJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9MIWEJGPEeaIQ-hA1qOqOA" name="addCmd" method="_9RQttpGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RxECZGPEeaIQ-hA1qOqOA">
              <body>Add a new cmd or replace an existing cmd associated with the given host id.&#xD;
	 * @param id the id of the host to associate with this visitor.&#xD;
	 * @param cmd The command to associate with the given key value.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9MIWEZGPEeaIQ-hA1qOqOA" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9MIWEpGPEeaIQ-hA1qOqOA" name="cmd" type="_9GCVIJGPEeaIQ-hA1qOqOA"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9OcDMJGPEeaIQ-hA1qOqOA" name="caseAt" method="_9RQtsJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9OcDMZGPEeaIQ-hA1qOqOA" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9OcqQJGPEeaIQ-hA1qOqOA" name="host" type="_9GF_gJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9OcqQZGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9OefcJGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9OcqQpGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Package" xmi:id="_9BnIIJGPEeaIQ-hA1qOqOA" name="tokenizer">
          <packagedElement xmi:type="uml:Class" xmi:id="_9GN7UJGPEeaIQ-hA1qOqOA" name="ABCTokenizer">
            <ownedComment xmi:id="_9Ry5MpGPEeaIQ-hA1qOqOA">
              <body>Tokenizer for the abc music language. getNextToken() returns next Token in&#xD;
stream. Does not recognize all possible language constructs and symbols&#xD;
(returned as &quot;?&quot; token).  Tokens are the atomic psemantic pieces of a language,&#xD;
such as Note, repeat start, measure, chord, etc.   The token ids (names) returned are: &lt;br/>&#xD;
 &lt;br/>&#xD;
 EOF - end of file&lt;br/>&#xD;
 &quot;|:&quot; - repeat start&lt;br/>&#xD;
 &quot;:|&quot; - repeat end&lt;br/>&#xD;
 &quot;|1&quot; - first repeat start&lt;br/>&#xD;
 &quot;[1&quot; - alternative first repeat start&lt;br/>&#xD;
 &quot;|2&quot; - second repeat start&lt;br/>&#xD;
 &quot;[2&quot; - alternative second repeat start&lt;br/>&#xD;
 &quot;[|&quot; - thick-thin double bar line&lt;br/>&#xD;
 &quot;|]&quot; - thin-thick double bar line&lt;br/>&#xD;
 &quot;:|2&quot; - alternative second repeat start&lt;br/>&#xD;
 &quot;||&quot; - double measure bar&lt;br/>&#xD;
 &quot;::&quot; - short hand for repeat end-start &quot;:||:&quot;&lt;br/>&#xD;
 &quot;|&quot; - Measure bar&lt;br/>&#xD;
 &quot;[&quot;) - Chord start&lt;br/>&#xD;
 &quot;]&quot; - Chord end&lt;br/>&#xD;
 &quot;-&quot; - tie&lt;br/>&#xD;
 &quot;&amp;lt;&quot; - the previous note  is dotted, the next note halved&lt;br/> &#xD;
 &quot;&amp;gt;&quot; - the previous note is halved, the next dotted&lt;br/>&#xD;
 &quot;{&quot; - Grace begin&lt;br/>&#xD;
 &quot;}&quot; - Grace end&lt;br/>&#xD;
 &quot;%&quot; - Comment&lt;br/>&#xD;
 &quot;[Header ID]&quot; - where [Header ID] is a single letter from {ABCDEFGHIKLMNOPQRSTWXZ} &lt;br/> &#xD;
 &quot;Note&quot; - a single note whose lexeme contains the name, accidentals, octave and duration&lt;br/>&#xD;
 &quot;Tuplet&quot; - the lexeme is the number of subsequent Notes comprise this tuplet. &lt;br/>&#xD;
 &quot;Quote&quot; - lexeme is the quoted text &lt;br/>&#xD;
 &quot;?&quot; - unknown language construct. &lt;br/>&#xD;
  &lt;br/>&#xD;
References: &lt;br/>&#xD;
&lt;a href =&#xD;
&quot;http://download.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html&quot;&#xD;
>java.util.regex.Pattern for regex guide&lt;/a>&lt;br/>&#xD;
&lt;a href=&quot;http://asciitable.com/&quot;>ASCII table for codes&lt;/a>&lt;br/>&#xD;
&lt;a href=&quot;http://abcnotation.com/abc2mtex/abc.txt&quot;>abc music standard 1.6&lt;/a></body>
            </ownedComment>
            <generalization xmi:id="_9MSHEJGPEeaIQ-hA1qOqOA" general="_9GavoJGPEeaIQ-hA1qOqOA"/>
            <ownedAttribute xmi:id="_9QLvoZGPEeaIQ-hA1qOqOA" name="keywords1" visibility="private">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <qualifier xmi:id="_9QMWsZGPEeaIQ-hA1qOqOA">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </qualifier>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QLvopGPEeaIQ-hA1qOqOA" value="new Hashtable&lt;String, String>()"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_9QM9wJGPEeaIQ-hA1qOqOA" name="keywords2" visibility="private">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <qualifier xmi:id="_9QNk0ZGPEeaIQ-hA1qOqOA">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </qualifier>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QM9wZGPEeaIQ-hA1qOqOA" value="new Hashtable&lt;String, String>()"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_9QNk0pGPEeaIQ-hA1qOqOA" name="keywordsVector" visibility="private" type="_9OqssJGPEeaIQ-hA1qOqOA" association="_9SgD05GPEeaIQ-hA1qOqOA">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QOL4ZGPEeaIQ-hA1qOqOA" value="new Vector&lt;Map&lt;String, String>>()"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_9QPaAJGPEeaIQ-hA1qOqOA" name="tokFac" visibility="private" type="_9GExYJGPEeaIQ-hA1qOqOA" association="_9Sgq4ZGPEeaIQ-hA1qOqOA">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QPaAZGPEeaIQ-hA1qOqOA" value="TokenFactory.Singleton"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_9QQBEZGPEeaIQ-hA1qOqOA" name="stack" visibility="private" type="_9NXsMJGPEeaIQ-hA1qOqOA" association="_9ShR8ZGPEeaIQ-hA1qOqOA">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QQoIZGPEeaIQ-hA1qOqOA" value="new Stack&lt;Token>()"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_9QRPMZGPEeaIQ-hA1qOqOA" name="ACCIDENTALS" isLeaf="true" isStatic="true" isReadOnly="true">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QRPMpGPEeaIQ-hA1qOqOA" value="&quot;_=^&quot;"/>
            </ownedAttribute>
            <interfaceRealization xmi:id="_9MQR4JGPEeaIQ-hA1qOqOA" client="_9GN7UJGPEeaIQ-hA1qOqOA" supplier="_9GYTYZGPEeaIQ-hA1qOqOA" contract="_9GYTYZGPEeaIQ-hA1qOqOA"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RWNQJGPEeaIQ-hA1qOqOA" name="ABCTokenizer" specification="_9GPwgJGPEeaIQ-hA1qOqOA">
              <ownedParameter xmi:id="_9RWNQZGPEeaIQ-hA1qOqOA" name="inputFileName">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_9RWNQpGPEeaIQ-hA1qOqOA" type="_9GN7UJGPEeaIQ-hA1qOqOA" direction="return"/>
              <language>java</language>
              <body>super(inputFileName);&#xD;
&#xD;
		// note: &quot;\\7C&quot; => &quot;|&quot;, &quot;\\x5B&quot; => &quot;[&quot;, &quot;\\x5D&quot; => &quot;]&quot;&#xD;
		// &quot;\\x7B&quot; => &quot;{&quot;,  &quot;\\x7D&quot; => &quot;}&quot;&#xD;
&#xD;
		// load the regex->keyword mapping&#xD;
		keywords1.put(&quot;\\x7C:&quot;, &quot;|:&quot;); // repeat start&#xD;
		keywords1.put(&quot;:\\x7C&quot;, &quot;:|&quot;); // repeat end&#xD;
		keywords1.put(&quot;\\x7C1&quot;, &quot;|1&quot;); // first repeat start&#xD;
		keywords1.put(&quot;\\x5B1&quot;, &quot;[1&quot;); // alternative first repeat start&#xD;
		keywords1.put(&quot;\\x7C2&quot;, &quot;|2&quot;); // second repeat start&#xD;
		keywords1.put(&quot;\\x5B2&quot;, &quot;[2&quot;); // alternative second repeat start&#xD;
		keywords1.put(&quot;\\x5B\\7C&quot;, &quot;[|&quot;); // thick-thin double bar line&#xD;
		keywords1.put(&quot;\\7C\\x5D&quot;, &quot;|]&quot;); // thin-thick double bar line&#xD;
		keywords1.put(&quot;:\\x7C2&quot;, &quot;:|2&quot;); // alternative second repeat start&#xD;
		keywords1.put(&quot;\\x7C\\x7C&quot;, &quot;||&quot;); // double measure bar&#xD;
		keywords1.put(&quot;::&quot;, &quot;::&quot;); // short hand for repeat end-start &quot;:||:&quot;&#xD;
&#xD;
		// Should these be separated out into a different map because order of&#xD;
		// search is important?&#xD;
		keywords2.put(&quot;\\x7C&quot;, &quot;|&quot;); // Measure bar&#xD;
		keywords2.put(&quot;\\x5B&quot;, &quot;[&quot;); // Chord start&#xD;
		keywords2.put(&quot;\\x5D&quot;, &quot;]&quot;); // Chord end&#xD;
		keywords2.put(&quot;-&quot;, &quot;-&quot;); // tie&#xD;
		keywords2.put(&quot;>&quot;, &quot;>&quot;); // the previous note  is dotted, the next note halved &#xD;
		keywords2.put(&quot;&lt;&quot;, &quot;&lt;&quot;); // the previous note is halved, the next dotted&#xD;
		keywords2.put(&quot;\\x7B&quot;, &quot;{&quot;); // Grace begin&#xD;
		keywords2.put(&quot;\\x7D&quot;, &quot;}&quot;); // Grace end		&#xD;
&#xD;
		keywordsVector.add(keywords1);&#xD;
		keywordsVector.add(keywords2);&#xD;
&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RW0UJGPEeaIQ-hA1qOqOA" name="getNextToken" specification="_9GQXkpGPEeaIQ-hA1qOqOA">
              <ownedParameter xmi:id="_9RW0UZGPEeaIQ-hA1qOqOA" type="_9GF_gJGPEeaIQ-hA1qOqOA" direction="return"/>
              <language>java</language>
              <body>if (stack.empty())&#xD;
			return makeNextToken();&#xD;
		else&#xD;
			return stack.pop();&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RW0UpGPEeaIQ-hA1qOqOA" name="putBack" specification="_9MRgAJGPEeaIQ-hA1qOqOA">
              <ownedParameter xmi:id="_9RW0U5GPEeaIQ-hA1qOqOA" name="t" type="_9GF_gJGPEeaIQ-hA1qOqOA"/>
              <language>java</language>
              <body>stack.push(t);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RW0VJGPEeaIQ-hA1qOqOA" name="makeNextToken" specification="_9GRlsJGPEeaIQ-hA1qOqOA">
              <ownedParameter xmi:id="_9RW0VZGPEeaIQ-hA1qOqOA" type="_9GF_gJGPEeaIQ-hA1qOqOA" direction="return"/>
              <language>java</language>
              <body>String sTok = this.getNextStringToken();&#xD;
		if (null == sTok)&#xD;
			return tokFac.makeToken(&quot;EOF&quot;, &quot;EOF&quot;); // EOF returns as null&#xD;
		if (sTok.equals(&quot;\n&quot;))&#xD;
			return makeNextToken(); // discard bare LF's.&#xD;
&#xD;
		// search for first keywords, pushing extra tokens back into tokenizer's&#xD;
		// stack.&#xD;
		for (Map&lt;String, String> keywords : keywordsVector) {&#xD;
			for (String kw : keywords.keySet()) {&#xD;
				if (keywords.get(kw).equals(sTok))&#xD;
					return tokFac.makeToken(sTok, sTok);&#xD;
				String[] split = sTok.split(kw, -1);&#xD;
				if (split.length > 1) {&#xD;
&#xD;
					for (int i = split.length - 1; i > 0; i--) {&#xD;
						if (!split[i].equals(&quot;&quot;)) {&#xD;
							this.putStringBack(split[i]);&#xD;
						}&#xD;
						this.putStringBack(keywords.get(kw));&#xD;
					}&#xD;
					if (!split[0].equals(&quot;&quot;)) {&#xD;
						this.putStringBack(split[0]);&#xD;
					}&#xD;
					return makeNextToken();&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
&#xD;
		// Find header tokens, which are the whole line.&#xD;
		int idx = sTok.indexOf(&quot;:&quot;);&#xD;
		if (1 == idx) {&#xD;
			String header = sTok;&#xD;
			String next = super.getNextStringToken();&#xD;
			while (!next.equals(&quot;\n&quot;)) {&#xD;
				header += &quot; &quot; + next;&#xD;
				next = this.getNextStringToken();&#xD;
			}&#xD;
			return tokFac&#xD;
					.makeToken(header.substring(0, 1), header.substring(2));&#xD;
		}&#xD;
&#xD;
		// Find comment, which is the rest of the line.&#xD;
		idx = sTok.indexOf(&quot;%&quot;);&#xD;
		if (-1 != idx) {&#xD;
			// Comment in line somewhere&#xD;
			if (0 == idx) { // comment is at beginning of line&#xD;
				String comment = sTok;&#xD;
				String next = super.getNextStringToken();&#xD;
				while (!next.equals(&quot;\n&quot;)) { // get the rest of the line&#xD;
					comment += next;&#xD;
					// get the next string token &#xD;
					next = this.getNextStringToken();&#xD;
				}&#xD;
				return tokFac.makeToken(&quot;%&quot;, comment.substring(1));&#xD;
			} else { // comment is in middle of the line&#xD;
				// push the entire comment, incl. the comment char, back into&#xD;
				// the tokenizer b/c it can't be dealt with yet.&#xD;
				this.putStringBack(sTok.substring(idx));&#xD;
				// push the tokens before the comment back into the tokenizer&#xD;
				// so that they can be then processed when pulled back out.&#xD;
				this.putStringBack(sTok.substring(0, idx));&#xD;
				return makeNextToken(); // Process whatever is in the tokenizer&#xD;
			}&#xD;
		}&#xD;
&#xD;
		// Find tuplet&#xD;
		if ('(' == sTok.charAt(0)) {&#xD;
			// Tuplet found&#xD;
			int n = Integer.parseInt(sTok.substring(1, 2)); // get tuplet size&#xD;
			this.putStringBack(sTok.substring(2)); // push rest back into tokenizer&#xD;
			return tokFac.makeToken(&quot;Tuplet&quot;, &quot;&quot; + n);&#xD;
		}&#xD;
&#xD;
		if (Character.isLetter(sTok.charAt(0))&#xD;
				|| ACCIDENTALS.contains(sTok.subSequence(0, 1))) {&#xD;
			// Start of Note string found.&#xD;
			return tokFac.makeToken(&quot;Note&quot;, parseNote(sTok));&#xD;
		}&#xD;
&#xD;
		if ('\&quot;' == sTok.charAt(0)) {&#xD;
			// Quoted string found&#xD;
			return tokFac.makeToken(&quot;Quote&quot;, parseQuote(&quot;&quot;, sTok.substring(1)));&#xD;
		}&#xD;
&#xD;
		if (sTok.equals(&quot;\\&quot;)) {&#xD;
			// abc line break detected.  Ignore.&#xD;
			return makeNextToken();&#xD;
		}&#xD;
&#xD;
		// Unknown token&#xD;
		return tokFac.makeToken(&quot;?&quot;, sTok);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RXbYJGPEeaIQ-hA1qOqOA" name="parseNote" specification="_9GSMwJGPEeaIQ-hA1qOqOA">
              <ownedParameter xmi:id="_9RXbYZGPEeaIQ-hA1qOqOA" name="sTok">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_9RXbYpGPEeaIQ-hA1qOqOA" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>int i = 1;&#xD;
		// look for pre-note name characters&#xD;
		if (!Character.isLetter(sTok.charAt(0))) {&#xD;
			for (; i &lt; sTok.length(); i++) {&#xD;
				if (sTok.charAt(i) != sTok.charAt(0)) {&#xD;
					i++; // move to next char&#xD;
					break; // This assumes that this char is a letter which&#xD;
							// follows the accidentals&#xD;
				}&#xD;
			}&#xD;
		}&#xD;
&#xD;
		for (; i &lt; sTok.length(); i++) {&#xD;
			// look for non-post-note name characters.&#xD;
			if (!(Character.isDigit(sTok.charAt(i)) || &quot;,/'&quot;.contains(sTok&#xD;
					.subSequence(i, i + 1)))) {&#xD;
				putStringBack(sTok.substring(i)); // put the rest back in the&#xD;
													// tokenizer.&#xD;
				break;&#xD;
			}&#xD;
		}&#xD;
		// i = end of note string&#xD;
		return sTok.substring(0, i);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RXbY5GPEeaIQ-hA1qOqOA" name="parseQuote" specification="_9GTa4JGPEeaIQ-hA1qOqOA">
              <ownedParameter xmi:id="_9RXbZJGPEeaIQ-hA1qOqOA" name="acc">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_9RXbZZGPEeaIQ-hA1qOqOA" name="sTok">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_9RXbZpGPEeaIQ-hA1qOqOA" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>for (int i = 0; i &lt; sTok.length(); i++) {&#xD;
			if ('\&quot;' == sTok.charAt(i)) {&#xD;
				String rest = sTok.substring(i + 1);&#xD;
				if (!rest.equals(&quot;&quot;)) {&#xD;
					this.putStringBack(rest);&#xD;
				}&#xD;
				return acc;&#xD;
			} else {&#xD;
				acc += sTok.charAt(i);&#xD;
			}&#xD;
		}&#xD;
		acc += &quot; &quot;;&#xD;
		return parseQuote(acc, this.getNextStringToken());&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_9GPwgJGPEeaIQ-hA1qOqOA" name="ABCTokenizer" method="_9RWNQJGPEeaIQ-hA1qOqOA" raisedException="_9MVKYZGPEeaIQ-hA1qOqOA">
              <eAnnotations xmi:id="_9GPwgpGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_9GQXkJGPEeaIQ-hA1qOqOA" key="create"/>
              </eAnnotations>
              <ownedComment xmi:id="_9Ry5M5GPEeaIQ-hA1qOqOA">
                <body>Constructor for the class&#xD;
	 * @param inputFileName  File to tokenize&#xD;
	 * @throws FileNotFoundException  When input file could not be loaded.</body>
              </ownedComment>
              <ownedParameter xmi:id="_9GPwgZGPEeaIQ-hA1qOqOA" name="inputFileName">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_9GQXkZGPEeaIQ-hA1qOqOA" type="_9GN7UJGPEeaIQ-hA1qOqOA" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_9GQXkpGPEeaIQ-hA1qOqOA" name="getNextToken" method="_9RW0UJGPEeaIQ-hA1qOqOA">
              <ownedComment xmi:id="_9RzgQJGPEeaIQ-hA1qOqOA">
                <body>Return the next token, either from the stream or the last token if it was&#xD;
	 * pushed back</body>
              </ownedComment>
              <ownedParameter xmi:id="_9MQ48JGPEeaIQ-hA1qOqOA" type="_9GF_gJGPEeaIQ-hA1qOqOA" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_9GRlsJGPEeaIQ-hA1qOqOA" name="makeNextToken" visibility="private" method="_9RW0VJGPEeaIQ-hA1qOqOA">
              <ownedComment xmi:id="_9RzgQpGPEeaIQ-hA1qOqOA">
                <body>Parse the strings down from the getNextStringToken further, separating&#xD;
	 * out the abc keywords into tokens.&#xD;
	 * @return The next Token in the stream</body>
              </ownedComment>
              <ownedParameter xmi:id="_9MRgApGPEeaIQ-hA1qOqOA" type="_9GF_gJGPEeaIQ-hA1qOqOA" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_9GSMwJGPEeaIQ-hA1qOqOA" name="parseNote" visibility="private" method="_9RXbYJGPEeaIQ-hA1qOqOA">
              <ownedComment xmi:id="_9RzgQ5GPEeaIQ-hA1qOqOA">
                <body>Returns the first note string in the given string.&#xD;
	 * &#xD;
	 * @param sTok  The string to parse&#xD;
	 * @return A String that is the first note in the given string</body>
              </ownedComment>
              <ownedParameter xmi:id="_9GSz0JGPEeaIQ-hA1qOqOA" name="sTok">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_9GSz0ZGPEeaIQ-hA1qOqOA" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_9GTa4JGPEeaIQ-hA1qOqOA" name="parseQuote" visibility="private" method="_9RXbY5GPEeaIQ-hA1qOqOA">
              <ownedComment xmi:id="_9RzgRJGPEeaIQ-hA1qOqOA">
                <body>Returns the rest of a string, incl. spaces until the next double quote&#xD;
	 * @param acc  Accumulated result string&#xD;
	 * @param sTok the current string token&#xD;
	 * @return the full quoted string</body>
              </ownedComment>
              <ownedParameter xmi:id="_9GTa4ZGPEeaIQ-hA1qOqOA" name="acc">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_9GTa4pGPEeaIQ-hA1qOqOA" name="sTok">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_9GTa45GPEeaIQ-hA1qOqOA" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_9MRgAJGPEeaIQ-hA1qOqOA" name="putBack" method="_9RW0UpGPEeaIQ-hA1qOqOA">
              <ownedComment xmi:id="_9RzgQZGPEeaIQ-hA1qOqOA">
                <body>*	 Push token back into the stream&#xD;
	 * @param t the Token you need to put back in the stream.</body>
              </ownedComment>
              <ownedParameter xmi:id="_9MRgAZGPEeaIQ-hA1qOqOA" name="t" type="_9GF_gJGPEeaIQ-hA1qOqOA"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Interface" xmi:id="_9GWeMJGPEeaIQ-hA1qOqOA" name="IStringTokenizer">
            <ownedComment xmi:id="_9RzgRZGPEeaIQ-hA1qOqOA">
              <body>Tokenizer that only returns string tokens.  This is a specialization of ITokenizer for strings.&#xD;
&#xD;
@author swong&#xD;
 *</body>
            </ownedComment>
            <ownedOperation xmi:id="_9GXFQJGPEeaIQ-hA1qOqOA" name="getNextStringToken" isAbstract="true">
              <ownedComment xmi:id="_9RzgRpGPEeaIQ-hA1qOqOA">
                <body>Return the next token.&#xD;
	 * @return The next token in the tokenizer</body>
              </ownedComment>
              <ownedParameter xmi:id="_9GXFQZGPEeaIQ-hA1qOqOA" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_9GXsUJGPEeaIQ-hA1qOqOA" name="putStringBack" isAbstract="true">
              <ownedComment xmi:id="_9R0HUJGPEeaIQ-hA1qOqOA">
                <body>Put the previously consumed token back into the token stream. Can only&#xD;
	 * put back one token.&#xD;
	 * @param t the token to push back into the tokenizer</body>
              </ownedComment>
              <ownedParameter xmi:id="_9GYTYJGPEeaIQ-hA1qOqOA" name="t">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Interface" xmi:id="_9GYTYZGPEeaIQ-hA1qOqOA" name="ITokenizer" isAbstract="true">
            <ownedComment xmi:id="_9R0HUZGPEeaIQ-hA1qOqOA">
              <body>Extract and return an appropriate Token from some given source.</body>
            </ownedComment>
            <ownedOperation xmi:id="_9GZhgJGPEeaIQ-hA1qOqOA" name="getNextToken" isAbstract="true">
              <ownedComment xmi:id="_9R0HUpGPEeaIQ-hA1qOqOA">
                <body>Return the next token.&#xD;
	 * @return the next token in the tokenizer</body>
              </ownedComment>
              <ownedParameter xmi:id="_9MT8QJGPEeaIQ-hA1qOqOA" type="_9GF_gJGPEeaIQ-hA1qOqOA" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_9MT8QZGPEeaIQ-hA1qOqOA" name="putBack" isAbstract="true">
              <ownedComment xmi:id="_9R0HU5GPEeaIQ-hA1qOqOA">
                <body>Put the previously consumed token back into the token stream. &#xD;
	 * @param t the token to put back into the tokenizer</body>
              </ownedComment>
              <ownedParameter xmi:id="_9MT8QpGPEeaIQ-hA1qOqOA" name="t" type="_9GF_gJGPEeaIQ-hA1qOqOA"/>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Class" xmi:id="_9GavoJGPEeaIQ-hA1qOqOA" name="StringTokenizer">
            <ownedComment xmi:id="_9R0HVJGPEeaIQ-hA1qOqOA">
              <body>Special tokenizer that converts a stream of various types of tokens from  StreamTokenizer and converts them into a stream of strings. &#xD;
@author swong&#xD;
 *</body>
            </ownedComment>
            <ownedAttribute xmi:id="_9QR2QJGPEeaIQ-hA1qOqOA" name="stack" visibility="private" type="_9NXsMJGPEeaIQ-hA1qOqOA" association="_9Sh5AJGPEeaIQ-hA1qOqOA">
              <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QTEYJGPEeaIQ-hA1qOqOA" value="new Stack&lt;String>()"/>
            </ownedAttribute>
            <ownedAttribute xmi:id="_9QTrcJGPEeaIQ-hA1qOqOA" name="_st" visibility="protected" type="_9MXmoZGPEeaIQ-hA1qOqOA" association="_9SigEZGPEeaIQ-hA1qOqOA"/>
            <ownedAttribute xmi:id="_9QUSgJGPEeaIQ-hA1qOqOA" name="_fileReader" visibility="protected" type="_9MW_kZGPEeaIQ-hA1qOqOA" association="_9SjHIZGPEeaIQ-hA1qOqOA"/>
            <interfaceRealization xmi:id="_9MY0wZGPEeaIQ-hA1qOqOA" client="_9GavoJGPEeaIQ-hA1qOqOA" supplier="_9GWeMJGPEeaIQ-hA1qOqOA" contract="_9GWeMJGPEeaIQ-hA1qOqOA"/>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RYpgJGPEeaIQ-hA1qOqOA" name="StringTokenizer" specification="_9GbWsJGPEeaIQ-hA1qOqOA">
              <ownedParameter xmi:id="_9RYpgZGPEeaIQ-hA1qOqOA" name="inputFileName">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_9RYpgpGPEeaIQ-hA1qOqOA" type="_9GavoJGPEeaIQ-hA1qOqOA" direction="return"/>
              <language>java</language>
              <body>// Create an input text file object:&#xD;
&#xD;
		//_st = new StreamTokenizer(new BufferedReader(url.openStream()));&#xD;
		//_fileReader = new FileReader(inputFileName);&#xD;
		try {&#xD;
			InputStream is = this.getClass().getResource(inputFileName)&#xD;
					.openStream();&#xD;
&#xD;
			_fileReader = new BufferedReader(new InputStreamReader(is));&#xD;
&#xD;
			//_fileReader = new FileReader(file);&#xD;
		} catch (Exception e) {&#xD;
			// TODO Auto-generated catch block&#xD;
			System.err.println(&quot;StringTokenizer error opening file: &quot; + e);&#xD;
			e.printStackTrace();&#xD;
		}&#xD;
&#xD;
		// Create a Streamtokenizer to parse the input text file:&#xD;
		_st = new StreamTokenizer(_fileReader);&#xD;
&#xD;
		_st.eolIsSignificant(true);&#xD;
		_st.wordChars(33, 125);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RYpg5GPEeaIQ-hA1qOqOA" name="getNextStringToken" specification="_9Gb9wZGPEeaIQ-hA1qOqOA">
              <ownedParameter xmi:id="_9RYphJGPEeaIQ-hA1qOqOA" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>if (stack.empty())&#xD;
			return makeNextStringToken();&#xD;
		else&#xD;
			return stack.pop();&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RYphZGPEeaIQ-hA1qOqOA" name="putStringBack" specification="_9GdL4ZGPEeaIQ-hA1qOqOA">
              <ownedParameter xmi:id="_9RYphpGPEeaIQ-hA1qOqOA" name="str">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>stack.push(str);&#xD;
	</body>
            </ownedBehavior>
            <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RZQkJGPEeaIQ-hA1qOqOA" name="makeNextStringToken" specification="_9Gdy85GPEeaIQ-hA1qOqOA">
              <ownedParameter xmi:id="_9RZQkZGPEeaIQ-hA1qOqOA" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <language>java</language>
              <body>try {&#xD;
			int t = _st.nextToken();&#xD;
			if (StreamTokenizer.TT_EOL == t)&#xD;
				return &quot;\n&quot;;&#xD;
			if (StreamTokenizer.TT_EOF != t) {&#xD;
				switch (_st.ttype) {&#xD;
&#xD;
				case StreamTokenizer.TT_WORD: {&#xD;
					return _st.sval;&#xD;
				}&#xD;
&#xD;
				case StreamTokenizer.TT_NUMBER: {&#xD;
					// check if number is an integer&#xD;
					if (Math.floor(_st.nval) == _st.nval) {&#xD;
						return &quot;&quot; + (int) _st.nval;&#xD;
					} else {&#xD;
						return &quot;&quot; + _st.nval;&#xD;
					}&#xD;
				}&#xD;
&#xD;
				default:&#xD;
					throw new IllegalArgumentException(&#xD;
							&quot;Tokenizer1: Illegal token type = &quot; + _st.ttype);&#xD;
				}&#xD;
			} else {&#xD;
				_fileReader.close();&#xD;
				System.err.println(&quot;EOF Token&quot;);&#xD;
				return null;&#xD;
			}&#xD;
		} catch (IOException e) {&#xD;
			System.out.println(&quot;StringTokenizer.makeNextToken(): Exception = &quot;&#xD;
					+ e.getMessage());&#xD;
			return null;&#xD;
		}&#xD;
&#xD;
	</body>
            </ownedBehavior>
            <ownedOperation xmi:id="_9GbWsJGPEeaIQ-hA1qOqOA" name="StringTokenizer" method="_9RYpgJGPEeaIQ-hA1qOqOA" raisedException="_9MVKYZGPEeaIQ-hA1qOqOA">
              <eAnnotations xmi:id="_9GbWspGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_9GbWs5GPEeaIQ-hA1qOqOA" key="create"/>
              </eAnnotations>
              <ownedComment xmi:id="_9R0HVZGPEeaIQ-hA1qOqOA">
                <body>Initialize _st to read from a input Reader file with the given input file&#xD;
	 * name.&#xD;
	 * &#xD;
	 * @param inputFileName&#xD;
	 *            the name of the input text file&#xD;
	 * @throws FileNotFoundException When the input file could not be opened</body>
              </ownedComment>
              <ownedParameter xmi:id="_9GbWsZGPEeaIQ-hA1qOqOA" name="inputFileName">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
              <ownedParameter xmi:id="_9Gb9wJGPEeaIQ-hA1qOqOA" type="_9GavoJGPEeaIQ-hA1qOqOA" direction="return"/>
            </ownedOperation>
            <ownedOperation xmi:id="_9Gb9wZGPEeaIQ-hA1qOqOA" name="getNextStringToken" method="_9RYpg5GPEeaIQ-hA1qOqOA">
              <ownedParameter xmi:id="_9Gb9wpGPEeaIQ-hA1qOqOA" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_9GdL4ZGPEeaIQ-hA1qOqOA" name="putStringBack" method="_9RYphZGPEeaIQ-hA1qOqOA">
              <ownedParameter xmi:id="_9GdL4pGPEeaIQ-hA1qOqOA" name="str">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
            <ownedOperation xmi:id="_9Gdy85GPEeaIQ-hA1qOqOA" name="makeNextStringToken" visibility="private" method="_9RZQkJGPEeaIQ-hA1qOqOA">
              <ownedComment xmi:id="_9R0HVpGPEeaIQ-hA1qOqOA">
                <body>Returns the next string in the stream.  &#xD;
	 * Returns LF (&quot;\n&quot;) at end of line.  &#xD;
	 * Returns null for EOF or error&#xD;
	 * &#xD;
	 * @return A string token or null if EOF</body>
              </ownedComment>
              <ownedParameter xmi:id="_9GeaAJGPEeaIQ-hA1qOqOA" direction="return">
                <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
              </ownedParameter>
            </ownedOperation>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_9SgD05GPEeaIQ-hA1qOqOA" name="" memberEnd="_9SgD1JGPEeaIQ-hA1qOqOA _9QNk0pGPEeaIQ-hA1qOqOA">
            <ownedEnd xmi:id="_9SgD1JGPEeaIQ-hA1qOqOA" name="" type="_9GN7UJGPEeaIQ-hA1qOqOA" association="_9SgD05GPEeaIQ-hA1qOqOA"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_9Sgq4ZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9Sgq4pGPEeaIQ-hA1qOqOA _9QPaAJGPEeaIQ-hA1qOqOA">
            <ownedEnd xmi:id="_9Sgq4pGPEeaIQ-hA1qOqOA" name="" type="_9GN7UJGPEeaIQ-hA1qOqOA" association="_9Sgq4ZGPEeaIQ-hA1qOqOA"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_9ShR8ZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9ShR8pGPEeaIQ-hA1qOqOA _9QQBEZGPEeaIQ-hA1qOqOA">
            <ownedEnd xmi:id="_9ShR8pGPEeaIQ-hA1qOqOA" name="" type="_9GN7UJGPEeaIQ-hA1qOqOA" association="_9ShR8ZGPEeaIQ-hA1qOqOA"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_9Sh5AJGPEeaIQ-hA1qOqOA" name="" memberEnd="_9Sh5AZGPEeaIQ-hA1qOqOA _9QR2QJGPEeaIQ-hA1qOqOA">
            <ownedEnd xmi:id="_9Sh5AZGPEeaIQ-hA1qOqOA" name="" type="_9GavoJGPEeaIQ-hA1qOqOA" association="_9Sh5AJGPEeaIQ-hA1qOqOA"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_9SigEZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SigEpGPEeaIQ-hA1qOqOA _9QTrcJGPEeaIQ-hA1qOqOA">
            <ownedEnd xmi:id="_9SigEpGPEeaIQ-hA1qOqOA" name="" type="_9GavoJGPEeaIQ-hA1qOqOA" association="_9SigEZGPEeaIQ-hA1qOqOA"/>
          </packagedElement>
          <packagedElement xmi:type="uml:Association" xmi:id="_9SjHIZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SjHIpGPEeaIQ-hA1qOqOA _9QUSgJGPEeaIQ-hA1qOqOA">
            <ownedEnd xmi:id="_9SjHIpGPEeaIQ-hA1qOqOA" name="" type="_9GavoJGPEeaIQ-hA1qOqOA" association="_9SjHIZGPEeaIQ-hA1qOqOA"/>
          </packagedElement>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_9GAf8JGPEeaIQ-hA1qOqOA" name="ITokVisitor">
          <ownedComment xmi:id="_9RxrEJGPEeaIQ-hA1qOqOA">
            <body>Interface for a token visitor.</body>
          </ownedComment>
          <ownedOperation xmi:id="_9OftkJGPEeaIQ-hA1qOqOA" name="caseAt">
            <ownedParameter xmi:id="_9OftkZGPEeaIQ-hA1qOqOA" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9OftkpGPEeaIQ-hA1qOqOA" name="host" type="_9GF_gJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Oftk5GPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9OgUopGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9OgUoJGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_9GCVIJGPEeaIQ-hA1qOqOA" name="ITokVisitorCmd">
          <ownedComment xmi:id="_9RxrEZGPEeaIQ-hA1qOqOA">
            <body>A command for use in ATokVisitors</body>
          </ownedComment>
          <ownedOperation xmi:id="_9OhiwJGPEeaIQ-hA1qOqOA" name="apply">
            <ownedParameter xmi:id="_9OhiwZGPEeaIQ-hA1qOqOA" name="id">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9OhiwpGPEeaIQ-hA1qOqOA" name="host" type="_9GF_gJGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9Ohiw5GPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9OiJ0pGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9OiJ0JGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Interface" xmi:id="_9GExYJGPEeaIQ-hA1qOqOA" name="ITokenFactory">
          <ownedComment xmi:id="_9RxrEpGPEeaIQ-hA1qOqOA">
            <body>Abstract factory to produce tokens</body>
          </ownedComment>
          <ownedOperation xmi:id="_9GFYcJGPEeaIQ-hA1qOqOA" name="makeToken">
            <ownedParameter xmi:id="_9GFYcZGPEeaIQ-hA1qOqOA" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9GFYcpGPEeaIQ-hA1qOqOA" name="lexeme">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9MMAcJGPEeaIQ-hA1qOqOA" type="_9GF_gJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9GF_gJGPEeaIQ-hA1qOqOA" name="Token">
          <ownedComment xmi:id="_9RxrE5GPEeaIQ-hA1qOqOA">
            <body>Represents a token in the language.</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9QJ6cJGPEeaIQ-hA1qOqOA" name="_name" visibility="package">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedAttribute>
          <ownedAttribute xmi:id="_9QKhgJGPEeaIQ-hA1qOqOA" name="_lexeme" visibility="private">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedAttribute>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RRUwJGPEeaIQ-hA1qOqOA" name="Token" specification="_9GHNoJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RRUwZGPEeaIQ-hA1qOqOA" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RRUwpGPEeaIQ-hA1qOqOA" name="lexeme">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RRUw5GPEeaIQ-hA1qOqOA" type="_9GF_gJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>_name = name;&#xD;
		_lexeme = lexeme;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RR70JGPEeaIQ-hA1qOqOA" name="execute" specification="_9Oj_AJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RR70ZGPEeaIQ-hA1qOqOA" name="algo" type="_9GAf8JGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9RR70pGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9RR705GPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RR71JGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>return algo.caseAt(_name, this, params);&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RR71ZGPEeaIQ-hA1qOqOA" name="getName" specification="_9GH0sJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RR71pGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return _name;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RTxAJGPEeaIQ-hA1qOqOA" name="getLexeme" specification="_9GH0spGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RTxAZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return _lexeme;&#xD;
	</body>
          </ownedBehavior>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RUYEJGPEeaIQ-hA1qOqOA" name="toString" specification="_9GIbwZGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RUYEZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <language>java</language>
            <body>return &quot;[&quot; + _name + &quot;] &quot; + _lexeme;&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9GHNoJGPEeaIQ-hA1qOqOA" name="Token" method="_9RRUwJGPEeaIQ-hA1qOqOA">
            <eAnnotations xmi:id="_9GHNo5GPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9GHNpJGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedComment xmi:id="_9RySIJGPEeaIQ-hA1qOqOA">
              <body>Token constructor.&#xD;
	 *&#xD;
	 * @param name The name associated with this token.  This is the id value when it executes its visitors.&#xD;
	 * @param lexeme _lexeme this token is representing.</body>
            </ownedComment>
            <ownedParameter xmi:id="_9GHNoZGPEeaIQ-hA1qOqOA" name="name">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9GHNopGPEeaIQ-hA1qOqOA" name="lexeme">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9GHNpZGPEeaIQ-hA1qOqOA" type="_9GF_gJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9GH0sJGPEeaIQ-hA1qOqOA" name="getName" method="_9RR71ZGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RySIZGPEeaIQ-hA1qOqOA">
              <body>Accessor for the name of this token&#xD;
	 * @return The name of this token</body>
            </ownedComment>
            <ownedParameter xmi:id="_9GH0sZGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9GH0spGPEeaIQ-hA1qOqOA" name="getLexeme" method="_9RTxAJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9RySIpGPEeaIQ-hA1qOqOA">
              <body>Accessor for the lexeme of this token&#xD;
	 * @return The lexeme of this token</body>
            </ownedComment>
            <ownedParameter xmi:id="_9GIbwJGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9GIbwZGPEeaIQ-hA1qOqOA" name="toString" method="_9RUYEJGPEeaIQ-hA1qOqOA">
            <ownedComment xmi:id="_9Ry5MJGPEeaIQ-hA1qOqOA">
              <body>Return a string representation of the token: &quot;[name] lexeme&quot;&#xD;
	 *&#xD;
	 * @return string representation</body>
            </ownedComment>
            <ownedParameter xmi:id="_9GIbwpGPEeaIQ-hA1qOqOA" direction="return">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
          </ownedOperation>
          <ownedOperation xmi:id="_9Oj_AJGPEeaIQ-hA1qOqOA" name="execute" method="_9RR70JGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9Oj_AZGPEeaIQ-hA1qOqOA" name="algo" type="_9GAf8JGPEeaIQ-hA1qOqOA"/>
            <ownedParameter xmi:id="_9OmbQJGPEeaIQ-hA1qOqOA" name="params" type="_9Nb9oJGPEeaIQ-hA1qOqOA">
              <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9OoQcJGPEeaIQ-hA1qOqOA" value="*"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9OnCUJGPEeaIQ-hA1qOqOA" type="_9Nb9oJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9GJp4JGPEeaIQ-hA1qOqOA" name="TokenFactory">
          <ownedComment xmi:id="_9Ry5MZGPEeaIQ-hA1qOqOA">
            <body>Concrete factory to create tokens</body>
          </ownedComment>
          <ownedAttribute xmi:id="_9QLIkJGPEeaIQ-hA1qOqOA" name="Singleton" isLeaf="true" isStatic="true" type="_9GJp4JGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SgD0JGPEeaIQ-hA1qOqOA">
            <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QLvoJGPEeaIQ-hA1qOqOA" value="new TokenFactory()"/>
          </ownedAttribute>
          <interfaceRealization xmi:id="_9MNOkJGPEeaIQ-hA1qOqOA" client="_9GJp4JGPEeaIQ-hA1qOqOA" supplier="_9GExYJGPEeaIQ-hA1qOqOA" contract="_9GExYJGPEeaIQ-hA1qOqOA"/>
          <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RVmMJGPEeaIQ-hA1qOqOA" name="makeToken" specification="_9GMGIJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9RVmMZGPEeaIQ-hA1qOqOA" name="name">
              <eAnnotations xmi:id="_9RVmMpGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_9RVmM5GPEeaIQ-hA1qOqOA" key="final"/>
              </eAnnotations>
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RVmNJGPEeaIQ-hA1qOqOA" name="lexeme">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9RVmNZGPEeaIQ-hA1qOqOA" type="_9GF_gJGPEeaIQ-hA1qOqOA" direction="return"/>
            <language>java</language>
            <body>return new Token(name, lexeme);&#xD;
	</body>
          </ownedBehavior>
          <ownedOperation xmi:id="_9GKQ8JGPEeaIQ-hA1qOqOA" name="TokenFactory" visibility="private">
            <eAnnotations xmi:id="_9GK4AJGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
              <details xmi:id="_9GK4AZGPEeaIQ-hA1qOqOA" key="create"/>
            </eAnnotations>
            <ownedParameter xmi:id="_9GLfEZGPEeaIQ-hA1qOqOA" type="_9GJp4JGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
          <ownedOperation xmi:id="_9GMGIJGPEeaIQ-hA1qOqOA" name="makeToken" method="_9RVmMJGPEeaIQ-hA1qOqOA">
            <ownedParameter xmi:id="_9GMtMJGPEeaIQ-hA1qOqOA" name="name">
              <eAnnotations xmi:id="_9GNUQJGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
                <details xmi:id="_9GNUQZGPEeaIQ-hA1qOqOA" key="final"/>
              </eAnnotations>
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9GMtMZGPEeaIQ-hA1qOqOA" name="lexeme">
              <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            </ownedParameter>
            <ownedParameter xmi:id="_9MPDwJGPEeaIQ-hA1qOqOA" type="_9GF_gJGPEeaIQ-hA1qOqOA" direction="return"/>
          </ownedOperation>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9Se1sZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9Se1spGPEeaIQ-hA1qOqOA _9QHeMJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9Se1spGPEeaIQ-hA1qOqOA" name="" type="_9F7ncJGPEeaIQ-hA1qOqOA" association="_9Se1sZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SfcwZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SfcwpGPEeaIQ-hA1qOqOA _9QIFQJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SfcwpGPEeaIQ-hA1qOqOA" name="" type="_9F7ncJGPEeaIQ-hA1qOqOA" association="_9SfcwZGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Association" xmi:id="_9SgD0JGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SgD0ZGPEeaIQ-hA1qOqOA _9QLIkJGPEeaIQ-hA1qOqOA">
          <ownedEnd xmi:id="_9SgD0ZGPEeaIQ-hA1qOqOA" name="" type="_9GJp4JGPEeaIQ-hA1qOqOA" association="_9SgD0JGPEeaIQ-hA1qOqOA"/>
        </packagedElement>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_9BX3kJGPEeaIQ-hA1qOqOA" name="view">
      <packagedElement xmi:type="uml:Interface" xmi:id="_9GzKIJGPEeaIQ-hA1qOqOA" name="IModelAdapter">
        <ownedComment xmi:id="_9R18hJGPEeaIQ-hA1qOqOA">
          <body>The model adapter&#xD;
@param &lt;TInstrument> The instrument used to play music &#xD;
@author Qianyi Wu, Suozhi Qi&#xD;
@version 1.0&#xD;
 *</body>
        </ownedComment>
        <ownedAttribute xmi:id="_9G2NcZGPEeaIQ-hA1qOqOA" name="NULL_OBJ" isLeaf="true" isStatic="true" type="_9GzKIJGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SJegZGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9G20gZGPEeaIQ-hA1qOqOA" value="new IModelAdapter&lt;Object>() {&#xD;&#xA;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;@Override&#xD;&#xA;&#x9;&#x9;public void Open(String filename) {&#xD;&#xA;&#x9;&#x9;&#x9;// TODO Auto-generated method stub&#xD;&#xA;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;@Override&#xD;&#xA;&#x9;&#x9;public void Parse() {&#xD;&#xA;&#x9;&#x9;&#x9;// TODO Auto-generated method stub&#xD;&#xA;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;@Override&#xD;&#xA;&#x9;&#x9;public void Play(Object instrument) {&#xD;&#xA;&#x9;&#x9;&#x9;// TODO Auto-generated method stub&#xD;&#xA;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#xD;&#xA;&#x9;&#x9;@Override&#xD;&#xA;&#x9;&#x9;public void Stop() {&#xD;&#xA;&#x9;&#x9;&#x9;// TODO Auto-generated method stub&#xD;&#xA;&#x9;&#x9;&#x9;&#xD;&#xA;&#x9;&#x9;}&#xD;&#xA;&#x9;}"/>
        </ownedAttribute>
        <ownedOperation xmi:id="_9G0YQJGPEeaIQ-hA1qOqOA" name="Open" visibility="package">
          <ownedComment xmi:id="_9R18hZGPEeaIQ-hA1qOqOA">
            <body>@param filename string that is the name of the song</body>
          </ownedComment>
          <ownedParameter xmi:id="_9G0YQZGPEeaIQ-hA1qOqOA" name="filename">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
          </ownedParameter>
        </ownedOperation>
        <ownedOperation xmi:id="_9G1mYJGPEeaIQ-hA1qOqOA" name="Parse">
          <ownedComment xmi:id="_9R18hpGPEeaIQ-hA1qOqOA">
            <body>The parse method</body>
          </ownedComment>
        </ownedOperation>
        <ownedOperation xmi:id="_9G2NcJGPEeaIQ-hA1qOqOA" name="Stop">
          <ownedComment xmi:id="_9R18iJGPEeaIQ-hA1qOqOA">
            <body>Stop the music</body>
          </ownedComment>
        </ownedOperation>
        <ownedOperation xmi:id="_9O3hAJGPEeaIQ-hA1qOqOA" name="Play" visibility="package">
          <ownedComment xmi:id="_9R18h5GPEeaIQ-hA1qOqOA">
            <body>@param instrument The instrument used to play the song&#xD;
	 *</body>
          </ownedComment>
          <ownedParameter xmi:id="_9O3hAZGPEeaIQ-hA1qOqOA" name="instrument" type="_9OyogJGPEeaIQ-hA1qOqOA"/>
        </ownedOperation>
      </packagedElement>
      <packagedElement xmi:type="uml:Class" xmi:id="_9G4psJGPEeaIQ-hA1qOqOA" name="MusicPlayerFrame">
        <ownedComment xmi:id="_9R18iZGPEeaIQ-hA1qOqOA">
          <body>The Music player view&#xD;
@param &lt;TInstrument> The instrument that we use to play the music&#xD;
@author Qianyi Wu, Suozhi Qi&#xD;
@version 1.0&#xD;
 *</body>
        </ownedComment>
        <generalization xmi:id="_9O-OsZGPEeaIQ-hA1qOqOA" general="_9MosYZGPEeaIQ-hA1qOqOA"/>
        <ownedAttribute xmi:id="_9QeqkJGPEeaIQ-hA1qOqOA" name="serialVersionUID" visibility="private" isLeaf="true" isStatic="true" isReadOnly="true">
          <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/JavaPrimitiveTypes.library.uml#long"/>
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QfRoJGPEeaIQ-hA1qOqOA" value="-8418893651461696476L"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_9QfRoZGPEeaIQ-hA1qOqOA" name="contentPane" visibility="private" type="_9MpTcZGPEeaIQ-hA1qOqOA" association="_9Sk8UZGPEeaIQ-hA1qOqOA"/>
        <ownedAttribute xmi:id="_9Qf4sZGPEeaIQ-hA1qOqOA" name="pnlControl" visibility="private" isLeaf="true" type="_9MpTcZGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SmKcZGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9Qf4spGPEeaIQ-hA1qOqOA" value="new JPanel()"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_9QgfwZGPEeaIQ-hA1qOqOA" name="txtFile" visibility="private" isLeaf="true" type="_9MrvsJGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SmxgZGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QgfwpGPEeaIQ-hA1qOqOA" value="new JTextField()"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_9Qht4JGPEeaIQ-hA1qOqOA" name="lblFile" visibility="private" isLeaf="true" type="_9MsWwZGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SnYkZGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9Qht4ZGPEeaIQ-hA1qOqOA" value="new JLabel(&quot;File:&quot;)"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_9QiU8ZGPEeaIQ-hA1qOqOA" name="btnLoad" visibility="private" isLeaf="true" type="_9Mtk4JGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9Sn_oZGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9Qi8AJGPEeaIQ-hA1qOqOA" value="new JButton(&quot;Load&quot;)"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_9QjjEJGPEeaIQ-hA1qOqOA" name="btnParse" visibility="private" isLeaf="true" type="_9Mtk4JGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SomsZGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QjjEZGPEeaIQ-hA1qOqOA" value="new JButton(&quot;Parse&quot;)"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_9QkKIZGPEeaIQ-hA1qOqOA" name="cbPlayer" visibility="private" isLeaf="true" type="_9MuL8JGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SpNwZGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QkxMZGPEeaIQ-hA1qOqOA" value="new JComboBox&lt;TInstrument>()"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_9QlYQJGPEeaIQ-hA1qOqOA" name="btnPlay" visibility="private" isLeaf="true" type="_9Mtk4JGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9Sp00ZGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QlYQZGPEeaIQ-hA1qOqOA" value="new JButton(&quot;Play&quot;)"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_9Ql_UJGPEeaIQ-hA1qOqOA" name="btnStop" visibility="private" isLeaf="true" type="_9Mtk4JGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SrC8ZGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9Ql_UZGPEeaIQ-hA1qOqOA" value="new JButton(&quot;Stop&quot;)"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_9QmmYJGPEeaIQ-hA1qOqOA" name="splitPane" visibility="private" isLeaf="true" type="_9MuzAZGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SrqAZGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QmmYZGPEeaIQ-hA1qOqOA" value="new JSplitPane()"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_9QnNcJGPEeaIQ-hA1qOqOA" name="scrollPaneUp" visibility="private" isLeaf="true" type="_9MvaEZGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9Ss4IJGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QnNcZGPEeaIQ-hA1qOqOA" value="new JScrollPane()"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_9Qn0gJGPEeaIQ-hA1qOqOA" name="scrollPaneDown" visibility="private" isLeaf="true" type="_9MvaEZGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9StfMZGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9Qn0gZGPEeaIQ-hA1qOqOA" value="new JScrollPane()"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_9QobkJGPEeaIQ-hA1qOqOA" name="txtpnFileContent" visibility="private" isLeaf="true" type="_9MwoMZGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SuGQZGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QobkZGPEeaIQ-hA1qOqOA" value="new JTextPane()"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_9QpCoZGPEeaIQ-hA1qOqOA" name="txtpnParsedFile" visibility="private" isLeaf="true" type="_9MwoMZGPEeaIQ-hA1qOqOA" isReadOnly="true" association="_9SutUZGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QpCopGPEeaIQ-hA1qOqOA" value="new JTextPane()"/>
        </ownedAttribute>
        <ownedAttribute xmi:id="_9QppsJGPEeaIQ-hA1qOqOA" name="adptr" visibility="private" type="_9GzKIJGPEeaIQ-hA1qOqOA" association="_9SvUYJGPEeaIQ-hA1qOqOA">
          <defaultValue xmi:type="uml:LiteralString" xmi:id="_9QqQwJGPEeaIQ-hA1qOqOA" value="(IModelAdapter&lt;TInstrument>) IModelAdapter.NULL_OBJ"/>
        </ownedAttribute>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RfXMJGPEeaIQ-hA1qOqOA" name="MusicPlayerFrame" specification="_9G7tAJGPEeaIQ-hA1qOqOA">
          <ownedParameter xmi:id="_9RfXMZGPEeaIQ-hA1qOqOA" type="_9G4psJGPEeaIQ-hA1qOqOA" direction="return"/>
          <language>java</language>
          <body>txtFile.setToolTipText(&quot;Music file name&quot;);&#xD;
		txtFile.setText(&quot;&quot;);&#xD;
		txtFile.setColumns(20);&#xD;
		initGUI();&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9Rf-QJGPEeaIQ-hA1qOqOA" name="MusicPlayerFrame" specification="_9M1gsJGPEeaIQ-hA1qOqOA">
          <ownedParameter xmi:id="_9Rf-QZGPEeaIQ-hA1qOqOA" name="madptr" type="_9GzKIJGPEeaIQ-hA1qOqOA"/>
          <ownedParameter xmi:id="_9Rf-QpGPEeaIQ-hA1qOqOA" type="_9G4psJGPEeaIQ-hA1qOqOA" direction="return"/>
          <language>java</language>
          <body>adptr = (IModelAdapter&lt;TInstrument>) madptr;&#xD;
		initGUI();&#xD;
		&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RglUJGPEeaIQ-hA1qOqOA" name="initGUI" specification="_9G8UEJGPEeaIQ-hA1qOqOA">
          <language>java</language>
          <body>setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);&#xD;
		setBounds(200, 200, 1000, 635);&#xD;
		contentPane = new JPanel();&#xD;
		contentPane.setBorder(new EmptyBorder(5, 5, 5, 5));&#xD;
		contentPane.setLayout(new BorderLayout(0, 0));&#xD;
		setContentPane(contentPane);&#xD;
		&#xD;
		contentPane.add(pnlControl, BorderLayout.NORTH);&#xD;
		&#xD;
		pnlControl.add(lblFile);&#xD;
		&#xD;
		pnlControl.add(txtFile);&#xD;
		btnParse.setEnabled(false);&#xD;
		txtFile.setColumns(20);&#xD;
		btnLoad.addActionListener(new ActionListener() {&#xD;
			public void actionPerformed(ActionEvent e) {&#xD;
				adptr.Open(&quot;/songs/&quot; + txtFile.getText() + &quot;.abc&quot;);&#xD;
				btnParse.setEnabled(true);&#xD;
			}&#xD;
		});&#xD;
		&#xD;
		pnlControl.add(btnLoad);&#xD;
		btnParse.addActionListener(new ActionListener() {&#xD;
			public void actionPerformed(ActionEvent e) {&#xD;
				adptr.Parse();&#xD;
				btnPlay.setEnabled(true);&#xD;
			}&#xD;
		});&#xD;
		&#xD;
		pnlControl.add(btnParse);&#xD;
		&#xD;
		pnlControl.add(cbPlayer);&#xD;
		btnPlay.setEnabled(false);&#xD;
		btnPlay.addActionListener(new ActionListener() {&#xD;
			public void actionPerformed(ActionEvent e) {&#xD;
				adptr.Play(cbPlayer.getItemAt(cbPlayer.getSelectedIndex()));&#xD;
			}&#xD;
		});&#xD;
		&#xD;
		pnlControl.add(btnPlay);&#xD;
		btnStop.addActionListener(new ActionListener() {&#xD;
			public void actionPerformed(ActionEvent e) {&#xD;
				adptr.Stop();&#xD;
			}&#xD;
		});&#xD;
		&#xD;
		pnlControl.add(btnStop);&#xD;
		splitPane.setResizeWeight(0.5);&#xD;
		splitPane.setOrientation(JSplitPane.VERTICAL_SPLIT);&#xD;
		&#xD;
		contentPane.add(splitPane, BorderLayout.CENTER);&#xD;
		&#xD;
		splitPane.setLeftComponent(scrollPaneUp);&#xD;
		txtpnFileContent.setToolTipText(&quot;File Content&quot;);&#xD;
		&#xD;
		scrollPaneUp.setViewportView(txtpnFileContent);&#xD;
		&#xD;
		splitPane.setRightComponent(scrollPaneDown);&#xD;
		txtpnParsedFile.setToolTipText(&quot;Parsed File&quot;);&#xD;
		&#xD;
		scrollPaneDown.setViewportView(txtpnParsedFile);&#xD;
		&#xD;
		scrollPaneUp.setBorder(new TitledBorder(&quot;File Content:&quot;));&#xD;
		&#xD;
		scrollPaneDown.setBorder(new TitledBorder(&quot;Parsed Content:&quot;));&#xD;
		&#xD;
		&#xD;
		&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RglUZGPEeaIQ-hA1qOqOA" name="addInstrument" specification="_9O8ZgJGPEeaIQ-hA1qOqOA">
          <ownedParameter xmi:id="_9RglUpGPEeaIQ-hA1qOqOA" name="instrument" type="_9OyogJGPEeaIQ-hA1qOqOA"/>
          <language>java</language>
          <body>cbPlayer.addItem(instrument);&#xD;
 </body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RhMYJGPEeaIQ-hA1qOqOA" name="start" specification="_9G87IJGPEeaIQ-hA1qOqOA">
          <language>java</language>
          <body>setVisible(true);&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RhMYZGPEeaIQ-hA1qOqOA" name="getTxtpnParsedFile" specification="_9G9iMJGPEeaIQ-hA1qOqOA">
          <ownedParameter xmi:id="_9RhMYpGPEeaIQ-hA1qOqOA" type="_9MwoMZGPEeaIQ-hA1qOqOA" direction="return"/>
          <language>java</language>
          <body>return txtpnParsedFile;&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9RhzcJGPEeaIQ-hA1qOqOA" name="getTxtpnFileContent" specification="_9G9iMZGPEeaIQ-hA1qOqOA">
          <ownedParameter xmi:id="_9RhzcZGPEeaIQ-hA1qOqOA" type="_9MwoMZGPEeaIQ-hA1qOqOA" direction="return"/>
          <language>java</language>
          <body>return txtpnFileContent;&#xD;
	</body>
        </ownedBehavior>
        <ownedOperation xmi:id="_9G7tAJGPEeaIQ-hA1qOqOA" name="MusicPlayerFrame" method="_9RfXMJGPEeaIQ-hA1qOqOA">
          <eAnnotations xmi:id="_9G7tAZGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
            <details xmi:id="_9G7tApGPEeaIQ-hA1qOqOA" key="create"/>
          </eAnnotations>
          <ownedComment xmi:id="_9R2jkZGPEeaIQ-hA1qOqOA">
            <body>Create the frame.</body>
          </ownedComment>
          <ownedParameter xmi:id="_9G7tA5GPEeaIQ-hA1qOqOA" type="_9G4psJGPEeaIQ-hA1qOqOA" direction="return"/>
        </ownedOperation>
        <ownedOperation xmi:id="_9G8UEJGPEeaIQ-hA1qOqOA" name="initGUI" visibility="private" method="_9RglUJGPEeaIQ-hA1qOqOA"/>
        <ownedOperation xmi:id="_9G87IJGPEeaIQ-hA1qOqOA" name="start" method="_9RhMYJGPEeaIQ-hA1qOqOA">
          <ownedComment xmi:id="_9R2jlJGPEeaIQ-hA1qOqOA">
            <body>Start the frame</body>
          </ownedComment>
        </ownedOperation>
        <ownedOperation xmi:id="_9G9iMJGPEeaIQ-hA1qOqOA" name="getTxtpnParsedFile" method="_9RhMYZGPEeaIQ-hA1qOqOA">
          <ownedComment xmi:id="_9R2jlZGPEeaIQ-hA1qOqOA">
            <body>@return txtpn A string that is the parsed result of the song</body>
          </ownedComment>
          <ownedParameter xmi:id="_9O9noJGPEeaIQ-hA1qOqOA" type="_9MwoMZGPEeaIQ-hA1qOqOA" direction="return"/>
        </ownedOperation>
        <ownedOperation xmi:id="_9G9iMZGPEeaIQ-hA1qOqOA" name="getTxtpnFileContent" method="_9RhzcJGPEeaIQ-hA1qOqOA">
          <ownedComment xmi:id="_9R3KoJGPEeaIQ-hA1qOqOA">
            <body>&#xD;
	 * @return txtpn A string that represents the file content of the song</body>
          </ownedComment>
          <ownedParameter xmi:id="_9O-OsJGPEeaIQ-hA1qOqOA" type="_9MwoMZGPEeaIQ-hA1qOqOA" direction="return"/>
        </ownedOperation>
        <ownedOperation xmi:id="_9M1gsJGPEeaIQ-hA1qOqOA" name="MusicPlayerFrame" method="_9Rf-QJGPEeaIQ-hA1qOqOA">
          <eAnnotations xmi:id="_9M1gspGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
            <details xmi:id="_9M1gs5GPEeaIQ-hA1qOqOA" key="create"/>
          </eAnnotations>
          <ownedComment xmi:id="_9R2jkpGPEeaIQ-hA1qOqOA">
            <body>@param madptr model adapter</body>
          </ownedComment>
          <ownedParameter xmi:id="_9M1gsZGPEeaIQ-hA1qOqOA" name="madptr" type="_9GzKIJGPEeaIQ-hA1qOqOA"/>
          <ownedParameter xmi:id="_9M1gtJGPEeaIQ-hA1qOqOA" type="_9G4psJGPEeaIQ-hA1qOqOA" direction="return"/>
        </ownedOperation>
        <ownedOperation xmi:id="_9O8ZgJGPEeaIQ-hA1qOqOA" name="addInstrument" method="_9RglUZGPEeaIQ-hA1qOqOA">
          <ownedComment xmi:id="_9R2jk5GPEeaIQ-hA1qOqOA">
            <body>@param instrument The instrument that we use to play the music</body>
          </ownedComment>
          <ownedParameter xmi:id="_9O8ZgZGPEeaIQ-hA1qOqOA" name="instrument" type="_9OyogJGPEeaIQ-hA1qOqOA"/>
        </ownedOperation>
      </packagedElement>
      <packagedElement xmi:type="uml:Class" xmi:id="_9OyogJGPEeaIQ-hA1qOqOA" name="TInstrument"/>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SJegZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SJegpGPEeaIQ-hA1qOqOA _9G2NcZGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SJegpGPEeaIQ-hA1qOqOA" name="" type="_9GzKIJGPEeaIQ-hA1qOqOA" association="_9SJegZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9Sk8UZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9Sk8UpGPEeaIQ-hA1qOqOA _9QfRoZGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9Sk8UpGPEeaIQ-hA1qOqOA" name="" type="_9G4psJGPEeaIQ-hA1qOqOA" association="_9Sk8UZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SmKcZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SmKcpGPEeaIQ-hA1qOqOA _9Qf4sZGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SmKcpGPEeaIQ-hA1qOqOA" name="" type="_9G4psJGPEeaIQ-hA1qOqOA" association="_9SmKcZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SmxgZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SmxgpGPEeaIQ-hA1qOqOA _9QgfwZGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SmxgpGPEeaIQ-hA1qOqOA" name="" type="_9G4psJGPEeaIQ-hA1qOqOA" association="_9SmxgZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SnYkZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SnYkpGPEeaIQ-hA1qOqOA _9Qht4JGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SnYkpGPEeaIQ-hA1qOqOA" name="" type="_9G4psJGPEeaIQ-hA1qOqOA" association="_9SnYkZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9Sn_oZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9Sn_opGPEeaIQ-hA1qOqOA _9QiU8ZGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9Sn_opGPEeaIQ-hA1qOqOA" name="" type="_9G4psJGPEeaIQ-hA1qOqOA" association="_9Sn_oZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SomsZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SomspGPEeaIQ-hA1qOqOA _9QjjEJGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SomspGPEeaIQ-hA1qOqOA" name="" type="_9G4psJGPEeaIQ-hA1qOqOA" association="_9SomsZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SpNwZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SpNwpGPEeaIQ-hA1qOqOA _9QkKIZGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SpNwpGPEeaIQ-hA1qOqOA" name="" type="_9G4psJGPEeaIQ-hA1qOqOA" association="_9SpNwZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9Sp00ZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9Sp00pGPEeaIQ-hA1qOqOA _9QlYQJGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9Sp00pGPEeaIQ-hA1qOqOA" name="" type="_9G4psJGPEeaIQ-hA1qOqOA" association="_9Sp00ZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SrC8ZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SrC8pGPEeaIQ-hA1qOqOA _9Ql_UJGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SrC8pGPEeaIQ-hA1qOqOA" name="" type="_9G4psJGPEeaIQ-hA1qOqOA" association="_9SrC8ZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SrqAZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SrqApGPEeaIQ-hA1qOqOA _9QmmYJGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SrqApGPEeaIQ-hA1qOqOA" name="" type="_9G4psJGPEeaIQ-hA1qOqOA" association="_9SrqAZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9Ss4IJGPEeaIQ-hA1qOqOA" name="" memberEnd="_9Ss4IZGPEeaIQ-hA1qOqOA _9QnNcJGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9Ss4IZGPEeaIQ-hA1qOqOA" name="" type="_9G4psJGPEeaIQ-hA1qOqOA" association="_9Ss4IJGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9StfMZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9StfMpGPEeaIQ-hA1qOqOA _9Qn0gJGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9StfMpGPEeaIQ-hA1qOqOA" name="" type="_9G4psJGPEeaIQ-hA1qOqOA" association="_9StfMZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SuGQZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SuGQpGPEeaIQ-hA1qOqOA _9QobkJGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SuGQpGPEeaIQ-hA1qOqOA" name="" type="_9G4psJGPEeaIQ-hA1qOqOA" association="_9SuGQZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SutUZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SutUpGPEeaIQ-hA1qOqOA _9QpCoZGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SutUpGPEeaIQ-hA1qOqOA" name="" type="_9G4psJGPEeaIQ-hA1qOqOA" association="_9SutUZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SvUYJGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SvUYZGPEeaIQ-hA1qOqOA _9QppsJGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SvUYZGPEeaIQ-hA1qOqOA" name="" type="_9G4psJGPEeaIQ-hA1qOqOA" association="_9SvUYJGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_9BaT0JGPEeaIQ-hA1qOqOA" name="controller">
      <packagedElement xmi:type="uml:Class" xmi:id="_9DpIcJGPEeaIQ-hA1qOqOA" name="MusicPlayerController">
        <ownedComment xmi:id="_9RmE4JGPEeaIQ-hA1qOqOA">
          <body>Controller for music player&#xD;
@author Qianyi Wu, Suozhi Qi&#xD;
@version 1.0</body>
        </ownedComment>
        <ownedAttribute xmi:id="_9PLqEJGPEeaIQ-hA1qOqOA" name="model" visibility="private" type="_9D3K4JGPEeaIQ-hA1qOqOA" association="_9SLTsJGPEeaIQ-hA1qOqOA"/>
        <ownedAttribute xmi:id="_9PMRIZGPEeaIQ-hA1qOqOA" name="view" visibility="private" type="_9G4psJGPEeaIQ-hA1qOqOA" association="_9SL6wZGPEeaIQ-hA1qOqOA"/>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9QyMkJGPEeaIQ-hA1qOqOA" name="MusicPlayerController" specification="_9Dq9oJGPEeaIQ-hA1qOqOA">
          <ownedParameter xmi:id="_9QyMkZGPEeaIQ-hA1qOqOA" type="_9DpIcJGPEeaIQ-hA1qOqOA" direction="return"/>
          <language>java</language>
          <body>model = new MusicPlayerModel(new IViewAdapter() {&#xD;
&#xD;
			@Override&#xD;
			public void DisplayFileContent(String content) {&#xD;
				// TODO Auto-generated method stub&#xD;
				view.getTxtpnFileContent().setText(content);&#xD;
			}&#xD;
&#xD;
			@Override&#xD;
			public void addInstrument(ABCInstrument instrument) {&#xD;
				view.addInstrument(instrument);				&#xD;
			}&#xD;
			&#xD;
&#xD;
		});&#xD;
		&#xD;
		view = new MusicPlayerFrame&lt;ABCInstrument>(new IModelAdapter&lt;ABCInstrument>() {&#xD;
&#xD;
			@Override&#xD;
			public void Open(String filename) {&#xD;
				// TODO Auto-generated method stub&#xD;
				model.LoadFile(filename);&#xD;
				&#xD;
			}&#xD;
&#xD;
			@Override&#xD;
			public void Parse() {&#xD;
				// TODO Auto-generated method stub&#xD;
				view.getTxtpnParsedFile().setText(model.getParsed());&#xD;
			}&#xD;
&#xD;
			@Override&#xD;
			public void Play(ABCInstrument instrument) {&#xD;
				model.Play(instrument);&#xD;
				&#xD;
			}&#xD;
&#xD;
			@Override&#xD;
			public void Stop() {&#xD;
				model.stop();&#xD;
			}&#xD;
		});&#xD;
		&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9QyMkpGPEeaIQ-hA1qOqOA" name="start" specification="_9DuoAJGPEeaIQ-hA1qOqOA">
          <language>java</language>
          <body>ABCInstrument[] instruments = ABCUtil.Singleton.getInstruments();&#xD;
		for (ABCInstrument instrument: instruments) {&#xD;
			view.addInstrument(instrument);&#xD;
		}&#xD;
		model.start();&#xD;
		view.start();&#xD;
	</body>
        </ownedBehavior>
        <ownedBehavior xmi:type="uml:OpaqueBehavior" xmi:id="_9QyzoJGPEeaIQ-hA1qOqOA" name="main" specification="_9DvPEJGPEeaIQ-hA1qOqOA">
          <ownedParameter xmi:id="_9QyzoZGPEeaIQ-hA1qOqOA" name="args">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9QyzopGPEeaIQ-hA1qOqOA" value="*"/>
          </ownedParameter>
          <language>java</language>
          <body>EventQueue.invokeLater(new Runnable() { // Java specs say that the system must be constructed on the GUI event thread.&#xD;
			public void run() {&#xD;
				try {&#xD;
					MusicPlayerController controller = new MusicPlayerController(); // instantiate the system&#xD;
					controller.start(); // start the system&#xD;
				} catch (Exception e) {&#xD;
					e.printStackTrace();&#xD;
				}&#xD;
			}&#xD;
		});&#xD;
	</body>
        </ownedBehavior>
        <ownedOperation xmi:id="_9Dq9oJGPEeaIQ-hA1qOqOA" name="MusicPlayerController" method="_9QyMkJGPEeaIQ-hA1qOqOA">
          <eAnnotations xmi:id="_9DrksJGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
            <details xmi:id="_9DrksZGPEeaIQ-hA1qOqOA" key="create"/>
          </eAnnotations>
          <ownedComment xmi:id="_9Rmr8JGPEeaIQ-hA1qOqOA">
            <body>Music Player constructor</body>
          </ownedComment>
          <ownedParameter xmi:id="_9DrkspGPEeaIQ-hA1qOqOA" type="_9DpIcJGPEeaIQ-hA1qOqOA" direction="return"/>
        </ownedOperation>
        <ownedOperation xmi:id="_9DuoAJGPEeaIQ-hA1qOqOA" name="start" method="_9QyMkpGPEeaIQ-hA1qOqOA">
          <ownedComment xmi:id="_9Rmr8ZGPEeaIQ-hA1qOqOA">
            <body>*</body>
          </ownedComment>
        </ownedOperation>
        <ownedOperation xmi:id="_9DvPEJGPEeaIQ-hA1qOqOA" name="main" isStatic="true" method="_9QyzoJGPEeaIQ-hA1qOqOA">
          <ownedComment xmi:id="_9Rmr8pGPEeaIQ-hA1qOqOA">
            <body>@param args the main method</body>
          </ownedComment>
          <ownedParameter xmi:id="_9DvPEZGPEeaIQ-hA1qOqOA" name="args">
            <type xmi:type="uml:PrimitiveType" href="pathmap://UML_LIBRARIES/UMLPrimitiveTypes.library.uml#String"/>
            <upperValue xmi:type="uml:LiteralUnlimitedNatural" xmi:id="_9Dv2IJGPEeaIQ-hA1qOqOA" value="*"/>
          </ownedParameter>
        </ownedOperation>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SLTsJGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SLTsZGPEeaIQ-hA1qOqOA _9PLqEJGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SLTsZGPEeaIQ-hA1qOqOA" name="" type="_9DpIcJGPEeaIQ-hA1qOqOA" association="_9SLTsJGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
      <packagedElement xmi:type="uml:Association" xmi:id="_9SL6wZGPEeaIQ-hA1qOqOA" name="" memberEnd="_9SL6wpGPEeaIQ-hA1qOqOA _9PMRIZGPEeaIQ-hA1qOqOA">
        <ownedEnd xmi:id="_9SL6wpGPEeaIQ-hA1qOqOA" name="" type="_9DpIcJGPEeaIQ-hA1qOqOA" association="_9SL6wZGPEeaIQ-hA1qOqOA"/>
      </packagedElement>
    </packagedElement>
    <packagedElement xmi:type="uml:Package" xmi:id="_9CQBUJGPEeaIQ-hA1qOqOA" name="javax">
      <packagedElement xmi:type="uml:Package" xmi:id="_9CQBUZGPEeaIQ-hA1qOqOA" name="sound">
        <packagedElement xmi:type="uml:Package" xmi:id="_9CQBUpGPEeaIQ-hA1qOqOA" name="midi">
          <packagedElement xmi:type="uml:Class" xmi:id="_9Mh-sJGPEeaIQ-hA1qOqOA" name="Instrument"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_9Mjz4JGPEeaIQ-hA1qOqOA" name="MidiSystem"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_9Mka8ZGPEeaIQ-hA1qOqOA" name="MidiUnavailableException"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_9MlpEJGPEeaIQ-hA1qOqOA" name="Synthesizer"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_9OUHYJGPEeaIQ-hA1qOqOA" name="Sequence"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_9OVVgJGPEeaIQ-hA1qOqOA" name="Track"/>
          <packagedElement xmi:type="uml:Interface" xmi:id="_9OWjoJGPEeaIQ-hA1qOqOA" name="Sequencer"/>
        </packagedElement>
      </packagedElement>
      <packagedElement xmi:type="uml:Package" xmi:id="_9Cza8JGPEeaIQ-hA1qOqOA" name="swing">
        <packagedElement xmi:type="uml:Class" xmi:id="_9MosYZGPEeaIQ-hA1qOqOA" name="JFrame"/>
        <packagedElement xmi:type="uml:Package" xmi:id="_9Cza8ZGPEeaIQ-hA1qOqOA" name="border">
          <packagedElement xmi:type="uml:Class" xmi:id="_9Mp6gZGPEeaIQ-hA1qOqOA" name="EmptyBorder"/>
          <packagedElement xmi:type="uml:Class" xmi:id="_9MqhkZGPEeaIQ-hA1qOqOA" name="TitledBorder"/>
        </packagedElement>
        <packagedElement xmi:type="uml:Class" xmi:id="_9MpTcZGPEeaIQ-hA1qOqOA" name="JPanel"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_9MrvsJGPEeaIQ-hA1qOqOA" name="JTextField"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_9MsWwZGPEeaIQ-hA1qOqOA" name="JLabel"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_9Mtk4JGPEeaIQ-hA1qOqOA" name="JButton"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_9MuL8JGPEeaIQ-hA1qOqOA" name="JComboBox"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_9MuzAZGPEeaIQ-hA1qOqOA" name="JSplitPane"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_9MvaEZGPEeaIQ-hA1qOqOA" name="JScrollPane"/>
        <packagedElement xmi:type="uml:Class" xmi:id="_9MwoMZGPEeaIQ-hA1qOqOA" name="JTextPane"/>
      </packagedElement>
    </packagedElement>
    <profileApplication xmi:id="_8EmtUJGPEeaIQ-hA1qOqOA">
      <eAnnotations xmi:id="_8EmtUZGPEeaIQ-hA1qOqOA" source="http://www.eclipse.org/uml2/2.0.0/UML">
        <references xmi:type="ecore:EPackage" href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile-Annotation_2-UMLLabProfile"/>
      </eAnnotations>
      <appliedProfile href="pathmap://UMLLAB_PROFILES/UMLLab.profile.uml#UMLLabProfile"/>
    </profileApplication>
  </uml:Model>
  <UMLLabProfile:TargetLanguage xmi:id="_8EnUYJGPEeaIQ-hA1qOqOA" base_Package="_7q0UUJGPEeaIQ-hA1qOqOA">
    <languageName>java</languageName>
  </UMLLabProfile:TargetLanguage>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9D6OMpGPEeaIQ-hA1qOqOA" base_Element="_9D4ZAJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9D-foJGPEeaIQ-hA1qOqOA" base_Element="_9D94kJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9EeO4pGPEeaIQ-hA1qOqOA" base_Element="_9Edn0JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9EjucpGPEeaIQ-hA1qOqOA" base_Element="_9EjucJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Annotations xmi:id="_9EkVgJGPEeaIQ-hA1qOqOA" base_Element="_9EjucJGPEeaIQ-hA1qOqOA">
    <annotations xmi:id="_9EkVgZGPEeaIQ-hA1qOqOA" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9E3QcJGPEeaIQ-hA1qOqOA" base_Element="_9E2pYJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9FMnoJGPEeaIQ-hA1qOqOA" base_Element="_9FMAkJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9FQSAJGPEeaIQ-hA1qOqOA" base_Element="_9FPq8JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9FSHMpGPEeaIQ-hA1qOqOA" base_Element="_9FSHMJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Annotations xmi:id="_9FSuQJGPEeaIQ-hA1qOqOA" base_Element="_9FSHMJGPEeaIQ-hA1qOqOA">
    <annotations xmi:id="_9FSuQZGPEeaIQ-hA1qOqOA" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9GLfEJGPEeaIQ-hA1qOqOA" base_Element="_9GKQ8JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9GY6cJGPEeaIQ-hA1qOqOA" base_Element="_9GYTYZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:StyledElement xmi:id="_9GZhgZGPEeaIQ-hA1qOqOA" base_Element="_9GZhgJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9Gck0JGPEeaIQ-hA1qOqOA" base_Element="_9Gb9wZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Annotations xmi:id="_9Gck0ZGPEeaIQ-hA1qOqOA" base_Element="_9Gb9wZGPEeaIQ-hA1qOqOA">
    <annotations xmi:id="_9GdL4JGPEeaIQ-hA1qOqOA" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9Gdy8JGPEeaIQ-hA1qOqOA" base_Element="_9GdL4ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Annotations xmi:id="_9Gdy8ZGPEeaIQ-hA1qOqOA" base_Element="_9GdL4ZGPEeaIQ-hA1qOqOA">
    <annotations xmi:id="_9Gdy8pGPEeaIQ-hA1qOqOA" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9GtDgJGPEeaIQ-hA1qOqOA" base_Element="_9GrOUJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9GxU8JGPEeaIQ-hA1qOqOA" base_Element="_9GwG0ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Generics xmi:id="_9GzxMJGPEeaIQ-hA1qOqOA" genericsValue="TInstrument" base_Element="_9GzKIJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Generics xmi:id="_9G20gJGPEeaIQ-hA1qOqOA" genericsValue="?" base_Element="_9G2NcZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Generics xmi:id="_9G5QwJGPEeaIQ-hA1qOqOA" genericsValue="TInstrument" base_Element="_9G4psJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9KxEIJGPEeaIQ-hA1qOqOA" base_Element="_9KwdEJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9LGbUJGPEeaIQ-hA1qOqOA" base_Element="_9LF0QJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9LHpcJGPEeaIQ-hA1qOqOA" base_Element="_9LHCYJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9LNJAJGPEeaIQ-hA1qOqOA" base_Element="_9LMh8JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9LNJA5GPEeaIQ-hA1qOqOA" base_Element="_9LMh8ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9LUdwJGPEeaIQ-hA1qOqOA" base_Element="_9LTPoJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9LUdw5GPEeaIQ-hA1qOqOA" base_Element="_9LT2sJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9Ln_wpGPEeaIQ-hA1qOqOA" base_Element="_9LnYsJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9Lom0JGPEeaIQ-hA1qOqOA" base_Element="_9LnYsZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9LqcApGPEeaIQ-hA1qOqOA" base_Element="_9Lp08JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9LrDEJGPEeaIQ-hA1qOqOA" base_Element="_9Lp08ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9LrqIJGPEeaIQ-hA1qOqOA" base_Element="_9LrDEZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9LsRMJGPEeaIQ-hA1qOqOA" base_Element="_9LrDEpGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9Lzl9JGPEeaIQ-hA1qOqOA" base_Element="_9Lzl8JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9L0NApGPEeaIQ-hA1qOqOA" dimensions="1" base_Element="_9Lzl8ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:StyledElement xmi:id="_9MT8Q5GPEeaIQ-hA1qOqOA" base_Element="_9MT8QZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MVKYJGPEeaIQ-hA1qOqOA" base_Element="_9MUjUJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MVKYpGPEeaIQ-hA1qOqOA" base_Element="_9MVKYZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MVxcZGPEeaIQ-hA1qOqOA" base_Element="_9MVxcJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MWYgJGPEeaIQ-hA1qOqOA" base_Element="_9MVxcpGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MW_kJGPEeaIQ-hA1qOqOA" base_Element="_9MWYgZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MXmoJGPEeaIQ-hA1qOqOA" base_Element="_9MW_kZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MY0wJGPEeaIQ-hA1qOqOA" base_Element="_9MXmoZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MjM0JGPEeaIQ-hA1qOqOA" base_Element="_9Mh-sJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9Mka8JGPEeaIQ-hA1qOqOA" base_Element="_9Mjz4JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MlCAJGPEeaIQ-hA1qOqOA" base_Element="_9Mka8ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MmQIJGPEeaIQ-hA1qOqOA" base_Element="_9MlpEJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MosYJGPEeaIQ-hA1qOqOA" base_Element="_9MoFUJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MpTcJGPEeaIQ-hA1qOqOA" base_Element="_9MosYZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9Mp6gJGPEeaIQ-hA1qOqOA" base_Element="_9MpTcZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MqhkJGPEeaIQ-hA1qOqOA" base_Element="_9Mp6gZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MrIoJGPEeaIQ-hA1qOqOA" base_Element="_9MqhkZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MsWwJGPEeaIQ-hA1qOqOA" base_Element="_9MrvsJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9Ms90JGPEeaIQ-hA1qOqOA" base_Element="_9MsWwZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9Mtk4ZGPEeaIQ-hA1qOqOA" base_Element="_9Mtk4JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MuzAJGPEeaIQ-hA1qOqOA" base_Element="_9MuL8JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MvaEJGPEeaIQ-hA1qOqOA" base_Element="_9MuzAZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MwoMJGPEeaIQ-hA1qOqOA" base_Element="_9MvaEZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MxPQJGPEeaIQ-hA1qOqOA" base_Element="_9MwoMZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9Mx2UJGPEeaIQ-hA1qOqOA" base_Element="_9MxPQZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9MydYJGPEeaIQ-hA1qOqOA" base_Element="_9Mx2UZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Generics xmi:id="_9M2u0JGPEeaIQ-hA1qOqOA" genericsValue="TInstrument" base_Element="_9M1gsZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9NYTQJGPEeaIQ-hA1qOqOA" base_Element="_9NXsMJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9NcksJGPEeaIQ-hA1qOqOA" base_Element="_9Nb9oJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9NscUJGPEeaIQ-hA1qOqOA" base_Element="_9NcksZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9NtqcJGPEeaIQ-hA1qOqOA" base_Element="_9NdLwpGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9NvfoZGPEeaIQ-hA1qOqOA" base_Element="_9Nu4kJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9NwGsJGPEeaIQ-hA1qOqOA" base_Element="_9Nu4kpGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Annotations xmi:id="_9NwGsZGPEeaIQ-hA1qOqOA" base_Element="_9Nu4kJGPEeaIQ-hA1qOqOA">
    <annotations xmi:id="_9NwGspGPEeaIQ-hA1qOqOA" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9Nx74ZGPEeaIQ-hA1qOqOA" base_Element="_9NxU0JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9Nyi8JGPEeaIQ-hA1qOqOA" base_Element="_9NxU0pGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Annotations xmi:id="_9Nyi8ZGPEeaIQ-hA1qOqOA" base_Element="_9NxU0JGPEeaIQ-hA1qOqOA">
    <annotations xmi:id="_9Nyi8pGPEeaIQ-hA1qOqOA" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9N0_MJGPEeaIQ-hA1qOqOA" base_Element="_9NzxEJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9N0_MpGPEeaIQ-hA1qOqOA" base_Element="_9NzxEpGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Annotations xmi:id="_9N1mQJGPEeaIQ-hA1qOqOA" base_Element="_9NzxEJGPEeaIQ-hA1qOqOA">
    <annotations xmi:id="_9N1mQZGPEeaIQ-hA1qOqOA" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9N3bcJGPEeaIQ-hA1qOqOA" base_Element="_9N20YJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9N3bcpGPEeaIQ-hA1qOqOA" dimensions="1" base_Element="_9N20YpGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Annotations xmi:id="_9N4CgJGPEeaIQ-hA1qOqOA" base_Element="_9N20YJGPEeaIQ-hA1qOqOA">
    <annotations xmi:id="_9N4CgZGPEeaIQ-hA1qOqOA" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9N53sJGPEeaIQ-hA1qOqOA" base_Element="_9N4pkJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9N6ewJGPEeaIQ-hA1qOqOA" base_Element="_9N5QoZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9N8T8JGPEeaIQ-hA1qOqOA" base_Element="_9N7F0JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9N-JIZGPEeaIQ-hA1qOqOA" base_Element="_9N7s4ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9N_-UJGPEeaIQ-hA1qOqOA" base_Element="_9N-wMJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9OAlYZGPEeaIQ-hA1qOqOA" base_Element="_9N_XQZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9OCakpGPEeaIQ-hA1qOqOA" base_Element="_9OBzgJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9ODBoZGPEeaIQ-hA1qOqOA" base_Element="_9OCakJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Annotations xmi:id="_9ODosJGPEeaIQ-hA1qOqOA" base_Element="_9OBzgJGPEeaIQ-hA1qOqOA">
    <annotations xmi:id="_9ODosZGPEeaIQ-hA1qOqOA" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9OE20pGPEeaIQ-hA1qOqOA" base_Element="_9OEPwJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9OFd4ZGPEeaIQ-hA1qOqOA" base_Element="_9OE20JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Annotations xmi:id="_9OFd4pGPEeaIQ-hA1qOqOA" base_Element="_9OEPwJGPEeaIQ-hA1qOqOA">
    <annotations xmi:id="_9OFd45GPEeaIQ-hA1qOqOA" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9OH6IZGPEeaIQ-hA1qOqOA" base_Element="_9OHTEJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9OJIQJGPEeaIQ-hA1qOqOA" base_Element="_9OHTEpGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Annotations xmi:id="_9OJIQZGPEeaIQ-hA1qOqOA" base_Element="_9OHTEJGPEeaIQ-hA1qOqOA">
    <annotations xmi:id="_9OJIQpGPEeaIQ-hA1qOqOA" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9OMyoJGPEeaIQ-hA1qOqOA" base_Element="_9OMLkJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9OMyopGPEeaIQ-hA1qOqOA" base_Element="_9OMLkpGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Annotations xmi:id="_9ONZsJGPEeaIQ-hA1qOqOA" base_Element="_9OMLkJGPEeaIQ-hA1qOqOA">
    <annotations xmi:id="_9ONZsZGPEeaIQ-hA1qOqOA" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9OP18pGPEeaIQ-hA1qOqOA" base_Element="_9OPO4JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9OREEJGPEeaIQ-hA1qOqOA" base_Element="_9OP18JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Annotations xmi:id="_9OREEZGPEeaIQ-hA1qOqOA" base_Element="_9OPO4JGPEeaIQ-hA1qOqOA">
    <annotations xmi:id="_9OREEpGPEeaIQ-hA1qOqOA" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9OS5QJGPEeaIQ-hA1qOqOA" base_Element="_9ORrIJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9OS5QpGPEeaIQ-hA1qOqOA" base_Element="_9OSSMZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Annotations xmi:id="_9OTgUJGPEeaIQ-hA1qOqOA" base_Element="_9ORrIJGPEeaIQ-hA1qOqOA">
    <annotations xmi:id="_9OTgUZGPEeaIQ-hA1qOqOA" name="Override"/>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_9OUucJGPEeaIQ-hA1qOqOA" base_Element="_9OUHYJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9OV8kJGPEeaIQ-hA1qOqOA" base_Element="_9OVVgJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9OXKsJGPEeaIQ-hA1qOqOA" base_Element="_9OWjoJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9OdRUJGPEeaIQ-hA1qOqOA" base_Element="_9OcDMJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9OefcZGPEeaIQ-hA1qOqOA" base_Element="_9OcqQZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9OgUoZGPEeaIQ-hA1qOqOA" base_Element="_9OftkJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9Og7sJGPEeaIQ-hA1qOqOA" base_Element="_9Oftk5GPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9OiJ0ZGPEeaIQ-hA1qOqOA" base_Element="_9OhiwJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9Oiw4JGPEeaIQ-hA1qOqOA" base_Element="_9Ohiw5GPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9OnpYJGPEeaIQ-hA1qOqOA" base_Element="_9Oj_AJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9OoQcZGPEeaIQ-hA1qOqOA" base_Element="_9OmbQJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9OqssZGPEeaIQ-hA1qOqOA" base_Element="_9OqssJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9OvlMJGPEeaIQ-hA1qOqOA" base_Element="_9Ou-IJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9O1r0JGPEeaIQ-hA1qOqOA" base_Element="_9OyogJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PMRIJGPEeaIQ-hA1qOqOA" base_Element="_9PLqEJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Generics xmi:id="_9PM4MJGPEeaIQ-hA1qOqOA" genericsValue="ABCInstrument" base_Element="_9PMRIZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PNfQJGPEeaIQ-hA1qOqOA" base_Element="_9PMRIZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9POtYZGPEeaIQ-hA1qOqOA" base_Element="_9POGUZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PPUcZGPEeaIQ-hA1qOqOA" base_Element="_9PPUcJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PRJoJGPEeaIQ-hA1qOqOA" base_Element="_9PQikJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PRwsZGPEeaIQ-hA1qOqOA" base_Element="_9PRwsJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PS-0JGPEeaIQ-hA1qOqOA" base_Element="_9PSXwJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Generics xmi:id="_9PTl4JGPEeaIQ-hA1qOqOA" genericsValue="DecoratorSeqList" base_Element="_9PS-0ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PUM8JGPEeaIQ-hA1qOqOA" base_Element="_9PS-0ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Generics xmi:id="_9PU0AJGPEeaIQ-hA1qOqOA" genericsValue="DecoratorSeqList" base_Element="_9PUM8ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PVbEZGPEeaIQ-hA1qOqOA" base_Element="_9PUM8ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PWpMJGPEeaIQ-hA1qOqOA" base_Element="_9PVbEpGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PZsgJGPEeaIQ-hA1qOqOA" base_Element="_9PXQQJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PcIwJGPEeaIQ-hA1qOqOA" base_Element="_9PaTkJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9Pcv0ZGPEeaIQ-hA1qOqOA" base_Element="_9PcIwZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9Pd98JGPEeaIQ-hA1qOqOA" base_Element="_9PdW4JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PelAJGPEeaIQ-hA1qOqOA" base_Element="_9Pd98ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PfMEJGPEeaIQ-hA1qOqOA" base_Element="_9PelAZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PhBQJGPEeaIQ-hA1qOqOA" base_Element="_9PgaMJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PhoUZGPEeaIQ-hA1qOqOA" base_Element="_9PhBQZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PlSsJGPEeaIQ-hA1qOqOA" base_Element="_9PkEkJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9Pnu8ZGPEeaIQ-hA1qOqOA" base_Element="_9PnH4JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9Po9EJGPEeaIQ-hA1qOqOA" base_Element="_9PoWAJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PpkIJGPEeaIQ-hA1qOqOA" base_Element="_9Po9EZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PsAYJGPEeaIQ-hA1qOqOA" base_Element="_9PrZUZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PsAYpGPEeaIQ-hA1qOqOA" base_Element="_9PsAYZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PtOgJGPEeaIQ-hA1qOqOA" base_Element="_9PsncJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9PyHAJGPEeaIQ-hA1qOqOA" base_Element="_9Pxf8pGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9Pz8MJGPEeaIQ-hA1qOqOA" dimensions="1" base_Element="_9PzVIJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9P0jQJGPEeaIQ-hA1qOqOA" base_Element="_9PzVIJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9P1KUpGPEeaIQ-hA1qOqOA" dimensions="1" base_Element="_9P1KUJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9P1xYZGPEeaIQ-hA1qOqOA" base_Element="_9P1KUJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9P2YcpGPEeaIQ-hA1qOqOA" base_Element="_9P2YcJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9P6p4ZGPEeaIQ-hA1qOqOA" base_Element="_9P6p4JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9P7Q8ZGPEeaIQ-hA1qOqOA" base_Element="_9P7Q8JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9P74AZGPEeaIQ-hA1qOqOA" base_Element="_9P74AJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9P8fEZGPEeaIQ-hA1qOqOA" base_Element="_9P8fEJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9P9GIJGPEeaIQ-hA1qOqOA" base_Element="_9P8fEpGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9P9tMJGPEeaIQ-hA1qOqOA" base_Element="_9P9GIZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9P-UQJGPEeaIQ-hA1qOqOA" base_Element="_9P9tMZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9P-UQpGPEeaIQ-hA1qOqOA" base_Element="_9P-UQZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9P-7UpGPEeaIQ-hA1qOqOA" base_Element="_9P-7UJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QBXkZGPEeaIQ-hA1qOqOA" base_Element="_9QBXkJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QB-oJGPEeaIQ-hA1qOqOA" base_Element="_9QBXkpGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QClsJGPEeaIQ-hA1qOqOA" base_Element="_9QB-oZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QDMwZGPEeaIQ-hA1qOqOA" base_Element="_9QDMwJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QEa4JGPEeaIQ-hA1qOqOA" base_Element="_9QDz0JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QFB8ZGPEeaIQ-hA1qOqOA" base_Element="_9QFB8JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9QFpBJGPEeaIQ-hA1qOqOA" base_Element="_9QFpAJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QHeMZGPEeaIQ-hA1qOqOA" base_Element="_9QHeMJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QIsUJGPEeaIQ-hA1qOqOA" base_Element="_9QIFQJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QJ6cZGPEeaIQ-hA1qOqOA" base_Element="_9QJ6cJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QKhgZGPEeaIQ-hA1qOqOA" base_Element="_9QKhgJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QMWsJGPEeaIQ-hA1qOqOA" base_Element="_9QLvoZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QNk0JGPEeaIQ-hA1qOqOA" base_Element="_9QM9wJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Generics xmi:id="_9QOL4JGPEeaIQ-hA1qOqOA" genericsValue="Map&lt;String, String>" base_Element="_9QNk0pGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QOy8JGPEeaIQ-hA1qOqOA" base_Element="_9QNk0pGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QQBEJGPEeaIQ-hA1qOqOA" base_Element="_9QPaAJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Generics xmi:id="_9QQoIJGPEeaIQ-hA1qOqOA" genericsValue="Token" base_Element="_9QQBEZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QRPMJGPEeaIQ-hA1qOqOA" base_Element="_9QQBEZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Generics xmi:id="_9QSdUJGPEeaIQ-hA1qOqOA" genericsValue="String" base_Element="_9QR2QJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QTEYZGPEeaIQ-hA1qOqOA" base_Element="_9QR2QJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QTrcZGPEeaIQ-hA1qOqOA" base_Element="_9QTrcJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QUSgZGPEeaIQ-hA1qOqOA" base_Element="_9QUSgJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9QWuwZGPEeaIQ-hA1qOqOA" base_Element="_9QWHsJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9QX84JGPEeaIQ-hA1qOqOA" base_Element="_9QXV0JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QZLAJGPEeaIQ-hA1qOqOA" base_Element="_9QYj8JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QZLApGPEeaIQ-hA1qOqOA" base_Element="_9QZLAZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QaZIJGPEeaIQ-hA1qOqOA" base_Element="_9QZyEJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9QbAMpGPEeaIQ-hA1qOqOA" base_Element="_9QbAMJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QbnQZGPEeaIQ-hA1qOqOA" base_Element="_9QbAMJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Array xmi:id="_9QcOUpGPEeaIQ-hA1qOqOA" base_Element="_9QcOUJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9Qc1YJGPEeaIQ-hA1qOqOA" base_Element="_9QcOUJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9Qf4sJGPEeaIQ-hA1qOqOA" base_Element="_9QfRoZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QgfwJGPEeaIQ-hA1qOqOA" base_Element="_9Qf4sZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QhG0JGPEeaIQ-hA1qOqOA" base_Element="_9QgfwZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QiU8JGPEeaIQ-hA1qOqOA" base_Element="_9Qht4JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9Qi8AZGPEeaIQ-hA1qOqOA" base_Element="_9QiU8ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QkKIJGPEeaIQ-hA1qOqOA" base_Element="_9QjjEJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Generics xmi:id="_9QkxMJGPEeaIQ-hA1qOqOA" genericsValue="TInstrument" base_Element="_9QkKIZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QkxMpGPEeaIQ-hA1qOqOA" base_Element="_9QkKIZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QlYQpGPEeaIQ-hA1qOqOA" base_Element="_9QlYQJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9Ql_UpGPEeaIQ-hA1qOqOA" base_Element="_9Ql_UJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QmmYpGPEeaIQ-hA1qOqOA" base_Element="_9QmmYJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QnNcpGPEeaIQ-hA1qOqOA" base_Element="_9QnNcJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9Qn0gpGPEeaIQ-hA1qOqOA" base_Element="_9Qn0gJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QpCoJGPEeaIQ-hA1qOqOA" base_Element="_9QobkJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QpCo5GPEeaIQ-hA1qOqOA" base_Element="_9QpCoZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Generics xmi:id="_9QppsZGPEeaIQ-hA1qOqOA" genericsValue="TInstrument" base_Element="_9QppsJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:LegacyStyledElement xmi:id="_9QqQwZGPEeaIQ-hA1qOqOA" base_Element="_9QppsJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Annotations xmi:id="_9QqQwpGPEeaIQ-hA1qOqOA" base_Element="_9QppsJGPEeaIQ-hA1qOqOA">
    <annotations xmi:id="_9Qq30JGPEeaIQ-hA1qOqOA" name="SuppressWarnings">
      <annotationParameters xmi:id="_9Qq30ZGPEeaIQ-hA1qOqOA" skipName="true" skipArray="true">
        <valueSpecifications xmi:type="uml:LiteralString" xmi:id="_9R2jkJGPEeaIQ-hA1qOqOA" value="&quot;unchecked&quot;"/>
      </annotationParameters>
    </annotations>
  </UMLLabProfile:Annotations>
  <UMLLabProfile:Reference xmi:id="_9SHCQJGPEeaIQ-hA1qOqOA" base_Element="_9SGbMJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SIQYJGPEeaIQ-hA1qOqOA" base_Element="_9SHpUJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SJegJGPEeaIQ-hA1qOqOA" base_Element="_9SIQYZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SKFkJGPEeaIQ-hA1qOqOA" base_Element="_9SJegZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SL6wJGPEeaIQ-hA1qOqOA" base_Element="_9SLTsJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SMh0JGPEeaIQ-hA1qOqOA" base_Element="_9SL6wZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SNI4JGPEeaIQ-hA1qOqOA" base_Element="_9SMh0ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SOXAJGPEeaIQ-hA1qOqOA" base_Element="_9SNv8JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SO-EJGPEeaIQ-hA1qOqOA" base_Element="_9SOXAZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SPlIJGPEeaIQ-hA1qOqOA" base_Element="_9SO-EZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SQMMJGPEeaIQ-hA1qOqOA" base_Element="_9SPlIZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SQzQJGPEeaIQ-hA1qOqOA" base_Element="_9SQMMZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SSocJGPEeaIQ-hA1qOqOA" base_Element="_9SRaUJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9STPgJGPEeaIQ-hA1qOqOA" base_Element="_9SSocZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9ST2kJGPEeaIQ-hA1qOqOA" base_Element="_9STPgZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SUdoJGPEeaIQ-hA1qOqOA" base_Element="_9ST2kZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SVEsJGPEeaIQ-hA1qOqOA" base_Element="_9SUdoZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SVrwJGPEeaIQ-hA1qOqOA" base_Element="_9SVEsZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SW54JGPEeaIQ-hA1qOqOA" base_Element="_9SWS0JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SW545GPEeaIQ-hA1qOqOA" base_Element="_9SW54ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SXg8pGPEeaIQ-hA1qOqOA" base_Element="_9SXg8JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SYIAJGPEeaIQ-hA1qOqOA" base_Element="_9SXg85GPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SYvEJGPEeaIQ-hA1qOqOA" base_Element="_9SYIAZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SZWIJGPEeaIQ-hA1qOqOA" base_Element="_9SYvEZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SZ9MJGPEeaIQ-hA1qOqOA" base_Element="_9SZWIZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SZ9M5GPEeaIQ-hA1qOqOA" base_Element="_9SZ9MZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SakQpGPEeaIQ-hA1qOqOA" base_Element="_9SakQJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SbLUpGPEeaIQ-hA1qOqOA" base_Element="_9SbLUJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SbyYpGPEeaIQ-hA1qOqOA" base_Element="_9SbyYJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SdnkJGPEeaIQ-hA1qOqOA" base_Element="_9SdAgJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SeOoJGPEeaIQ-hA1qOqOA" base_Element="_9SdnkZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9Se1sJGPEeaIQ-hA1qOqOA" base_Element="_9SeOoZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SfcwJGPEeaIQ-hA1qOqOA" base_Element="_9Se1sZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9Sfcw5GPEeaIQ-hA1qOqOA" base_Element="_9SfcwZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SgD0pGPEeaIQ-hA1qOqOA" base_Element="_9SgD0JGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9Sgq4JGPEeaIQ-hA1qOqOA" base_Element="_9SgD05GPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9ShR8JGPEeaIQ-hA1qOqOA" base_Element="_9Sgq4ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9ShR85GPEeaIQ-hA1qOqOA" base_Element="_9ShR8ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SigEJGPEeaIQ-hA1qOqOA" base_Element="_9Sh5AJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SjHIJGPEeaIQ-hA1qOqOA" base_Element="_9SigEZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SjHI5GPEeaIQ-hA1qOqOA" base_Element="_9SjHIZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SjuMJGPEeaIQ-hA1qOqOA" base_Element="_9SjHJJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SkVQJGPEeaIQ-hA1qOqOA" base_Element="_9SjuMZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9Sk8UJGPEeaIQ-hA1qOqOA" base_Element="_9SkVQZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SmKcJGPEeaIQ-hA1qOqOA" base_Element="_9Sk8UZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SmxgJGPEeaIQ-hA1qOqOA" base_Element="_9SmKcZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SnYkJGPEeaIQ-hA1qOqOA" base_Element="_9SmxgZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9Sn_oJGPEeaIQ-hA1qOqOA" base_Element="_9SnYkZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SomsJGPEeaIQ-hA1qOqOA" base_Element="_9Sn_oZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SpNwJGPEeaIQ-hA1qOqOA" base_Element="_9SomsZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9Sp00JGPEeaIQ-hA1qOqOA" base_Element="_9SpNwZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SrC8JGPEeaIQ-hA1qOqOA" base_Element="_9Sp00ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SrqAJGPEeaIQ-hA1qOqOA" base_Element="_9SrC8ZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SsREJGPEeaIQ-hA1qOqOA" base_Element="_9SrqAZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9StfMJGPEeaIQ-hA1qOqOA" base_Element="_9Ss4IJGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SuGQJGPEeaIQ-hA1qOqOA" base_Element="_9StfMZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SutUJGPEeaIQ-hA1qOqOA" base_Element="_9SuGQZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SutU5GPEeaIQ-hA1qOqOA" base_Element="_9SutUZGPEeaIQ-hA1qOqOA"/>
  <UMLLabProfile:Reference xmi:id="_9SwigJGPEeaIQ-hA1qOqOA" base_Element="_9SvUYJGPEeaIQ-hA1qOqOA"/>
</xmi:XMI>
